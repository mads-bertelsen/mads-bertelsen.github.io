
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Visualizing what happens in Union master &#8212; McStasScript  documentation</title>
    
  <link href="../_static/css/theme.css" rel="stylesheet">
  <link href="../_static/css/index.ff1ffe594081f20da1ef19478df9384b.css" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-book-theme.css?digest=c3fdc42140077d1ad13ad2f1588a4309" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    
  <link rel="preload" as="script" href="../_static/js/index.be7d3bbb2ef33a8344ce.js">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../_static/sphinx-book-theme.d59cb220de22ca1c485ebbdc042f0030.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Using conditional component to modify loggers" href="Union_tutorial_4_conditionals.html" />
    <link rel="prev" title="Advanced geometry using the Union components" href="Union_tutorial_2_geometry.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../index.html">
      
      
      
      <h1 class="site-logo" id="site-title">McStasScript  documentation</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Getting started
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../getting_started/overview.html">
   Overview
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../getting_started/installation.html">
   Installation
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../getting_started/version_history.html">
   Version history
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../getting_started/quick_start.html">
   Quick start
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  User guide
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../user_guide/instrument_object.html">
   Instrument object
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../user_guide/component_object.html">
   Component object
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../user_guide/parameters_and_variables.html">
   Parameters and variables
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../user_guide/data.html">
   Data
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../user_guide/plotting.html">
   Plotting
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../user_guide/functions.html">
   Functions
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../user_guide/instrument_reader.html">
   Instrument reader
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  McStasScript Tutorial
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="McStasScript_tutorial_1_the_basics.html">
   McStasScript introduction
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="McStasScript_tutorial_2_SPLIT.html">
   Advanced McStas features:  SPLIT
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="McStasScript_tutorial_3_EXTEND_and_WHEN.html">
   Advanced McStas features: EXTEND and WHEN
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="McStasScript_tutorial_4_JUMP.html">
   Advanced McStas features: JUMP
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  McStas Union Tutorial
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="Union_tutorial_1_processes_and_materials.html">
   The Union components
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Union_tutorial_2_geometry.html">
   Advanced geometry using the Union components
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Visualizing what happens in Union master
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Union_tutorial_4_conditionals.html">
   Using conditional component to modify loggers
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Union_tutorial_5_masks.html">
   Union tutorial on masks
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Union_tutorial_6_Exit_and_number_of_activations.html">
   Advanced geometry component concepts: Exit geometry and number of activations
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Union_tutorial_7_Tagging_history.html">
   Union tagging system
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Reference
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../_autosummary/mcstasscript.html">
   mcstasscript
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../_autosummary/mcstasscript.data.html">
     mcstasscript.data
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
    <label for="toctree-checkbox-2">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.data.McStasDataFormat.html">
       mcstasscript.data.McStasDataFormat
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
      <label for="toctree-checkbox-3">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.data.McStasDataFormat.McStasFormat.html">
         mcstasscript.data.McStasDataFormat.McStasFormat
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.data.data.html">
       mcstasscript.data.data
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/>
      <label for="toctree-checkbox-4">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.data.data.McStasData.html">
         mcstasscript.data.data.McStasData
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.data.data.McStasDataBinned.html">
         mcstasscript.data.data.McStasDataBinned
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.data.data.McStasDataEvent.html">
         mcstasscript.data.data.McStasDataEvent
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.data.data.McStasMetaData.html">
         mcstasscript.data.data.McStasMetaData
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.data.data.McStasPlotOptions.html">
         mcstasscript.data.data.McStasPlotOptions
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.data.pyvinylData.html">
       mcstasscript.data.pyvinylData
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/>
      <label for="toctree-checkbox-5">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.data.pyvinylData.pyvinylMcStasData.html">
         mcstasscript.data.pyvinylData.pyvinylMcStasData
        </a>
       </li>
      </ul>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../_autosummary/mcstasscript.helper.html">
     mcstasscript.helper
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/>
    <label for="toctree-checkbox-6">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.helper.component_reader.html">
       mcstasscript.helper.component_reader
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/>
      <label for="toctree-checkbox-7">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.helper.component_reader.ComponentInfo.html">
         mcstasscript.helper.component_reader.ComponentInfo
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.helper.component_reader.ComponentReader.html">
         mcstasscript.helper.component_reader.ComponentReader
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.helper.exceptions.html">
       mcstasscript.helper.exceptions
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" type="checkbox"/>
      <label for="toctree-checkbox-8">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.helper.exceptions.McStasError.html">
         mcstasscript.helper.exceptions.McStasError
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.helper.formatting.html">
       mcstasscript.helper.formatting
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" type="checkbox"/>
      <label for="toctree-checkbox-9">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.helper.formatting.is_legal_filename.html">
         mcstasscript.helper.formatting.is_legal_filename
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.helper.formatting.is_legal_parameter.html">
         mcstasscript.helper.formatting.is_legal_parameter
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.helper.formatting.bcolors.html">
         mcstasscript.helper.formatting.bcolors
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.helper.managed_mcrun.html">
       mcstasscript.helper.managed_mcrun
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" type="checkbox"/>
      <label for="toctree-checkbox-10">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.helper.managed_mcrun.load_metadata.html">
         mcstasscript.helper.managed_mcrun.load_metadata
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.helper.managed_mcrun.load_monitor.html">
         mcstasscript.helper.managed_mcrun.load_monitor
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.helper.managed_mcrun.load_results.html">
         mcstasscript.helper.managed_mcrun.load_results
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.helper.managed_mcrun.ManagedMcrun.html">
         mcstasscript.helper.managed_mcrun.ManagedMcrun
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.helper.mcstas_objects.html">
       mcstasscript.helper.mcstas_objects
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" type="checkbox"/>
      <label for="toctree-checkbox-11">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.helper.mcstas_objects.provide_parameter.html">
         mcstasscript.helper.mcstas_objects.provide_parameter
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.helper.mcstas_objects.write_parameter.html">
         mcstasscript.helper.mcstas_objects.write_parameter
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.helper.mcstas_objects.Component.html">
         mcstasscript.helper.mcstas_objects.Component
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.helper.mcstas_objects.DeclareVariable.html">
         mcstasscript.helper.mcstas_objects.DeclareVariable
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../_autosummary/mcstasscript.helper.plot_helper.html">
       mcstasscript.helper.plot_helper
      </a>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.helper.unpickler.html">
       mcstasscript.helper.unpickler
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" type="checkbox"/>
      <label for="toctree-checkbox-12">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.helper.unpickler.CustomMcStasUnpickler.html">
         mcstasscript.helper.unpickler.CustomMcStasUnpickler
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.helper.unpickler.CustomMcXtraceUnpickler.html">
         mcstasscript.helper.unpickler.CustomMcXtraceUnpickler
        </a>
       </li>
      </ul>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../_autosummary/mcstasscript.instr_reader.html">
     mcstasscript.instr_reader
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" type="checkbox"/>
    <label for="toctree-checkbox-13">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.instr_reader.control.html">
       mcstasscript.instr_reader.control
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-14" name="toctree-checkbox-14" type="checkbox"/>
      <label for="toctree-checkbox-14">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.instr_reader.control.InstrumentReader.html">
         mcstasscript.instr_reader.control.InstrumentReader
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.instr_reader.read_declare.html">
       mcstasscript.instr_reader.read_declare
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-15" name="toctree-checkbox-15" type="checkbox"/>
      <label for="toctree-checkbox-15">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.instr_reader.read_declare.DeclareReader.html">
         mcstasscript.instr_reader.read_declare.DeclareReader
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.instr_reader.read_definition.html">
       mcstasscript.instr_reader.read_definition
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-16" name="toctree-checkbox-16" type="checkbox"/>
      <label for="toctree-checkbox-16">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.instr_reader.read_definition.DefinitionReader.html">
         mcstasscript.instr_reader.read_definition.DefinitionReader
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.instr_reader.read_finally.html">
       mcstasscript.instr_reader.read_finally
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-17" name="toctree-checkbox-17" type="checkbox"/>
      <label for="toctree-checkbox-17">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.instr_reader.read_finally.FinallyReader.html">
         mcstasscript.instr_reader.read_finally.FinallyReader
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.instr_reader.read_initialize.html">
       mcstasscript.instr_reader.read_initialize
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-18" name="toctree-checkbox-18" type="checkbox"/>
      <label for="toctree-checkbox-18">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.instr_reader.read_initialize.InitializeReader.html">
         mcstasscript.instr_reader.read_initialize.InitializeReader
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.instr_reader.read_trace.html">
       mcstasscript.instr_reader.read_trace
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-19" name="toctree-checkbox-19" type="checkbox"/>
      <label for="toctree-checkbox-19">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.instr_reader.read_trace.TraceReader.html">
         mcstasscript.instr_reader.read_trace.TraceReader
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.instr_reader.util.html">
       mcstasscript.instr_reader.util
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-20" name="toctree-checkbox-20" type="checkbox"/>
      <label for="toctree-checkbox-20">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.instr_reader.util.SectionReader.html">
         mcstasscript.instr_reader.util.SectionReader
        </a>
       </li>
      </ul>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../_autosummary/mcstasscript.integration_tests.html">
     mcstasscript.integration_tests
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-21" name="toctree-checkbox-21" type="checkbox"/>
    <label for="toctree-checkbox-21">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.integration_tests.test_complex_instrument.html">
       mcstasscript.integration_tests.test_complex_instrument
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-22" name="toctree-checkbox-22" type="checkbox"/>
      <label for="toctree-checkbox-22">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.integration_tests.test_complex_instrument.setup_complex_instrument.html">
         mcstasscript.integration_tests.test_complex_instrument.setup_complex_instrument
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.integration_tests.test_complex_instrument.FakeChange.html">
         mcstasscript.integration_tests.test_complex_instrument.FakeChange
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.integration_tests.test_complex_instrument.TestComplexInstrument.html">
         mcstasscript.integration_tests.test_complex_instrument.TestComplexInstrument
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.integration_tests.test_simple_instrument.html">
       mcstasscript.integration_tests.test_simple_instrument
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-23" name="toctree-checkbox-23" type="checkbox"/>
      <label for="toctree-checkbox-23">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.integration_tests.test_simple_instrument.setup_simple_instrument.html">
         mcstasscript.integration_tests.test_simple_instrument.setup_simple_instrument
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.integration_tests.test_simple_instrument.setup_simple_instrument_input_path.html">
         mcstasscript.integration_tests.test_simple_instrument.setup_simple_instrument_input_path
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.integration_tests.test_simple_instrument.setup_simple_slit_instrument.html">
         mcstasscript.integration_tests.test_simple_instrument.setup_simple_slit_instrument
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.integration_tests.test_simple_instrument.TestSimpleInstrument.html">
         mcstasscript.integration_tests.test_simple_instrument.TestSimpleInstrument
        </a>
       </li>
      </ul>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../_autosummary/mcstasscript.interface.html">
     mcstasscript.interface
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-24" name="toctree-checkbox-24" type="checkbox"/>
    <label for="toctree-checkbox-24">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.interface.functions.html">
       mcstasscript.interface.functions
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-25" name="toctree-checkbox-25" type="checkbox"/>
      <label for="toctree-checkbox-25">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.interface.functions.load_data.html">
         mcstasscript.interface.functions.load_data
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.interface.functions.load_metadata.html">
         mcstasscript.interface.functions.load_metadata
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.interface.functions.load_monitor.html">
         mcstasscript.interface.functions.load_monitor
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.interface.functions.name_plot_options.html">
         mcstasscript.interface.functions.name_plot_options
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.interface.functions.name_search.html">
         mcstasscript.interface.functions.name_search
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.interface.functions.Configurator.html">
         mcstasscript.interface.functions.Configurator
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.interface.instr.html">
       mcstasscript.interface.instr
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-26" name="toctree-checkbox-26" type="checkbox"/>
      <label for="toctree-checkbox-26">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.interface.instr.McCode_instr.html">
         mcstasscript.interface.instr.McCode_instr
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.interface.instr.McStas_instr.html">
         mcstasscript.interface.instr.McStas_instr
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.interface.instr.McXtrace_instr.html">
         mcstasscript.interface.instr.McXtrace_instr
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.interface.plotter.html">
       mcstasscript.interface.plotter
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-27" name="toctree-checkbox-27" type="checkbox"/>
      <label for="toctree-checkbox-27">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.interface.plotter.make_animation.html">
         mcstasscript.interface.plotter.make_animation
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.interface.plotter.make_plot.html">
         mcstasscript.interface.plotter.make_plot
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.interface.plotter.make_sub_plot.html">
         mcstasscript.interface.plotter.make_sub_plot
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.interface.reader.html">
       mcstasscript.interface.reader
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-28" name="toctree-checkbox-28" type="checkbox"/>
      <label for="toctree-checkbox-28">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.interface.reader.McStas_file.html">
         mcstasscript.interface.reader.McStas_file
        </a>
       </li>
      </ul>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../_autosummary/mcstasscript.jb_interface.html">
     mcstasscript.jb_interface
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-29" name="toctree-checkbox-29" type="checkbox"/>
    <label for="toctree-checkbox-29">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.jb_interface.plot_interface.html">
       mcstasscript.jb_interface.plot_interface
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-30" name="toctree-checkbox-30" type="checkbox"/>
      <label for="toctree-checkbox-30">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.jb_interface.plot_interface.ColormapDropdown.html">
         mcstasscript.jb_interface.plot_interface.ColormapDropdown
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.jb_interface.plot_interface.LogCheckbox.html">
         mcstasscript.jb_interface.plot_interface.LogCheckbox
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.jb_interface.plot_interface.MonitorDropdown.html">
         mcstasscript.jb_interface.plot_interface.MonitorDropdown
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.jb_interface.plot_interface.OrdersOfMagField.html">
         mcstasscript.jb_interface.plot_interface.OrdersOfMagField
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.jb_interface.plot_interface.PlotInterface.html">
         mcstasscript.jb_interface.plot_interface.PlotInterface
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.jb_interface.show_interface.html">
       mcstasscript.jb_interface.show_interface
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-31" name="toctree-checkbox-31" type="checkbox"/>
      <label for="toctree-checkbox-31">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.jb_interface.show_interface.show.html">
         mcstasscript.jb_interface.show_interface.show
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.jb_interface.show_interface.show_instrunent.html">
         mcstasscript.jb_interface.show_interface.show_instrunent
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.jb_interface.show_interface.show_plot.html">
         mcstasscript.jb_interface.show_interface.show_plot
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.jb_interface.simulation_interface.html">
       mcstasscript.jb_interface.simulation_interface
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-32" name="toctree-checkbox-32" type="checkbox"/>
      <label for="toctree-checkbox-32">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.jb_interface.simulation_interface.add_data.html">
         mcstasscript.jb_interface.simulation_interface.add_data
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.jb_interface.simulation_interface.ParameterWidget.html">
         mcstasscript.jb_interface.simulation_interface.ParameterWidget
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.jb_interface.simulation_interface.SimInterface.html">
         mcstasscript.jb_interface.simulation_interface.SimInterface
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.jb_interface.widget_helpers.html">
       mcstasscript.jb_interface.widget_helpers
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-33" name="toctree-checkbox-33" type="checkbox"/>
      <label for="toctree-checkbox-33">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.jb_interface.widget_helpers.get_parameter_default.html">
         mcstasscript.jb_interface.widget_helpers.get_parameter_default
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.jb_interface.widget_helpers.parameter_has_default.html">
         mcstasscript.jb_interface.widget_helpers.parameter_has_default
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.jb_interface.widget_helpers.HiddenPrints.html">
         mcstasscript.jb_interface.widget_helpers.HiddenPrints
        </a>
       </li>
      </ul>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../_autosummary/mcstasscript.tests.html">
     mcstasscript.tests
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-34" name="toctree-checkbox-34" type="checkbox"/>
    <label for="toctree-checkbox-34">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.tests.helpers_for_tests.html">
       mcstasscript.tests.helpers_for_tests
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-35" name="toctree-checkbox-35" type="checkbox"/>
      <label for="toctree-checkbox-35">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.helpers_for_tests.WorkInTestDir.html">
         mcstasscript.tests.helpers_for_tests.WorkInTestDir
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_ComponentReader.html">
       mcstasscript.tests.test_ComponentReader
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-36" name="toctree-checkbox-36" type="checkbox"/>
      <label for="toctree-checkbox-36">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_ComponentReader.setup_component_reader.html">
         mcstasscript.tests.test_ComponentReader.setup_component_reader
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_ComponentReader.setup_component_reader_input_path.html">
         mcstasscript.tests.test_ComponentReader.setup_component_reader_input_path
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_ComponentReader.TestComponentReader.html">
         mcstasscript.tests.test_ComponentReader.TestComponentReader
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_Configurator.html">
       mcstasscript.tests.test_Configurator
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-37" name="toctree-checkbox-37" type="checkbox"/>
      <label for="toctree-checkbox-37">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_Configurator.setup_configurator.html">
         mcstasscript.tests.test_Configurator.setup_configurator
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_Configurator.setup_expected_file.html">
         mcstasscript.tests.test_Configurator.setup_expected_file
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_Configurator.TestConfigurator.html">
         mcstasscript.tests.test_Configurator.TestConfigurator
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_Instr.html">
       mcstasscript.tests.test_Instr
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-38" name="toctree-checkbox-38" type="checkbox"/>
      <label for="toctree-checkbox-38">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_Instr.setup_instr_no_path.html">
         mcstasscript.tests.test_Instr.setup_instr_no_path
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_Instr.setup_instr_root_path.html">
         mcstasscript.tests.test_Instr.setup_instr_root_path
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_Instr.setup_instr_with_input_path.html">
         mcstasscript.tests.test_Instr.setup_instr_with_input_path
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_Instr.setup_instr_with_input_path_relative.html">
         mcstasscript.tests.test_Instr.setup_instr_with_input_path_relative
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_Instr.setup_instr_with_path.html">
         mcstasscript.tests.test_Instr.setup_instr_with_path
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_Instr.setup_populated_instr.html">
         mcstasscript.tests.test_Instr.setup_populated_instr
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_Instr.setup_populated_instr_with_dummy_path.html">
         mcstasscript.tests.test_Instr.setup_populated_instr_with_dummy_path
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_Instr.setup_populated_with_some_options_instr.html">
         mcstasscript.tests.test_Instr.setup_populated_with_some_options_instr
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_Instr.setup_populated_x_ray_instr.html">
         mcstasscript.tests.test_Instr.setup_populated_x_ray_instr
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_Instr.setup_populated_x_ray_instr_with_dummy_path.html">
         mcstasscript.tests.test_Instr.setup_populated_x_ray_instr_with_dummy_path
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_Instr.setup_x_ray_instr_no_path.html">
         mcstasscript.tests.test_Instr.setup_x_ray_instr_no_path
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_Instr.setup_x_ray_instr_root_path.html">
         mcstasscript.tests.test_Instr.setup_x_ray_instr_root_path
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_Instr.setup_x_ray_instr_with_path.html">
         mcstasscript.tests.test_Instr.setup_x_ray_instr_with_path
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_Instr.TestMcStas_instr.html">
         mcstasscript.tests.test_Instr.TestMcStas_instr
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_Instr_reader.html">
       mcstasscript.tests.test_Instr_reader
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-39" name="toctree-checkbox-39" type="checkbox"/>
      <label for="toctree-checkbox-39">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_Instr_reader.blockPrint.html">
         mcstasscript.tests.test_Instr_reader.blockPrint
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_Instr_reader.enablePrint.html">
         mcstasscript.tests.test_Instr_reader.enablePrint
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_Instr_reader.set_dummy_dir.html">
         mcstasscript.tests.test_Instr_reader.set_dummy_dir
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_Instr_reader.setup_standard.html">
         mcstasscript.tests.test_Instr_reader.setup_standard
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_Instr_reader.setup_standard_auto_instr.html">
         mcstasscript.tests.test_Instr_reader.setup_standard_auto_instr
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_Instr_reader.TestInstrReader.html">
         mcstasscript.tests.test_Instr_reader.TestInstrReader
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_ManagedMcrun.html">
       mcstasscript.tests.test_ManagedMcrun
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-40" name="toctree-checkbox-40" type="checkbox"/>
      <label for="toctree-checkbox-40">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_ManagedMcrun.TestManagedMcrun.html">
         mcstasscript.tests.test_ManagedMcrun.TestManagedMcrun
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_ManagedMcrun.Test_load_functions.html">
         mcstasscript.tests.test_ManagedMcrun.Test_load_functions
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_McStasData.html">
       mcstasscript.tests.test_McStasData
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-41" name="toctree-checkbox-41" type="checkbox"/>
      <label for="toctree-checkbox-41">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_McStasData.set_dummy_McStasDataBinned_1d.html">
         mcstasscript.tests.test_McStasData.set_dummy_McStasDataBinned_1d
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_McStasData.set_dummy_McStasDataBinned_2d.html">
         mcstasscript.tests.test_McStasData.set_dummy_McStasDataBinned_2d
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_McStasData.set_dummy_MetaDataBinned_1d.html">
         mcstasscript.tests.test_McStasData.set_dummy_MetaDataBinned_1d
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_McStasData.set_dummy_MetaDataBinned_2d.html">
         mcstasscript.tests.test_McStasData.set_dummy_MetaDataBinned_2d
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_McStasData.TestMcStasData.html">
         mcstasscript.tests.test_McStasData.TestMcStasData
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_McStasMetaData.html">
       mcstasscript.tests.test_McStasMetaData
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-42" name="toctree-checkbox-42" type="checkbox"/>
      <label for="toctree-checkbox-42">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_McStasMetaData.TestMcStasMetaData.html">
         mcstasscript.tests.test_McStasMetaData.TestMcStasMetaData
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_McStasPlotOptions.html">
       mcstasscript.tests.test_McStasPlotOptions
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-43" name="toctree-checkbox-43" type="checkbox"/>
      <label for="toctree-checkbox-43">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_McStasPlotOptions.TestMcStasPlotOptions.html">
         mcstasscript.tests.test_McStasPlotOptions.TestMcStasPlotOptions
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_Plotter.html">
       mcstasscript.tests.test_Plotter
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-44" name="toctree-checkbox-44" type="checkbox"/>
      <label for="toctree-checkbox-44">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_Plotter.get_dummy_McStasDataBinned_1d.html">
         mcstasscript.tests.test_Plotter.get_dummy_McStasDataBinned_1d
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_Plotter.get_dummy_McStasDataBinned_2d.html">
         mcstasscript.tests.test_Plotter.get_dummy_McStasDataBinned_2d
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_Plotter.get_dummy_MetaDataBinned_1d.html">
         mcstasscript.tests.test_Plotter.get_dummy_MetaDataBinned_1d
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_Plotter.get_dummy_MetaDataBinned_2d.html">
         mcstasscript.tests.test_Plotter.get_dummy_MetaDataBinned_2d
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_Plotter.TestPlotterHelpers.html">
         mcstasscript.tests.test_Plotter.TestPlotterHelpers
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_add_data.html">
       mcstasscript.tests.test_add_data
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-45" name="toctree-checkbox-45" type="checkbox"/>
      <label for="toctree-checkbox-45">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_add_data.set_dummy_McStasDataBinned_1d.html">
         mcstasscript.tests.test_add_data.set_dummy_McStasDataBinned_1d
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_add_data.set_dummy_McStasDataBinned_2d.html">
         mcstasscript.tests.test_add_data.set_dummy_McStasDataBinned_2d
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_add_data.set_dummy_MetaDataBinned_1d.html">
         mcstasscript.tests.test_add_data.set_dummy_MetaDataBinned_1d
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_add_data.set_dummy_MetaDataBinned_2d.html">
         mcstasscript.tests.test_add_data.set_dummy_MetaDataBinned_2d
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_add_data.Test_add_data.html">
         mcstasscript.tests.test_add_data.Test_add_data
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_component.html">
       mcstasscript.tests.test_component
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-46" name="toctree-checkbox-46" type="checkbox"/>
      <label for="toctree-checkbox-46">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_component.setup_Component_all_keywords.html">
         mcstasscript.tests.test_component.setup_Component_all_keywords
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_component.setup_Component_relative.html">
         mcstasscript.tests.test_component.setup_Component_relative
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_component.setup_Component_with_parameters.html">
         mcstasscript.tests.test_component.setup_Component_with_parameters
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_component.TestComponent.html">
         mcstasscript.tests.test_component.TestComponent
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_declare_variable.html">
       mcstasscript.tests.test_declare_variable
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-47" name="toctree-checkbox-47" type="checkbox"/>
      <label for="toctree-checkbox-47">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_declare_variable.Test_DeclareVariable.html">
         mcstasscript.tests.test_declare_variable.Test_DeclareVariable
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_dump_and_load.html">
       mcstasscript.tests.test_dump_and_load
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-48" name="toctree-checkbox-48" type="checkbox"/>
      <label for="toctree-checkbox-48">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_dump_and_load.setup_instr_no_path.html">
         mcstasscript.tests.test_dump_and_load.setup_instr_no_path
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_dump_and_load.setup_instr_root_path.html">
         mcstasscript.tests.test_dump_and_load.setup_instr_root_path
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_dump_and_load.setup_instr_with_input_path.html">
         mcstasscript.tests.test_dump_and_load.setup_instr_with_input_path
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_dump_and_load.setup_instr_with_input_path_relative.html">
         mcstasscript.tests.test_dump_and_load.setup_instr_with_input_path_relative
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_dump_and_load.setup_instr_with_path.html">
         mcstasscript.tests.test_dump_and_load.setup_instr_with_path
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_dump_and_load.setup_populated_instr.html">
         mcstasscript.tests.test_dump_and_load.setup_populated_instr
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_dump_and_load.setup_populated_instr_with_dummy_path.html">
         mcstasscript.tests.test_dump_and_load.setup_populated_instr_with_dummy_path
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_dump_and_load.setup_populated_with_some_options_instr.html">
         mcstasscript.tests.test_dump_and_load.setup_populated_with_some_options_instr
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_dump_and_load.setup_populated_x_ray_instr.html">
         mcstasscript.tests.test_dump_and_load.setup_populated_x_ray_instr
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_dump_and_load.setup_populated_x_ray_instr_with_dummy_path.html">
         mcstasscript.tests.test_dump_and_load.setup_populated_x_ray_instr_with_dummy_path
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_dump_and_load.setup_x_ray_instr_no_path.html">
         mcstasscript.tests.test_dump_and_load.setup_x_ray_instr_no_path
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_dump_and_load.setup_x_ray_instr_root_path.html">
         mcstasscript.tests.test_dump_and_load.setup_x_ray_instr_root_path
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_dump_and_load.setup_x_ray_instr_with_path.html">
         mcstasscript.tests.test_dump_and_load.setup_x_ray_instr_with_path
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_dump_and_load.TestDumpAndLoad.html">
         mcstasscript.tests.test_dump_and_load.TestDumpAndLoad
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_formatting.html">
       mcstasscript.tests.test_formatting
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-49" name="toctree-checkbox-49" type="checkbox"/>
      <label for="toctree-checkbox-49">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_formatting.TestFormatting.html">
         mcstasscript.tests.test_formatting.TestFormatting
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_functions.html">
       mcstasscript.tests.test_functions
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-50" name="toctree-checkbox-50" type="checkbox"/>
      <label for="toctree-checkbox-50">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_functions.set_dummy_McStasDataBinned_1d.html">
         mcstasscript.tests.test_functions.set_dummy_McStasDataBinned_1d
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_functions.set_dummy_McStasDataBinned_2d.html">
         mcstasscript.tests.test_functions.set_dummy_McStasDataBinned_2d
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_functions.set_dummy_MetaDataBinned_1d.html">
         mcstasscript.tests.test_functions.set_dummy_MetaDataBinned_1d
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_functions.set_dummy_MetaDataBinned_2d.html">
         mcstasscript.tests.test_functions.set_dummy_MetaDataBinned_2d
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_functions.setup_McStasData_array.html">
         mcstasscript.tests.test_functions.setup_McStasData_array
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_functions.setup_McStasData_array_repeat.html">
         mcstasscript.tests.test_functions.setup_McStasData_array_repeat
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_functions.Test_load_data.html">
         mcstasscript.tests.test_functions.Test_load_data
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_functions.Test_load_metadata.html">
         mcstasscript.tests.test_functions.Test_load_metadata
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_functions.Test_load_monitor.html">
         mcstasscript.tests.test_functions.Test_load_monitor
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_functions.Test_name_plot_options.html">
         mcstasscript.tests.test_functions.Test_name_plot_options
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_functions.Test_name_search.html">
         mcstasscript.tests.test_functions.Test_name_search
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_parameter_variable.html">
       mcstasscript.tests.test_parameter_variable
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-51" name="toctree-checkbox-51" type="checkbox"/>
      <label for="toctree-checkbox-51">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_parameter_variable.Test_ParameterVariable.html">
         mcstasscript.tests.test_parameter_variable.Test_ParameterVariable
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_plot_interface.html">
       mcstasscript.tests.test_plot_interface
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-52" name="toctree-checkbox-52" type="checkbox"/>
      <label for="toctree-checkbox-52">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_plot_interface.fake_data.html">
         mcstasscript.tests.test_plot_interface.fake_data
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_plot_interface.set_dummy_McStasDataBinned_1d.html">
         mcstasscript.tests.test_plot_interface.set_dummy_McStasDataBinned_1d
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_plot_interface.set_dummy_McStasDataBinned_2d.html">
         mcstasscript.tests.test_plot_interface.set_dummy_McStasDataBinned_2d
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_plot_interface.set_dummy_MetaDataBinned_1d.html">
         mcstasscript.tests.test_plot_interface.set_dummy_MetaDataBinned_1d
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_plot_interface.set_dummy_MetaDataBinned_2d.html">
         mcstasscript.tests.test_plot_interface.set_dummy_MetaDataBinned_2d
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_plot_interface.FakeChange.html">
         mcstasscript.tests.test_plot_interface.FakeChange
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_plot_interface.TestPlotInterface.html">
         mcstasscript.tests.test_plot_interface.TestPlotInterface
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_simulation_interface.html">
       mcstasscript.tests.test_simulation_interface
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-53" name="toctree-checkbox-53" type="checkbox"/>
      <label for="toctree-checkbox-53">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_simulation_interface.setup_instr_root_path_McStas.html">
         mcstasscript.tests.test_simulation_interface.setup_instr_root_path_McStas
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_simulation_interface.setup_instr_root_path_McXtrace.html">
         mcstasscript.tests.test_simulation_interface.setup_instr_root_path_McXtrace
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_simulation_interface.setup_populated_instr_McStas.html">
         mcstasscript.tests.test_simulation_interface.setup_populated_instr_McStas
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_simulation_interface.setup_populated_instr_McXtrace.html">
         mcstasscript.tests.test_simulation_interface.setup_populated_instr_McXtrace
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_simulation_interface.FakeChange.html">
         mcstasscript.tests.test_simulation_interface.FakeChange
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_simulation_interface.TestSimulationInterface.html">
         mcstasscript.tests.test_simulation_interface.TestSimulationInterface
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_widget_helpers.html">
       mcstasscript.tests.test_widget_helpers
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-54" name="toctree-checkbox-54" type="checkbox"/>
      <label for="toctree-checkbox-54">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_widget_helpers.TestWidgetHelpers.html">
         mcstasscript.tests.test_widget_helpers.TestWidgetHelpers
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.tests.utilities.html">
       mcstasscript.tests.utilities
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-55" name="toctree-checkbox-55" type="checkbox"/>
      <label for="toctree-checkbox-55">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.utilities.work_dir_test.html">
         mcstasscript.tests.utilities.work_dir_test
        </a>
       </li>
      </ul>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../_autosummary/mcstasscript.tools.html">
     mcstasscript.tools
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-56" name="toctree-checkbox-56" type="checkbox"/>
    <label for="toctree-checkbox-56">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.tools.cryostat_builder.html">
       mcstasscript.tools.cryostat_builder
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-57" name="toctree-checkbox-57" type="checkbox"/>
      <label for="toctree-checkbox-57">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tools.cryostat_builder.Cryostat.html">
         mcstasscript.tools.cryostat_builder.Cryostat
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tools.cryostat_builder.Layer.html">
         mcstasscript.tools.cryostat_builder.Layer
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.tools.ncrystal_union.html">
       mcstasscript.tools.ncrystal_union
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-58" name="toctree-checkbox-58" type="checkbox"/>
      <label for="toctree-checkbox-58">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tools.ncrystal_union.add_ncrystal_union_material.html">
         mcstasscript.tools.ncrystal_union.add_ncrystal_union_material
        </a>
       </li>
      </ul>
     </li>
    </ul>
   </li>
  </ul>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Reference (libpyvinyl)
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../_autosummary/libpyvinyl.html">
   libpyvinyl
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-59" name="toctree-checkbox-59" type="checkbox"/>
  <label for="toctree-checkbox-59">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../_autosummary/libpyvinyl.AbstractBaseClass.html">
     libpyvinyl.AbstractBaseClass
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-60" name="toctree-checkbox-60" type="checkbox"/>
    <label for="toctree-checkbox-60">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../_autosummary/libpyvinyl.AbstractBaseClass.AbstractBaseClass.html">
       libpyvinyl.AbstractBaseClass.AbstractBaseClass
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../_autosummary/libpyvinyl.BaseCalculator.html">
     libpyvinyl.BaseCalculator
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../_autosummary/libpyvinyl.BaseData.html">
     libpyvinyl.BaseData
    </a>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../_autosummary/libpyvinyl.BaseFormat.html">
     libpyvinyl.BaseFormat
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-61" name="toctree-checkbox-61" type="checkbox"/>
    <label for="toctree-checkbox-61">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../_autosummary/libpyvinyl.BaseFormat.BaseFormat.html">
       libpyvinyl.BaseFormat.BaseFormat
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../_autosummary/libpyvinyl.Instrument.html">
     libpyvinyl.Instrument
    </a>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../_autosummary/libpyvinyl.Parameters.html">
     libpyvinyl.Parameters
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-62" name="toctree-checkbox-62" type="checkbox"/>
    <label for="toctree-checkbox-62">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/libpyvinyl.Parameters.Collections.html">
       libpyvinyl.Parameters.Collections
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-63" name="toctree-checkbox-63" type="checkbox"/>
      <label for="toctree-checkbox-63">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/libpyvinyl.Parameters.Collections.quantity_decode.html">
         libpyvinyl.Parameters.Collections.quantity_decode
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/libpyvinyl.Parameters.Collections.quantity_encode.html">
         libpyvinyl.Parameters.Collections.quantity_encode
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/libpyvinyl.Parameters.Collections.CalculatorParameters.html">
         libpyvinyl.Parameters.Collections.CalculatorParameters
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/libpyvinyl.Parameters.Collections.InstrumentParameters.html">
         libpyvinyl.Parameters.Collections.InstrumentParameters
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/libpyvinyl.Parameters.Collections.MasterParameter.html">
         libpyvinyl.Parameters.Collections.MasterParameter
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/libpyvinyl.Parameters.Collections.MasterParameters.html">
         libpyvinyl.Parameters.Collections.MasterParameters
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../_autosummary/libpyvinyl.Parameters.Parameter.html">
       libpyvinyl.Parameters.Parameter
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Theme by the <a href="https://ebp.jupyterbook.org">Executable Book Project</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../_sources/tutorial/Union_tutorial_3_loggers.ipynb.txt"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
                onclick="printPdf(this)" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/PaNOSC-ViNYL/McStasScript"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        <a class="issues-button"
            href="https://github.com/PaNOSC-ViNYL/McStasScript/issues/new?title=Issue%20on%20page%20%2Ftutorial/Union_tutorial_3_loggers.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        <a class="edit-button" href="https://github.com/PaNOSC-ViNYL/McStasScript/edit/mcstasscript_on_libpyvinyl/docs/tutorial/Union_tutorial_3_loggers.ipynb"><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Edit this page"><i class="fas fa-pencil-alt"></i>suggest edit</button></a>
    </div>
</div>

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show noprint">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav" aria-label="Page">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#set-up-materials-and-geometry-to-investigate">
   Set up materials and geometry to investigate
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#adding-union-logger-components">
   Adding Union logger components
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#setting-up-a-2d-space-logger">
     Setting up a 2D_space logger
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#running-the-simulation">
     Running the simulation
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#interpreting-the-data">
     Interpreting the data
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#logger-targets">
   Logger targets
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#scattering-order">
   Scattering order
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#demonstration-of-additional-logger-components">
   Demonstration of additional logger components
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#runnig-the-simulation">
     Runnig the simulation
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id1">
   Interpreting the data
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#animations-and-time-series">
   Animations and time series
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#creating-an-animation">
     Creating an animation
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#viewing-the-animation">
   Viewing the animation
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#optional-increasing-resolution">
     Optional: Increasing resolution
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id2">
   Viewing the animation
  </a>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Visualizing what happens in Union master</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#set-up-materials-and-geometry-to-investigate">
   Set up materials and geometry to investigate
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#adding-union-logger-components">
   Adding Union logger components
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#setting-up-a-2d-space-logger">
     Setting up a 2D_space logger
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#running-the-simulation">
     Running the simulation
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#interpreting-the-data">
     Interpreting the data
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#logger-targets">
   Logger targets
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#scattering-order">
   Scattering order
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#demonstration-of-additional-logger-components">
   Demonstration of additional logger components
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#runnig-the-simulation">
     Runnig the simulation
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id1">
   Interpreting the data
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#animations-and-time-series">
   Animations and time series
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#creating-an-animation">
     Creating an animation
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#viewing-the-animation">
   Viewing the animation
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#optional-increasing-resolution">
     Optional: Increasing resolution
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id2">
   Viewing the animation
  </a>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            
              <div>
                
  <div class="tex2jax_ignore mathjax_ignore section" id="visualizing-what-happens-in-union-master">
<h1>Visualizing what happens in Union master<a class="headerlink" href="#visualizing-what-happens-in-union-master" title="Permalink to this headline">¶</a></h1>
<p>One disadvantage to collecting all the simulation in the Union_master component, is that it is not possible to insert monitors between the parts to check on the beam. This issue is addressed by adding logger components that can record scattering and absorption events that occurs during the simulation. This notebook will show examples on the usage of loggers and their features.</p>
<div class="section" id="set-up-materials-and-geometry-to-investigate">
<h2>Set up materials and geometry to investigate<a class="headerlink" href="#set-up-materials-and-geometry-to-investigate" title="Permalink to this headline">¶</a></h2>
<p>First we set up the same mock cryostat we created in the advanced geometry tutorial to have an interesting system to investigate using the loggers.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">mcstasscript</span> <span class="k">as</span> <span class="nn">ms</span>
<span class="n">instrument</span> <span class="o">=</span> <span class="n">ms</span><span class="o">.</span><span class="n">McStas_instr</span><span class="p">(</span><span class="s2">&quot;python_tutorial&quot;</span><span class="p">,</span> <span class="n">input_path</span><span class="o">=</span><span class="s2">&quot;run_folder&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">Al_inc</span> <span class="o">=</span> <span class="n">instrument</span><span class="o">.</span><span class="n">add_component</span><span class="p">(</span><span class="s2">&quot;Al_inc&quot;</span><span class="p">,</span> <span class="s2">&quot;Incoherent_process&quot;</span><span class="p">)</span>
<span class="n">Al_inc</span><span class="o">.</span><span class="n">sigma</span> <span class="o">=</span> <span class="mf">0.0082</span>
<span class="n">Al_inc</span><span class="o">.</span><span class="n">unit_cell_volume</span> <span class="o">=</span> <span class="mf">66.4</span>

<span class="n">Al_pow</span> <span class="o">=</span> <span class="n">instrument</span><span class="o">.</span><span class="n">add_component</span><span class="p">(</span><span class="s2">&quot;Al_pow&quot;</span><span class="p">,</span> <span class="s2">&quot;Powder_process&quot;</span><span class="p">)</span>
<span class="n">Al_pow</span><span class="o">.</span><span class="n">reflections</span> <span class="o">=</span> <span class="s1">&#39;&quot;Al.laz&quot;&#39;</span>

<span class="n">Al</span> <span class="o">=</span> <span class="n">instrument</span><span class="o">.</span><span class="n">add_component</span><span class="p">(</span><span class="s2">&quot;Al&quot;</span><span class="p">,</span> <span class="s2">&quot;Union_make_material&quot;</span><span class="p">)</span>
<span class="n">Al</span><span class="o">.</span><span class="n">process_string</span> <span class="o">=</span> <span class="s1">&#39;&quot;Al_inc,Al_pow&quot;&#39;</span>
<span class="n">Al</span><span class="o">.</span><span class="n">my_absorption</span> <span class="o">=</span> <span class="mi">100</span><span class="o">*</span><span class="mf">0.231</span><span class="o">/</span><span class="mf">66.4</span> <span class="c1"># barns [m^2 E-28]*Å^3[m^3 E-30]=[m E-2], factor 100</span>

<span class="n">Sample_inc</span> <span class="o">=</span> <span class="n">instrument</span><span class="o">.</span><span class="n">add_component</span><span class="p">(</span><span class="s2">&quot;Sample_inc&quot;</span><span class="p">,</span> <span class="s2">&quot;Incoherent_process&quot;</span><span class="p">)</span>
<span class="n">Sample_inc</span><span class="o">.</span><span class="n">sigma</span> <span class="o">=</span> <span class="mf">3.4176</span>
<span class="n">Sample_inc</span><span class="o">.</span><span class="n">unit_cell_volume</span> <span class="o">=</span> <span class="mf">1079.1</span>

<span class="n">Sample_pow</span> <span class="o">=</span> <span class="n">instrument</span><span class="o">.</span><span class="n">add_component</span><span class="p">(</span><span class="s2">&quot;Sample_pow&quot;</span><span class="p">,</span> <span class="s2">&quot;Powder_process&quot;</span><span class="p">)</span>
<span class="n">Sample_pow</span><span class="o">.</span><span class="n">reflections</span> <span class="o">=</span> <span class="s1">&#39;&quot;Na2Ca3Al2F14.laz&quot;&#39;</span>

<span class="n">Sample</span> <span class="o">=</span> <span class="n">instrument</span><span class="o">.</span><span class="n">add_component</span><span class="p">(</span><span class="s2">&quot;Sample&quot;</span><span class="p">,</span> <span class="s2">&quot;Union_make_material&quot;</span><span class="p">)</span>
<span class="n">Sample</span><span class="o">.</span><span class="n">process_string</span> <span class="o">=</span> <span class="s1">&#39;&quot;Sample_inc,Sample_pow&quot;&#39;</span>
<span class="n">Sample</span><span class="o">.</span><span class="n">my_absorption</span> <span class="o">=</span> <span class="mi">100</span><span class="o">*</span><span class="mf">2.9464</span><span class="o">/</span><span class="mf">1079.1</span>

<span class="n">src</span> <span class="o">=</span> <span class="n">instrument</span><span class="o">.</span><span class="n">add_component</span><span class="p">(</span><span class="s2">&quot;source&quot;</span><span class="p">,</span> <span class="s2">&quot;Source_div&quot;</span><span class="p">)</span>
<span class="n">src</span><span class="o">.</span><span class="n">xwidth</span> <span class="o">=</span> <span class="mf">0.01</span>
<span class="n">src</span><span class="o">.</span><span class="n">yheight</span> <span class="o">=</span> <span class="mf">0.035</span>
<span class="n">src</span><span class="o">.</span><span class="n">focus_aw</span> <span class="o">=</span> <span class="mf">0.01</span>
<span class="n">src</span><span class="o">.</span><span class="n">focus_ah</span> <span class="o">=</span> <span class="mf">0.01</span>
<span class="n">src</span><span class="o">.</span><span class="n">lambda0</span> <span class="o">=</span> <span class="n">instrument</span><span class="o">.</span><span class="n">add_parameter</span><span class="p">(</span><span class="s2">&quot;wavelength&quot;</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="mf">5.0</span><span class="p">,</span>
                                       <span class="n">comment</span><span class="o">=</span><span class="s2">&quot;Wavelength in [Ang]&quot;</span><span class="p">)</span>
<span class="n">src</span><span class="o">.</span><span class="n">dlambda</span> <span class="o">=</span> <span class="s2">&quot;0.01*wavelength&quot;</span>
<span class="n">src</span><span class="o">.</span><span class="n">flux</span> <span class="o">=</span> <span class="mf">1E13</span>

<span class="n">sample_geometry</span> <span class="o">=</span> <span class="n">instrument</span><span class="o">.</span><span class="n">add_component</span><span class="p">(</span><span class="s2">&quot;sample_geometry&quot;</span><span class="p">,</span> <span class="s2">&quot;Union_cylinder&quot;</span><span class="p">)</span>
<span class="n">sample_geometry</span><span class="o">.</span><span class="n">yheight</span> <span class="o">=</span> <span class="mf">0.03</span>
<span class="n">sample_geometry</span><span class="o">.</span><span class="n">radius</span> <span class="o">=</span> <span class="mf">0.0075</span>
<span class="n">sample_geometry</span><span class="o">.</span><span class="n">material_string</span><span class="o">=</span><span class="s1">&#39;&quot;Sample&quot;&#39;</span> 
<span class="n">sample_geometry</span><span class="o">.</span><span class="n">priority</span> <span class="o">=</span> <span class="mi">100</span>
<span class="n">sample_geometry</span><span class="o">.</span><span class="n">set_AT</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="n">RELATIVE</span><span class="o">=</span><span class="n">src</span><span class="p">)</span>

<span class="n">container</span> <span class="o">=</span> <span class="n">instrument</span><span class="o">.</span><span class="n">add_component</span><span class="p">(</span><span class="s2">&quot;sample_container&quot;</span><span class="p">,</span> <span class="s2">&quot;Union_cylinder&quot;</span><span class="p">)</span>
<span class="n">container</span><span class="o">.</span><span class="n">set_RELATIVE</span><span class="p">(</span><span class="n">sample_geometry</span><span class="p">)</span>
<span class="n">container</span><span class="o">.</span><span class="n">yheight</span> <span class="o">=</span> <span class="mf">0.03</span><span class="o">+</span><span class="mf">0.003</span> <span class="c1"># 1.5 mm top and button</span>
<span class="n">container</span><span class="o">.</span><span class="n">radius</span> <span class="o">=</span> <span class="mf">0.0075</span> <span class="o">+</span> <span class="mf">0.0015</span> <span class="c1"># 1.5 mm sides of container</span>
<span class="n">container</span><span class="o">.</span><span class="n">material_string</span><span class="o">=</span><span class="s1">&#39;&quot;Al&quot;&#39;</span> 
<span class="n">container</span><span class="o">.</span><span class="n">priority</span> <span class="o">=</span> <span class="mi">99</span>

<span class="n">container_lid</span> <span class="o">=</span> <span class="n">instrument</span><span class="o">.</span><span class="n">add_component</span><span class="p">(</span><span class="s2">&quot;sample_container_lid&quot;</span><span class="p">,</span> <span class="s2">&quot;Union_cylinder&quot;</span><span class="p">)</span>
<span class="n">container_lid</span><span class="o">.</span><span class="n">set_AT</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mf">0.0155</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">RELATIVE</span><span class="o">=</span><span class="n">container</span><span class="p">)</span>
<span class="n">container_lid</span><span class="o">.</span><span class="n">yheight</span> <span class="o">=</span> <span class="mf">0.004</span>
<span class="n">container_lid</span><span class="o">.</span><span class="n">radius</span> <span class="o">=</span> <span class="mf">0.013</span>
<span class="n">container_lid</span><span class="o">.</span><span class="n">material_string</span><span class="o">=</span><span class="s1">&#39;&quot;Al&quot;&#39;</span> 
<span class="n">container_lid</span><span class="o">.</span><span class="n">priority</span> <span class="o">=</span> <span class="mi">98</span>

<span class="n">inner_wall</span> <span class="o">=</span> <span class="n">instrument</span><span class="o">.</span><span class="n">add_component</span><span class="p">(</span><span class="s2">&quot;cryostat_wall&quot;</span><span class="p">,</span> <span class="s2">&quot;Union_cylinder&quot;</span><span class="p">)</span>
<span class="n">inner_wall</span><span class="o">.</span><span class="n">set_AT</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="n">RELATIVE</span><span class="o">=</span><span class="n">sample_geometry</span><span class="p">)</span>
<span class="n">inner_wall</span><span class="o">.</span><span class="n">yheight</span> <span class="o">=</span> <span class="mf">0.12</span>
<span class="n">inner_wall</span><span class="o">.</span><span class="n">radius</span> <span class="o">=</span> <span class="mf">0.03</span>
<span class="n">inner_wall</span><span class="o">.</span><span class="n">material_string</span><span class="o">=</span><span class="s1">&#39;&quot;Al&quot;&#39;</span> 
<span class="n">inner_wall</span><span class="o">.</span><span class="n">priority</span> <span class="o">=</span> <span class="mi">80</span>

<span class="n">inner_wall_vac</span> <span class="o">=</span> <span class="n">instrument</span><span class="o">.</span><span class="n">add_component</span><span class="p">(</span><span class="s2">&quot;cryostat_wall_vacuum&quot;</span><span class="p">,</span> <span class="s2">&quot;Union_cylinder&quot;</span><span class="p">)</span>
<span class="n">inner_wall_vac</span><span class="o">.</span><span class="n">set_AT</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="n">RELATIVE</span><span class="o">=</span><span class="n">sample_geometry</span><span class="p">)</span>
<span class="n">inner_wall_vac</span><span class="o">.</span><span class="n">yheight</span> <span class="o">=</span> <span class="mf">0.12</span> <span class="o">-</span> <span class="mf">0.008</span>
<span class="n">inner_wall_vac</span><span class="o">.</span><span class="n">radius</span> <span class="o">=</span> <span class="mf">0.03</span> <span class="o">-</span> <span class="mf">0.002</span>
<span class="n">inner_wall_vac</span><span class="o">.</span><span class="n">material_string</span><span class="o">=</span><span class="s1">&#39;&quot;Vacuum&quot;&#39;</span> 
<span class="n">inner_wall_vac</span><span class="o">.</span><span class="n">priority</span> <span class="o">=</span> <span class="mi">81</span>

<span class="n">outer_wall</span> <span class="o">=</span> <span class="n">instrument</span><span class="o">.</span><span class="n">add_component</span><span class="p">(</span><span class="s2">&quot;outer_cryostat_wall&quot;</span><span class="p">,</span> <span class="s2">&quot;Union_cylinder&quot;</span><span class="p">)</span>
<span class="n">outer_wall</span><span class="o">.</span><span class="n">set_AT</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="n">RELATIVE</span><span class="o">=</span><span class="n">sample_geometry</span><span class="p">)</span>
<span class="n">outer_wall</span><span class="o">.</span><span class="n">yheight</span> <span class="o">=</span> <span class="mf">0.15</span>
<span class="n">outer_wall</span><span class="o">.</span><span class="n">radius</span> <span class="o">=</span> <span class="mf">0.1</span>
<span class="n">outer_wall</span><span class="o">.</span><span class="n">material_string</span><span class="o">=</span><span class="s1">&#39;&quot;Al&quot;&#39;</span> 
<span class="n">outer_wall</span><span class="o">.</span><span class="n">priority</span> <span class="o">=</span> <span class="mi">60</span>

<span class="n">outer_wall_vac</span> <span class="o">=</span> <span class="n">instrument</span><span class="o">.</span><span class="n">add_component</span><span class="p">(</span><span class="s2">&quot;outer_cryostat_wall_vacuum&quot;</span><span class="p">,</span> <span class="s2">&quot;Union_cylinder&quot;</span><span class="p">)</span>
<span class="n">outer_wall_vac</span><span class="o">.</span><span class="n">set_AT</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="n">RELATIVE</span><span class="o">=</span><span class="n">sample_geometry</span><span class="p">)</span>
<span class="n">outer_wall_vac</span><span class="o">.</span><span class="n">yheight</span> <span class="o">=</span> <span class="mf">0.15</span> <span class="o">-</span> <span class="mf">0.01</span>
<span class="n">outer_wall_vac</span><span class="o">.</span><span class="n">radius</span> <span class="o">=</span> <span class="mf">0.1</span> <span class="o">-</span> <span class="mf">0.003</span>
<span class="n">outer_wall_vac</span><span class="o">.</span><span class="n">material_string</span><span class="o">=</span><span class="s1">&#39;&quot;Vacuum&quot;&#39;</span> 
<span class="n">outer_wall_vac</span><span class="o">.</span><span class="n">priority</span> <span class="o">=</span> <span class="mi">61</span>

<span class="n">instrument</span><span class="o">.</span><span class="n">show_components</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span><span class=" -Color -Color-Bold">Al_inc</span>  <span class=" -Color -Color-Bold">Incoherent_process</span> 
  AT      (0, 0, 0) ABSOLUTE
<span class=" -Color -Color-Bold">Al_pow</span>  <span class=" -Color -Color-Bold">Powder_process</span> 
  AT      (0, 0, 0) ABSOLUTE
<span class=" -Color -Color-Bold">Al</span>  <span class=" -Color -Color-Bold">Union_make_material</span> 
  AT      (0, 0, 0) ABSOLUTE
<span class=" -Color -Color-Bold">Sample_inc</span>  <span class=" -Color -Color-Bold">Incoherent_process</span> 
  AT      (0, 0, 0) ABSOLUTE
<span class=" -Color -Color-Bold">Sample_pow</span>  <span class=" -Color -Color-Bold">Powder_process</span> 
  AT      (0, 0, 0) ABSOLUTE
<span class=" -Color -Color-Bold">Sample</span>  <span class=" -Color -Color-Bold">Union_make_material</span> 
  AT      (0, 0, 0) ABSOLUTE
<span class=" -Color -Color-Bold">source</span>  <span class=" -Color -Color-Bold">Source_div</span> 
  AT      (0, 0, 0) ABSOLUTE
<span class=" -Color -Color-Bold">sample_geometry</span>  <span class=" -Color -Color-Bold">Union_cylinder</span> 
  AT      (0, 0, 1) RELATIVE source
<span class=" -Color -Color-Bold">sample_container</span>  <span class=" -Color -Color-Bold">Union_cylinder</span> 
  AT      (0, 0, 0) RELATIVE sample_geometry
<span class=" -Color -Color-Bold">sample_container_lid</span>  <span class=" -Color -Color-Bold">Union_cylinder</span> 
  AT      (0, 0.0155, 0) RELATIVE sample_container
<span class=" -Color -Color-Bold">cryostat_wall</span>  <span class=" -Color -Color-Bold">Union_cylinder</span> 
  AT      (0, 0, 0) RELATIVE sample_geometry
<span class=" -Color -Color-Bold">cryostat_wall_vacuum</span>  <span class=" -Color -Color-Bold">Union_cylinder</span> 
  AT      (0, 0, 0) RELATIVE sample_geometry
<span class=" -Color -Color-Bold">outer_cryostat_wall</span>  <span class=" -Color -Color-Bold">Union_cylinder</span> 
  AT      (0, 0, 0) RELATIVE sample_geometry
<span class=" -Color -Color-Bold">outer_cryostat_wall_vacuum</span>  <span class=" -Color -Color-Bold">Union_cylinder</span> 
  AT      (0, 0, 0) RELATIVE sample_geometry
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">instrument</span><span class="o">.</span><span class="n">available_components</span><span class="p">(</span><span class="s2">&quot;union&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Here are all components in the union category.
 AF_HB_1D_process                          Union_conditional_PSD
 IncoherentPhonon_process                  Union_conditional_standard
 Incoherent_process                        Union_cone
 NCrystal_process                          Union_cylinder
 PhononSimple_process                      Union_logger_1D
 Powder_process                            Union_logger_2DQ
 Single_crystal_process                    Union_logger_2D_kf
 Template_process                          Union_logger_2D_kf_time
 Texture_process                           Union_logger_2D_space
 Union_abs_logger_1D_space                 Union_logger_2D_space_time
 Union_abs_logger_1D_space_event           Union_logger_3D_space
 Union_abs_logger_1D_space_tof             Union_make_material
 Union_abs_logger_1D_space_tof_to_lambda   Union_master
 Union_abs_logger_2D_space                 Union_mesh
 Union_abs_logger_event                    Union_sphere
 Union_box                                 
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="adding-union-logger-components">
<h2>Adding Union logger components<a class="headerlink" href="#adding-union-logger-components" title="Permalink to this headline">¶</a></h2>
<p>Union logger components need to be added before the <em>Union_master</em> component, as the master need to record the necessary information when the simulation is being performed. There are two different kind of Union logger components, the <em>loggers</em> that record scattering and the <em>abs_loggers</em> that record absorption. They have similar parameters and user interface. Here is a list of the currently available loggers:</p>
<ul class="simple">
<li><p>Union_logger_1D</p></li>
<li><p>Union_logger_2D_space</p></li>
<li><p>Union_logger_2D_space_time</p></li>
<li><p>Union_logger_3D_space</p></li>
<li><p>Union_logger_2D_kf</p></li>
<li><p>Union_logger_2D_kf_time</p></li>
<li><p>Union_logger_2DQ</p></li>
<li><p>Union_abs_logger_1D_space</p></li>
<li><p>Union_abs_logger_1D_space_tof</p></li>
<li><p>Union_abs_logger_2D_space</p></li>
</ul>
<p>The most commonly used logger is probably the <em>Union_logger_2D_space</em>, this component records spatial distribution of scattering, here are the available parameters.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">instrument</span><span class="o">.</span><span class="n">component_help</span><span class="p">(</span><span class="s2">&quot;Union_logger_2D_space&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> ___ Help Union_logger_2D_space _____________________________________________________
|<span class=" -Color -Color-Bold">optional parameter</span>|<span class=" -Color -Color-Bold">required parameter</span>|<span class=" -Color -Color-Bold">default value</span>|<span class=" -Color -Color-Bold">user specified value</span>|
<span class=" -Color -Color-Bold">target_geometry</span> = <span class=" -Color -Color-Bold">&quot;NULL&quot;</span> [string] // Comma seperated list of geometry names 
                                     that will be logged, leave empty for all 
                                     volumes (even not defined yet) 
<span class=" -Color -Color-Bold">target_process</span> = <span class=" -Color -Color-Bold">&quot;NULL&quot;</span> [string] // Comma seperated names of physical 
                                    processes, if volumes are selected, one can 
                                    select Union_process names 
<span class=" -Color -Color-Bold">D_direction_1</span> = <span class=" -Color -Color-Bold">&quot;x&quot;</span> [string] // Direction for first axis (&quot;x&quot;, &quot;y&quot; or &quot;z&quot;)
<span class=" -Color -Color-Bold">D1_min</span> = <span class=" -Color -Color-Bold">-5.0</span> [1] // histogram boundery, min position value for first axis
<span class=" -Color -Color-Bold">D1_max</span> = <span class=" -Color -Color-Bold">5.0</span> [1] // histogram boundery, max position value for first axis
<span class=" -Color -Color-Bold">n1</span> = <span class=" -Color -Color-Bold">90.0</span> [1] // number of bins for first axis
<span class=" -Color -Color-Bold">D_direction_2</span> = <span class=" -Color -Color-Bold">&quot;z&quot;</span> [string] // Direction for second axis (&quot;x&quot;, &quot;y&quot; or &quot;z&quot;)
<span class=" -Color -Color-Bold">D2_min</span> = <span class=" -Color -Color-Bold">-5.0</span> [1] // histogram boundery, min position value for second axis
<span class=" -Color -Color-Bold">D2_max</span> = <span class=" -Color -Color-Bold">5.0</span> [1] // histogram boundery, max position value for second axis
<span class=" -Color -Color-Bold">n2</span> = <span class=" -Color -Color-Bold">90.0</span> [1] // number of bins for second axis
<span class=" -Color -Color-Bold">filename</span> = <span class=" -Color -Color-Bold">&quot;NULL&quot;</span> [string] // Filename for logging output
<span class=" -Color -Color-Bold">order_total</span> = <span class=" -Color -Color-Bold">0.0</span> [1] // Only log rays that scatter for the n&#39;th time, 0 for 
                         all orders 
<span class=" -Color -Color-Bold">order_volume</span> = <span class=" -Color -Color-Bold">0.0</span> [1] // Only log rays that scatter for the n&#39;th time in the 
                          same geometry 
<span class=" -Color -Color-Bold">order_volume_process</span> = <span class=" -Color -Color-Bold">0.0</span> [1] // Only log rays that scatter for the n&#39;th time 
                                  in the same geometry, using the same process 
<span class=" -Color -Color-Bold">logger_conditional_extend_index</span> = <span class=" -Color -Color-Bold">-1.0</span> [1] // If a conditional is used with 
                                              this logger, the result of each 
                                              conditional calculation can be made 
                                              available in extend as a array called 
                                              &quot;logger_conditional_extend&quot;, and one 
                                              would then acces 
                                              logger_conditional_extend[n] if 
                                              logger_conditional_extend_index is 
                                              set to n 
-------------------------------------------------------------------------------------
</pre></div>
</div>
</div>
</div>
<div class="section" id="setting-up-a-2d-space-logger">
<h3>Setting up a 2D_space logger<a class="headerlink" href="#setting-up-a-2d-space-logger" title="Permalink to this headline">¶</a></h3>
<p>One can select which two axis to record using <em>D_direction_1</em> and <em>D_direction_2</em>, and the range with for example <em>D1_min</em> and <em>D1_max</em>. When spatial information is recorded it is also important to place the logger at an appropriate position, here we center it on the sample position.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">logger_zx</span> <span class="o">=</span> <span class="n">instrument</span><span class="o">.</span><span class="n">add_component</span><span class="p">(</span><span class="s2">&quot;logger_space_zx&quot;</span><span class="p">,</span> <span class="s2">&quot;Union_logger_2D_space&quot;</span><span class="p">)</span>
<span class="n">logger_zx</span><span class="o">.</span><span class="n">set_RELATIVE</span><span class="p">(</span><span class="n">sample_geometry</span><span class="p">)</span>
<span class="n">logger_zx</span><span class="o">.</span><span class="n">D_direction_1</span> <span class="o">=</span> <span class="s1">&#39;&quot;z&quot;&#39;</span>
<span class="n">logger_zx</span><span class="o">.</span><span class="n">D1_min</span> <span class="o">=</span> <span class="o">-</span><span class="mf">0.12</span>
<span class="n">logger_zx</span><span class="o">.</span><span class="n">D1_max</span> <span class="o">=</span> <span class="mf">0.12</span>
<span class="n">logger_zx</span><span class="o">.</span><span class="n">n1</span> <span class="o">=</span> <span class="mi">300</span>
<span class="n">logger_zx</span><span class="o">.</span><span class="n">D_direction_2</span> <span class="o">=</span> <span class="s1">&#39;&quot;x&quot;&#39;</span>
<span class="n">logger_zx</span><span class="o">.</span><span class="n">D2_min</span> <span class="o">=</span> <span class="o">-</span><span class="mf">0.12</span>
<span class="n">logger_zx</span><span class="o">.</span><span class="n">D2_max</span> <span class="o">=</span> <span class="mf">0.12</span>
<span class="n">logger_zx</span><span class="o">.</span><span class="n">n2</span> <span class="o">=</span> <span class="mi">300</span>
<span class="n">logger_zx</span><span class="o">.</span><span class="n">filename</span> <span class="o">=</span> <span class="s1">&#39;&quot;logger_zx.dat&quot;&#39;</span>

<span class="n">logger_zy</span> <span class="o">=</span> <span class="n">instrument</span><span class="o">.</span><span class="n">add_component</span><span class="p">(</span><span class="s2">&quot;logger_space_zy&quot;</span><span class="p">,</span> <span class="s2">&quot;Union_logger_2D_space&quot;</span><span class="p">)</span>
<span class="n">logger_zy</span><span class="o">.</span><span class="n">set_RELATIVE</span><span class="p">(</span><span class="n">sample_geometry</span><span class="p">)</span>
<span class="n">logger_zy</span><span class="o">.</span><span class="n">D_direction_1</span> <span class="o">=</span> <span class="s1">&#39;&quot;z&quot;&#39;</span>
<span class="n">logger_zy</span><span class="o">.</span><span class="n">D1_min</span> <span class="o">=</span> <span class="o">-</span><span class="mf">0.12</span>
<span class="n">logger_zy</span><span class="o">.</span><span class="n">D1_max</span> <span class="o">=</span> <span class="mf">0.12</span>
<span class="n">logger_zy</span><span class="o">.</span><span class="n">n1</span> <span class="o">=</span> <span class="mi">300</span>
<span class="n">logger_zy</span><span class="o">.</span><span class="n">D_direction_2</span> <span class="o">=</span> <span class="s1">&#39;&quot;y&quot;&#39;</span>
<span class="n">logger_zy</span><span class="o">.</span><span class="n">D2_min</span> <span class="o">=</span> <span class="o">-</span><span class="mf">0.12</span>
<span class="n">logger_zy</span><span class="o">.</span><span class="n">D2_max</span> <span class="o">=</span> <span class="mf">0.12</span>
<span class="n">logger_zy</span><span class="o">.</span><span class="n">n2</span> <span class="o">=</span> <span class="mi">300</span>
<span class="n">logger_zy</span><span class="o">.</span><span class="n">filename</span> <span class="o">=</span> <span class="s1">&#39;&quot;logger_zy.dat&quot;&#39;</span>

<span class="n">master</span> <span class="o">=</span> <span class="n">instrument</span><span class="o">.</span><span class="n">add_component</span><span class="p">(</span><span class="s2">&quot;master&quot;</span><span class="p">,</span> <span class="s2">&quot;Union_master&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="running-the-simulation">
<h3>Running the simulation<a class="headerlink" href="#running-the-simulation" title="Permalink to this headline">¶</a></h3>
<p>If mpi is installed, one can add mpi=N where N is the number of cores available to speed up the simulation.</p>
<div class="cell tag_scroll-output docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">instrument</span><span class="o">.</span><span class="n">set_parameters</span><span class="p">(</span><span class="n">wavelength</span><span class="o">=</span><span class="mf">3.0</span><span class="p">)</span>
<span class="n">instrument</span><span class="o">.</span><span class="n">settings</span><span class="p">(</span><span class="n">ncount</span><span class="o">=</span><span class="mf">3E6</span><span class="p">,</span> <span class="n">output_path</span><span class="o">=</span><span class="s2">&quot;data_folder/union_loggers&quot;</span><span class="p">)</span>

<span class="n">data</span> <span class="o">=</span> <span class="n">instrument</span><span class="o">.</span><span class="n">backengine</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>INFO: Using directory: &quot;/Users/madsbertelsen/PaNOSC/McStasScript/github/McStasScript/docs/source/tutorial/data_folder/union_loggers_37&quot;
INFO: Regenerating c-file: python_tutorial.c
CFLAGS= -I@MCCODE_LIB@/share/
INFO: Recompiling: ./python_tutorial.out
mccode-r.c:2837:3: warning: expression result unused [-Wunused-value]
  *t0;
  ^~~
In file included from /Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//contrib/union/Incoherent_process.comp:65:
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//share/Union_functions.c:1604:105: warning: incompatible pointer types passing &#39;int (const struct saved_history_struct *, const struct saved_history_struct *)&#39; to parameter of type &#39;int (* _Nonnull)(const void *, const void *)&#39; [-Wincompatible-pointer-types]
  qsort(total_history.saved_histories,total_history.used_elements,sizeof (struct saved_history_struct), Sample_compare_history_intensities);
                                                                                                        ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
/Library/Developer/CommandLineTools/SDKs/MacOSX10.15.sdk/usr/include/stdlib.h:161:22: note: passing argument to parameter &#39;__compar&#39; here
            int (* _Nonnull __compar)(const void *, const void *));
                            ^
In file included from /Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//contrib/union/Incoherent_process.comp:65:
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//share/Union_functions.c:1613:20: warning: incompatible pointer types passing &#39;struct saved_history_struct *&#39; to parameter of type &#39;struct dynamic_history_list *&#39; [-Wincompatible-pointer-types]
    printf_history(&amp;total_history.saved_histories[history_iterate]);
                   ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
mccode-r.h:219:27: note: expanded from macro &#39;MPI_MASTER&#39;
#define MPI_MASTER(instr) instr
                          ^~~~~
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//share/Union_functions.c:1434:50: note: passing argument to parameter &#39;history&#39; here
void printf_history(struct dynamic_history_list *history) {
                                                 ^
In file included from /Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//contrib/union/Incoherent_process.comp:65:
In file included from /Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//share/Union_functions.c:2030:
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//share/Geometry_functions.c:839:1: warning: non-void function does not return a value in all control paths [-Wreturn-type]
};
^
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//share/Geometry_functions.c:883:1: warning: non-void function does not return a value [-Wreturn-type]
};
^
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//share/Geometry_functions.c:3274:42: warning: if statement has empty body [-Wempty-body]
    if (dist_to_corner &gt; sphere_2_radius); { sphere_2_radius = dist_to_corner ; }
                                         ^
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//share/Geometry_functions.c:3274:42: note: put the semicolon on a separate line to silence this warning
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//share/Geometry_functions.c:3276:42: warning: if statement has empty body [-Wempty-body]
    if (dist_to_corner &gt; sphere_2_radius); { sphere_2_radius = dist_to_corner ; }
                                         ^
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//share/Geometry_functions.c:3276:42: note: put the semicolon on a separate line to silence this warning
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//share/Geometry_functions.c:3278:42: warning: if statement has empty body [-Wempty-body]
    if (dist_to_corner &gt; sphere_2_radius); { sphere_2_radius = dist_to_corner ; }
                                         ^
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//share/Geometry_functions.c:3278:42: note: put the semicolon on a separate line to silence this warning
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//share/Geometry_functions.c:3280:42: warning: if statement has empty body [-Wempty-body]
    if (dist_to_corner &gt; sphere_2_radius); { sphere_2_radius = dist_to_corner ; }
                                         ^
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//share/Geometry_functions.c:3280:42: note: put the semicolon on a separate line to silence this warning
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//contrib/union/Union_logger_2D_space.comp:574:45: warning: format string is not a string literal (potentially insecure) [-Wformat-security]
  sprintf(this_storage.Detector_2D.Filename,filename);
                                            ^~~~~~~~
./python_tutorial.c:14067:18: note: expanded from macro &#39;filename&#39;
#define filename mcclogger_space_zx_filename
                 ^~~~~~~~~~~~~~~~~~~~~~~~~~~
/Library/Developer/CommandLineTools/SDKs/MacOSX10.15.sdk/usr/include/secure/_stdio.h:47:56: note: expanded from macro &#39;sprintf&#39;
  __builtin___sprintf_chk (str, 0, __darwin_obsz(str), __VA_ARGS__)
                                                       ^~~~~~~~~~~
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//contrib/union/Union_logger_2D_space.comp:574:45: note: treat the string as an argument to avoid this
  sprintf(this_storage.Detector_2D.Filename,filename);
                                            ^
                                            &quot;%s&quot;, 
./python_tutorial.c:14067:18: note: expanded from macro &#39;filename&#39;
#define filename mcclogger_space_zx_filename
                 ^
/Library/Developer/CommandLineTools/SDKs/MacOSX10.15.sdk/usr/include/secure/_stdio.h:47:56: note: expanded from macro &#39;sprintf&#39;
  __builtin___sprintf_chk (str, 0, __darwin_obsz(str), __VA_ARGS__)
                                                       ^
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//contrib/union/Union_logger_2D_space.comp:574:45: warning: format string is not a string literal (potentially insecure) [-Wformat-security]
  sprintf(this_storage.Detector_2D.Filename,filename);
                                            ^~~~~~~~
./python_tutorial.c:14310:18: note: expanded from macro &#39;filename&#39;
#define filename mcclogger_space_zy_filename
                 ^~~~~~~~~~~~~~~~~~~~~~~~~~~
/Library/Developer/CommandLineTools/SDKs/MacOSX10.15.sdk/usr/include/secure/_stdio.h:47:56: note: expanded from macro &#39;sprintf&#39;
  __builtin___sprintf_chk (str, 0, __darwin_obsz(str), __VA_ARGS__)
                                                       ^~~~~~~~~~~
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//contrib/union/Union_logger_2D_space.comp:574:45: note: treat the string as an argument to avoid this
  sprintf(this_storage.Detector_2D.Filename,filename);
                                            ^
                                            &quot;%s&quot;, 
./python_tutorial.c:14310:18: note: expanded from macro &#39;filename&#39;
#define filename mcclogger_space_zy_filename
                 ^
/Library/Developer/CommandLineTools/SDKs/MacOSX10.15.sdk/usr/include/secure/_stdio.h:47:56: note: expanded from macro &#39;sprintf&#39;
  __builtin___sprintf_chk (str, 0, __darwin_obsz(str), __VA_ARGS__)
                                                       ^
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//contrib/union/Union_master.comp:788:15: warning: expression result unused [-Wunused-value]
          if (volume_index_main,Volumes[volume_index_main]-&gt;geometry.is_mask_volume == 0 ||
              ^~~~~~~~~~~~~~~~~
mccode-r.h:219:27: note: expanded from macro &#39;MPI_MASTER&#39;
#define MPI_MASTER(instr) instr
                          ^~~~~
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//contrib/union/Union_master.comp:788:90: warning: expression result unused [-Wunused-value]
          if (volume_index_main,Volumes[volume_index_main]-&gt;geometry.is_mask_volume == 0 ||
          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~
mccode-r.h:219:27: note: expanded from macro &#39;MPI_MASTER&#39;
#define MPI_MASTER(instr) instr
                          ^~~~~
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//contrib/union/Union_master.comp:789:92: warning: expression result unused [-Wunused-value]
              volume_index_main,Volumes[volume_index_main]-&gt;geometry.is_masked_volume == 0 ||
              ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~
mccode-r.h:219:27: note: expanded from macro &#39;MPI_MASTER&#39;
#define MPI_MASTER(instr) instr
                          ^~~~~
14 warnings generated.
INFO: ===
INFO: Placing instr file copy python_tutorial.instr in dataset /Users/madsbertelsen/PaNOSC/McStasScript/github/McStasScript/docs/source/tutorial/data_folder/union_loggers_37

    Opening input file &#39;/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//data/Al.laz&#39; (Table_Read_Offset)
Table from file &#39;Al.laz&#39; (block 1) is 26 x 18 (x=1:8), constant step. interpolation: linear
  &#39;# TITLE *Aluminum-Al-[FM3-M] Miller, H.P.jr.;DuMond, J.W.M.[1942] at 298 K; ...&#39;
PowderN: Al_pow: Reading 26 rows from Al.laz
PowderN: Al_pow: Read 26 reflections from file &#39;Al.laz&#39;
PowderN: Al_pow: Vc=66.4 [Angs] sigma_abs=0.924 [barn] sigma_inc=0.0328 [barn] reflections=Al.laz
Opening input file &#39;/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//data/Na2Ca3Al2F14.laz&#39; (Table_Read_Offset)
Table from file &#39;Na2Ca3Al2F14.laz&#39; (block 1) is 841 x 18 (x=1:20), constant step. interpolation: linear
  &#39;# TITLE *-Na2Ca3Al2F14-[I213] Courbion, G.;Ferey, G.[1988] Standard NAC cal ...&#39;
PowderN: Sample_pow: Reading 841 rows from Na2Ca3Al2F14.laz
PowderN: Sample_pow: Read 841 reflections from file &#39;Na2Ca3Al2F14.laz&#39;
PowderN: Sample_pow: Vc=1079.1 [Angs] sigma_abs=11.7856 [barn] sigma_inc=13.6704 [barn] reflections=Na2Ca3Al2F14.laz
---------------------------------------------------------------------
global_process_list.num_elements: 4
name of process [0]: Al_inc 
component index [0]: 1 
name of process [1]: Al_pow 
component index [1]: 2 
name of process [2]: Sample_inc 
component index [2]: 4 
name of process [3]: Sample_pow 
component index [3]: 5 
---------------------------------------------------------------------
global_material_list.num_elements: 2
name of material    [0]: Al 
component index     [0]: 3 
my_absoprtion       [0]: 0.347892 
number of processes [0]: 2 
name of material    [1]: Sample 
component index     [1]: 6 
my_absoprtion       [1]: 0.273042 
number of processes [1]: 2 
---------------------------------------------------------------------
global_geometry_list.num_elements: 2

name of geometry    [0]: sample_geometry 
component index     [0]: 8 
Volume.name         [0]: sample_geometry 
Volume.p_physics.is_vacuum           [0]: 0 
Volume.p_physics.my_absorption       [0]: 0.273042 
Volume.p_physics.number of processes [0]: 2 
Volume.geometry.shape                [0]: cylinder 
Volume.geometry.center.x             [0]: 0.000000 
Volume.geometry.center.y             [0]: 0.000000 
Volume.geometry.center.z             [0]: 1.000000 
Volume.geometry.rotation_matrix[0]           [0]: [1.000000 0.000000 0.000000] 
Volume.geometry.rotation_matrix[1]           [0]: [0.000000 1.000000 0.000000] 
Volume.geometry.rotation_matrix[2]           [0]: [0.000000 0.000000 1.000000] 
Volume.geometry.geometry_parameters.cyl_radius [0]: 0.007500 
Volume.geometry.geometry_parameters.height [0]: 0.030000 
Volume.geometry.focus_data_array.elements[0].Aim             [0]: [0.000000 0.000000 1.000000] 

name of geometry    [1]: sample_container 
component index     [1]: 9 
Volume.name         [1]: sample_container 
Volume.p_physics.is_vacuum           [1]: 0 
Volume.p_physics.my_absorption       [1]: 0.347892 
Volume.p_physics.number of processes [1]: 2 
Volume.geometry.shape                [1]: cylinder 
Volume.geometry.center.x             [1]: 0.000000 
Volume.geometry.center.y             [1]: 0.000000 
Volume.geometry.center.z             [1]: 1.000000 
Volume.geometry.rotation_matrix[0]           [1]: [1.000000 0.000000 0.000000] 
Volume.geometry.rotation_matrix[1]           [1]: [0.000000 1.000000 0.000000] 
Volume.geometry.rotation_matrix[2]           [1]: [0.000000 0.000000 1.000000] 
Volume.geometry.geometry_parameters.cyl_radius [1]: 0.009000 
Volume.geometry.geometry_parameters.height [1]: 0.033000 
Volume.geometry.focus_data_array.elements[0].Aim             [1]: [0.000000 0.000000 1.000000] 

name of geometry    [2]: sample_container_lid 
component index     [2]: 10 
Volume.name         [2]: sample_container_lid 
Volume.p_physics.is_vacuum           [2]: 0 
Volume.p_physics.my_absorption       [2]: 0.347892 
Volume.p_physics.number of processes [2]: 2 
Volume.geometry.shape                [2]: cylinder 
Volume.geometry.center.x             [2]: 0.000000 
Volume.geometry.center.y             [2]: 0.015500 
Volume.geometry.center.z             [2]: 1.000000 
Volume.geometry.rotation_matrix[0]           [2]: [1.000000 0.000000 0.000000] 
Volume.geometry.rotation_matrix[1]           [2]: [0.000000 1.000000 0.000000] 
Volume.geometry.rotation_matrix[2]           [2]: [0.000000 0.000000 1.000000] 
Volume.geometry.geometry_parameters.cyl_radius [2]: 0.013000 
Volume.geometry.geometry_parameters.height [2]: 0.004000 
Volume.geometry.focus_data_array.elements[0].Aim             [2]: [0.000000 0.000000 1.000000] 

name of geometry    [3]: cryostat_wall 
component index     [3]: 11 
Volume.name         [3]: cryostat_wall 
Volume.p_physics.is_vacuum           [3]: 0 
Volume.p_physics.my_absorption       [3]: 0.347892 
Volume.p_physics.number of processes [3]: 2 
Volume.geometry.shape                [3]: cylinder 
Volume.geometry.center.x             [3]: 0.000000 
Volume.geometry.center.y             [3]: 0.000000 
Volume.geometry.center.z             [3]: 1.000000 
Volume.geometry.rotation_matrix[0]           [3]: [1.000000 0.000000 0.000000] 
Volume.geometry.rotation_matrix[1]           [3]: [0.000000 1.000000 0.000000] 
Volume.geometry.rotation_matrix[2]           [3]: [0.000000 0.000000 1.000000] 
Volume.geometry.geometry_parameters.cyl_radius [3]: 0.030000 
Volume.geometry.geometry_parameters.height [3]: 0.120000 
Volume.geometry.focus_data_array.elements[0].Aim             [3]: [0.000000 0.000000 1.000000] 

name of geometry    [4]: cryostat_wall_vacuum 
component index     [4]: 12 
Volume.name         [4]: cryostat_wall_vacuum 
Volume.p_physics.is_vacuum           [4]: 1 
Volume.p_physics.my_absorption       [4]: 0.000000 
Volume.p_physics.number of processes [4]: 0 
Volume.geometry.shape                [4]: cylinder 
Volume.geometry.center.x             [4]: 0.000000 
Volume.geometry.center.y             [4]: 0.000000 
Volume.geometry.center.z             [4]: 1.000000 
Volume.geometry.rotation_matrix[0]           [4]: [1.000000 0.000000 0.000000] 
Volume.geometry.rotation_matrix[1]           [4]: [0.000000 1.000000 0.000000] 
Volume.geometry.rotation_matrix[2]           [4]: [0.000000 0.000000 1.000000] 
Volume.geometry.geometry_parameters.cyl_radius [4]: 0.028000 
Volume.geometry.geometry_parameters.height [4]: 0.112000 
Volume.geometry.focus_data_array.elements[0].Aim             [4]: [0.000000 0.000000 1.000000] 

name of geometry    [5]: outer_cryostat_wall 
component index     [5]: 13 
Volume.name         [5]: outer_cryostat_wall 
Volume.p_physics.is_vacuum           [5]: 0 
Volume.p_physics.my_absorption       [5]: 0.347892 
Volume.p_physics.number of processes [5]: 2 
Volume.geometry.shape                [5]: cylinder 
Volume.geometry.center.x             [5]: 0.000000 
Volume.geometry.center.y             [5]: 0.000000 
Volume.geometry.center.z             [5]: 1.000000 
Volume.geometry.rotation_matrix[0]           [5]: [1.000000 0.000000 0.000000] 
Volume.geometry.rotation_matrix[1]           [5]: [0.000000 1.000000 0.000000] 
Volume.geometry.rotation_matrix[2]           [5]: [0.000000 0.000000 1.000000] 
Volume.geometry.geometry_parameters.cyl_radius [5]: 0.100000 
Volume.geometry.geometry_parameters.height [5]: 0.150000 
Volume.geometry.focus_data_array.elements[0].Aim             [5]: [0.000000 0.000000 1.000000] 

name of geometry    [6]: outer_cryostat_wall_vacuum 
component index     [6]: 14 
Volume.name         [6]: outer_cryostat_wall_vacuum 
Volume.p_physics.is_vacuum           [6]: 1 
Volume.p_physics.my_absorption       [6]: 0.000000 
Volume.p_physics.number of processes [6]: 0 
Volume.geometry.shape                [6]: cylinder 
Volume.geometry.center.x             [6]: 0.000000 
Volume.geometry.center.y             [6]: 0.000000 
Volume.geometry.center.z             [6]: 1.000000 
Volume.geometry.rotation_matrix[0]           [6]: [1.000000 0.000000 0.000000] 
Volume.geometry.rotation_matrix[1]           [6]: [0.000000 1.000000 0.000000] 
Volume.geometry.rotation_matrix[2]           [6]: [0.000000 0.000000 1.000000] 
Volume.geometry.geometry_parameters.cyl_radius [6]: 0.097000 
Volume.geometry.geometry_parameters.height [6]: 0.140000 
Volume.geometry.focus_data_array.elements[0].Aim             [6]: [0.000000 0.000000 1.000000] 
---------------------------------------------------------------------
number_of_volumes = 8
number_of_masks = 0
number_of_masked_volumes = 0

 ---- Overview of the lists generated for each volume ---- 
List overview for surrounding vacuum
LIST: Children for Volume                  0 = [1,2,3,4,5,6,7]
LIST: Direct_children for Volume           0 = [6]
LIST: Intersect_check_list for Volume      0 = [6]
LIST: Mask_intersect_list for Volume       0 = []
LIST: Destinations_list for Volume         0 = []
LIST: Reduced_destinations_list for Volume 0 = []
LIST: Next_volume_list for Volume          0 = [6]
LIST: mask_list for Volume                 0 = []
LIST: masked_by_list for Volume            0 = []
LIST: masked_by_mask_index_list for Volume 0 = []
      mask_mode for Volume                 0 = 0

List overview for sample_geometry with cylinder shape made of Sample
LIST: Children for Volume                  1 = []
LIST: Direct_children for Volume           1 = []
LIST: Intersect_check_list for Volume      1 = []
LIST: Mask_intersect_list for Volume       1 = []
LIST: Destinations_list for Volume         1 = [2,3]
LIST: Reduced_destinations_list for Volume 1 = [2,3]
LIST: Next_volume_list for Volume          1 = [2,3]
      Is_vacuum for Volume                 1 = 0
      is_mask_volume for Volume            1 = 0
      is_masked_volume for Volume          1 = 0
      is_exit_volume for Volume            1 = 0
LIST: mask_list for Volume                 1 = []
LIST: masked_by_list for Volume            1 = []
LIST: masked_by_mask_index_list for Volume 1 = []
      mask_mode for Volume                 1 = 0

List overview for sample_container with cylinder shape made of Al
LIST: Children for Volume                  2 = [1]
LIST: Direct_children for Volume           2 = [1]
LIST: Intersect_check_list for Volume      2 = [1]
LIST: Mask_intersect_list for Volume       2 = []
LIST: Destinations_list for Volume         2 = [3,5]
LIST: Reduced_destinations_list for Volume 2 = [5]
LIST: Next_volume_list for Volume          2 = [3,5,1]
      Is_vacuum for Volume                 2 = 0
      is_mask_volume for Volume            2 = 0
      is_masked_volume for Volume          2 = 0
      is_exit_volume for Volume            2 = 0
LIST: mask_list for Volume                 2 = []
LIST: masked_by_list for Volume            2 = []
LIST: masked_by_mask_index_list for Volume 2 = []
      mask_mode for Volume                 2 = 0

List overview for sample_container_lid with cylinder shape made of Al
LIST: Children for Volume                  3 = []
LIST: Direct_children for Volume           3 = []
LIST: Intersect_check_list for Volume      3 = [2]
LIST: Mask_intersect_list for Volume       3 = []
LIST: Destinations_list for Volume         3 = [5]
LIST: Reduced_destinations_list for Volume 3 = [5]
LIST: Next_volume_list for Volume          3 = [5,2]
      Is_vacuum for Volume                 3 = 0
      is_mask_volume for Volume            3 = 0
      is_masked_volume for Volume          3 = 0
      is_exit_volume for Volume            3 = 0
LIST: mask_list for Volume                 3 = []
LIST: masked_by_list for Volume            3 = []
LIST: masked_by_mask_index_list for Volume 3 = []
      mask_mode for Volume                 3 = 0

List overview for cryostat_wall with cylinder shape made of Al
LIST: Children for Volume                  4 = [1,2,3,5]
LIST: Direct_children for Volume           4 = [5]
LIST: Intersect_check_list for Volume      4 = [5]
LIST: Mask_intersect_list for Volume       4 = []
LIST: Destinations_list for Volume         4 = [7]
LIST: Reduced_destinations_list for Volume 4 = [7]
LIST: Next_volume_list for Volume          4 = [7,5]
      Is_vacuum for Volume                 4 = 0
      is_mask_volume for Volume            4 = 0
      is_masked_volume for Volume          4 = 0
      is_exit_volume for Volume            4 = 0
LIST: mask_list for Volume                 4 = []
LIST: masked_by_list for Volume            4 = []
LIST: masked_by_mask_index_list for Volume 4 = []
      mask_mode for Volume                 4 = 0

List overview for cryostat_wall_vacuum with cylinder shape made of Vacuum
LIST: Children for Volume                  5 = [1,2,3]
LIST: Direct_children for Volume           5 = [2,3]
LIST: Intersect_check_list for Volume      5 = [2,3]
LIST: Mask_intersect_list for Volume       5 = []
LIST: Destinations_list for Volume         5 = [4]
LIST: Reduced_destinations_list for Volume 5 = [4]
LIST: Next_volume_list for Volume          5 = [4,2,3]
      Is_vacuum for Volume                 5 = 1
      is_mask_volume for Volume            5 = 0
      is_masked_volume for Volume          5 = 0
      is_exit_volume for Volume            5 = 0
LIST: mask_list for Volume                 5 = []
LIST: masked_by_list for Volume            5 = []
LIST: masked_by_mask_index_list for Volume 5 = []
      mask_mode for Volume                 5 = 0

List overview for outer_cryostat_wall with cylinder shape made of Al
LIST: Children for Volume                  6 = [1,2,3,4,5,7]
LIST: Direct_children for Volume           6 = [7]
LIST: Intersect_check_list for Volume      6 = [7]
LIST: Mask_intersect_list for Volume       6 = []
LIST: Destinations_list for Volume         6 = [0]
LIST: Reduced_destinations_list for Volume 6 = []
LIST: Next_volume_list for Volume          6 = [0,7]
      Is_vacuum for Volume                 6 = 0
      is_mask_volume for Volume            6 = 0
      is_masked_volume for Volume          6 = 0
      is_exit_volume for Volume            6 = 0
LIST: mask_list for Volume                 6 = []
LIST: masked_by_list for Volume            6 = []
LIST: masked_by_mask_index_list for Volume 6 = []
      mask_mode for Volume                 6 = 0

List overview for outer_cryostat_wall_vacuum with cylinder shape made of Vacuum
LIST: Children for Volume                  7 = [1,2,3,4,5]
LIST: Direct_children for Volume           7 = [4]
LIST: Intersect_check_list for Volume      7 = [4]
LIST: Mask_intersect_list for Volume       7 = []
LIST: Destinations_list for Volume         7 = [6]
LIST: Reduced_destinations_list for Volume 7 = [6]
LIST: Next_volume_list for Volume          7 = [6,4]
      Is_vacuum for Volume                 7 = 1
      is_mask_volume for Volume            7 = 0
      is_masked_volume for Volume          7 = 0
      is_exit_volume for Volume            7 = 0
LIST: mask_list for Volume                 7 = []
LIST: masked_by_list for Volume            7 = []
LIST: masked_by_mask_index_list for Volume 7 = []
      mask_mode for Volume                 7 = 0

Union_master component master initialized sucessfully
Detector: logger_space_zx_I=20565.2 logger_space_zx_ERR=33.087 logger_space_zx_N=1.01226e+06 &quot;logger_zx.dat&quot;
Detector: logger_space_zy_I=20565.2 logger_space_zy_ERR=33.087 logger_space_zy_N=1.01226e+06 &quot;logger_zy.dat&quot;
loading system configuration
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ms</span><span class="o">.</span><span class="n">make_sub_plot</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">log</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">orders_of_mag</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Plotting data with name logger_space_zx
Plotting data with name logger_space_zy
</pre></div>
</div>
<img alt="../_images/Union_tutorial_3_loggers_11_1.png" src="../_images/Union_tutorial_3_loggers_11_1.png" />
</div>
</div>
</div>
<div class="section" id="interpreting-the-data">
<h3>Interpreting the data<a class="headerlink" href="#interpreting-the-data" title="Permalink to this headline">¶</a></h3>
<p>The zx logger views the cryostat from the top, while the zy loggers shows it from the side. These are histograms of scattered intensity, and it is clear the majority of the scattering happens in the direct beam. There are however scattering events in all parts of our mock cryostat, as neutrons that scattered in either the sample or cryostat walls could go in any direction due to the incoherent scattering. The aluminium and sample also have powder scattering, so some patterns can be seen from the debye scherrer cones.</p>
</div>
</div>
<div class="section" id="logger-targets">
<h2>Logger targets<a class="headerlink" href="#logger-targets" title="Permalink to this headline">¶</a></h2>
<p>It is possible to attach a logger to a certain geometry, or even a list of geometries using the <em>target_geometry</em> parameter. In that way one can for example view the scattering in the sample environment, while ignoring the sample. It is also possible to select a number of specific scattering processes to investigate with the <em>target_process</em> parameter. This is especially useful when working with a single crystal process, that only scatters when the Bragg condition is met.</p>
<p>Let us modify our existing loggers to view certain parts of the simulated system, and then rerun the simulation.  If mpi is installed, one can add mpi=N where N is the number of cores available to speed up the simulation.</p>
<div class="cell tag_scroll-output docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">logger_zx</span><span class="o">.</span><span class="n">target_geometry</span> <span class="o">=</span> <span class="s1">&#39;&quot;outer_cryostat_wall,cryostat_wall&quot;&#39;</span>
<span class="n">logger_zy</span><span class="o">.</span><span class="n">target_geometry</span> <span class="o">=</span> <span class="s1">&#39;&quot;sample_geometry&quot;&#39;</span>

<span class="n">data</span> <span class="o">=</span> <span class="n">instrument</span><span class="o">.</span><span class="n">backengine</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>INFO: Using directory: &quot;/Users/madsbertelsen/PaNOSC/McStasScript/github/McStasScript/docs/source/tutorial/data_folder/union_loggers_38&quot;
INFO: Regenerating c-file: python_tutorial.c
CFLAGS= -I@MCCODE_LIB@/share/
INFO: Recompiling: ./python_tutorial.out
mccode-r.c:2837:3: warning: expression result unused [-Wunused-value]
  *t0;
  ^~~
In file included from /Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//contrib/union/Incoherent_process.comp:65:
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//share/Union_functions.c:1604:105: warning: incompatible pointer types passing &#39;int (const struct saved_history_struct *, const struct saved_history_struct *)&#39; to parameter of type &#39;int (* _Nonnull)(const void *, const void *)&#39; [-Wincompatible-pointer-types]
  qsort(total_history.saved_histories,total_history.used_elements,sizeof (struct saved_history_struct), Sample_compare_history_intensities);
                                                                                                        ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
/Library/Developer/CommandLineTools/SDKs/MacOSX10.15.sdk/usr/include/stdlib.h:161:22: note: passing argument to parameter &#39;__compar&#39; here
            int (* _Nonnull __compar)(const void *, const void *));
                            ^
In file included from /Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//contrib/union/Incoherent_process.comp:65:
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//share/Union_functions.c:1613:20: warning: incompatible pointer types passing &#39;struct saved_history_struct *&#39; to parameter of type &#39;struct dynamic_history_list *&#39; [-Wincompatible-pointer-types]
    printf_history(&amp;total_history.saved_histories[history_iterate]);
                   ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
mccode-r.h:219:27: note: expanded from macro &#39;MPI_MASTER&#39;
#define MPI_MASTER(instr) instr
                          ^~~~~
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//share/Union_functions.c:1434:50: note: passing argument to parameter &#39;history&#39; here
void printf_history(struct dynamic_history_list *history) {
                                                 ^
In file included from /Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//contrib/union/Incoherent_process.comp:65:
In file included from /Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//share/Union_functions.c:2030:
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//share/Geometry_functions.c:839:1: warning: non-void function does not return a value in all control paths [-Wreturn-type]
};
^
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//share/Geometry_functions.c:883:1: warning: non-void function does not return a value [-Wreturn-type]
};
^
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//share/Geometry_functions.c:3274:42: warning: if statement has empty body [-Wempty-body]
    if (dist_to_corner &gt; sphere_2_radius); { sphere_2_radius = dist_to_corner ; }
                                         ^
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//share/Geometry_functions.c:3274:42: note: put the semicolon on a separate line to silence this warning
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//share/Geometry_functions.c:3276:42: warning: if statement has empty body [-Wempty-body]
    if (dist_to_corner &gt; sphere_2_radius); { sphere_2_radius = dist_to_corner ; }
                                         ^
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//share/Geometry_functions.c:3276:42: note: put the semicolon on a separate line to silence this warning
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//share/Geometry_functions.c:3278:42: warning: if statement has empty body [-Wempty-body]
    if (dist_to_corner &gt; sphere_2_radius); { sphere_2_radius = dist_to_corner ; }
                                         ^
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//share/Geometry_functions.c:3278:42: note: put the semicolon on a separate line to silence this warning
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//share/Geometry_functions.c:3280:42: warning: if statement has empty body [-Wempty-body]
    if (dist_to_corner &gt; sphere_2_radius); { sphere_2_radius = dist_to_corner ; }
                                         ^
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//share/Geometry_functions.c:3280:42: note: put the semicolon on a separate line to silence this warning
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//contrib/union/Union_logger_2D_space.comp:574:45: warning: format string is not a string literal (potentially insecure) [-Wformat-security]
  sprintf(this_storage.Detector_2D.Filename,filename);
                                            ^~~~~~~~
./python_tutorial.c:14067:18: note: expanded from macro &#39;filename&#39;
#define filename mcclogger_space_zx_filename
                 ^~~~~~~~~~~~~~~~~~~~~~~~~~~
/Library/Developer/CommandLineTools/SDKs/MacOSX10.15.sdk/usr/include/secure/_stdio.h:47:56: note: expanded from macro &#39;sprintf&#39;
  __builtin___sprintf_chk (str, 0, __darwin_obsz(str), __VA_ARGS__)
                                                       ^~~~~~~~~~~
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//contrib/union/Union_logger_2D_space.comp:574:45: note: treat the string as an argument to avoid this
  sprintf(this_storage.Detector_2D.Filename,filename);
                                            ^
                                            &quot;%s&quot;, 
./python_tutorial.c:14067:18: note: expanded from macro &#39;filename&#39;
#define filename mcclogger_space_zx_filename
                 ^
/Library/Developer/CommandLineTools/SDKs/MacOSX10.15.sdk/usr/include/secure/_stdio.h:47:56: note: expanded from macro &#39;sprintf&#39;
  __builtin___sprintf_chk (str, 0, __darwin_obsz(str), __VA_ARGS__)
                                                       ^
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//contrib/union/Union_logger_2D_space.comp:574:45: warning: format string is not a string literal (potentially insecure) [-Wformat-security]
  sprintf(this_storage.Detector_2D.Filename,filename);
                                            ^~~~~~~~
./python_tutorial.c:14310:18: note: expanded from macro &#39;filename&#39;
#define filename mcclogger_space_zy_filename
                 ^~~~~~~~~~~~~~~~~~~~~~~~~~~
/Library/Developer/CommandLineTools/SDKs/MacOSX10.15.sdk/usr/include/secure/_stdio.h:47:56: note: expanded from macro &#39;sprintf&#39;
  __builtin___sprintf_chk (str, 0, __darwin_obsz(str), __VA_ARGS__)
                                                       ^~~~~~~~~~~
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//contrib/union/Union_logger_2D_space.comp:574:45: note: treat the string as an argument to avoid this
  sprintf(this_storage.Detector_2D.Filename,filename);
                                            ^
                                            &quot;%s&quot;, 
./python_tutorial.c:14310:18: note: expanded from macro &#39;filename&#39;
#define filename mcclogger_space_zy_filename
                 ^
/Library/Developer/CommandLineTools/SDKs/MacOSX10.15.sdk/usr/include/secure/_stdio.h:47:56: note: expanded from macro &#39;sprintf&#39;
  __builtin___sprintf_chk (str, 0, __darwin_obsz(str), __VA_ARGS__)
                                                       ^
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//contrib/union/Union_master.comp:788:15: warning: expression result unused [-Wunused-value]
          if (volume_index_main,Volumes[volume_index_main]-&gt;geometry.is_mask_volume == 0 ||
              ^~~~~~~~~~~~~~~~~
mccode-r.h:219:27: note: expanded from macro &#39;MPI_MASTER&#39;
#define MPI_MASTER(instr) instr
                          ^~~~~
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//contrib/union/Union_master.comp:788:90: warning: expression result unused [-Wunused-value]
          if (volume_index_main,Volumes[volume_index_main]-&gt;geometry.is_mask_volume == 0 ||
          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~
mccode-r.h:219:27: note: expanded from macro &#39;MPI_MASTER&#39;
#define MPI_MASTER(instr) instr
                          ^~~~~
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//contrib/union/Union_master.comp:789:92: warning: expression result unused [-Wunused-value]
              volume_index_main,Volumes[volume_index_main]-&gt;geometry.is_masked_volume == 0 ||
              ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~
mccode-r.h:219:27: note: expanded from macro &#39;MPI_MASTER&#39;
#define MPI_MASTER(instr) instr
                          ^~~~~
14 warnings generated.
INFO: ===
INFO: Placing instr file copy python_tutorial.instr in dataset /Users/madsbertelsen/PaNOSC/McStasScript/github/McStasScript/docs/source/tutorial/data_folder/union_loggers_38

    Opening input file &#39;/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//data/Al.laz&#39; (Table_Read_Offset)
Table from file &#39;Al.laz&#39; (block 1) is 26 x 18 (x=1:8), constant step. interpolation: linear
  &#39;# TITLE *Aluminum-Al-[FM3-M] Miller, H.P.jr.;DuMond, J.W.M.[1942] at 298 K; ...&#39;
PowderN: Al_pow: Reading 26 rows from Al.laz
PowderN: Al_pow: Read 26 reflections from file &#39;Al.laz&#39;
PowderN: Al_pow: Vc=66.4 [Angs] sigma_abs=0.924 [barn] sigma_inc=0.0328 [barn] reflections=Al.laz
Opening input file &#39;/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//data/Na2Ca3Al2F14.laz&#39; (Table_Read_Offset)
Table from file &#39;Na2Ca3Al2F14.laz&#39; (block 1) is 841 x 18 (x=1:20), constant step. interpolation: linear
  &#39;# TITLE *-Na2Ca3Al2F14-[I213] Courbion, G.;Ferey, G.[1988] Standard NAC cal ...&#39;
PowderN: Sample_pow: Reading 841 rows from Na2Ca3Al2F14.laz
PowderN: Sample_pow: Read 841 reflections from file &#39;Na2Ca3Al2F14.laz&#39;
PowderN: Sample_pow: Vc=1079.1 [Angs] sigma_abs=11.7856 [barn] sigma_inc=13.6704 [barn] reflections=Na2Ca3Al2F14.laz
---------------------------------------------------------------------
global_process_list.num_elements: 4
name of process [0]: Al_inc 
component index [0]: 1 
name of process [1]: Al_pow 
component index [1]: 2 
name of process [2]: Sample_inc 
component index [2]: 4 
name of process [3]: Sample_pow 
component index [3]: 5 
---------------------------------------------------------------------
global_material_list.num_elements: 2
name of material    [0]: Al 
component index     [0]: 3 
my_absoprtion       [0]: 0.347892 
number of processes [0]: 2 
name of material    [1]: Sample 
component index     [1]: 6 
my_absoprtion       [1]: 0.273042 
number of processes [1]: 2 
---------------------------------------------------------------------
global_geometry_list.num_elements: 2

name of geometry    [0]: sample_geometry 
component index     [0]: 8 
Volume.name         [0]: sample_geometry 
Volume.p_physics.is_vacuum           [0]: 0 
Volume.p_physics.my_absorption       [0]: 0.273042 
Volume.p_physics.number of processes [0]: 2 
Volume.geometry.shape                [0]: cylinder 
Volume.geometry.center.x             [0]: 0.000000 
Volume.geometry.center.y             [0]: 0.000000 
Volume.geometry.center.z             [0]: 1.000000 
Volume.geometry.rotation_matrix[0]           [0]: [1.000000 0.000000 0.000000] 
Volume.geometry.rotation_matrix[1]           [0]: [0.000000 1.000000 0.000000] 
Volume.geometry.rotation_matrix[2]           [0]: [0.000000 0.000000 1.000000] 
Volume.geometry.geometry_parameters.cyl_radius [0]: 0.007500 
Volume.geometry.geometry_parameters.height [0]: 0.030000 
Volume.geometry.focus_data_array.elements[0].Aim             [0]: [0.000000 0.000000 1.000000] 

name of geometry    [1]: sample_container 
component index     [1]: 9 
Volume.name         [1]: sample_container 
Volume.p_physics.is_vacuum           [1]: 0 
Volume.p_physics.my_absorption       [1]: 0.347892 
Volume.p_physics.number of processes [1]: 2 
Volume.geometry.shape                [1]: cylinder 
Volume.geometry.center.x             [1]: 0.000000 
Volume.geometry.center.y             [1]: 0.000000 
Volume.geometry.center.z             [1]: 1.000000 
Volume.geometry.rotation_matrix[0]           [1]: [1.000000 0.000000 0.000000] 
Volume.geometry.rotation_matrix[1]           [1]: [0.000000 1.000000 0.000000] 
Volume.geometry.rotation_matrix[2]           [1]: [0.000000 0.000000 1.000000] 
Volume.geometry.geometry_parameters.cyl_radius [1]: 0.009000 
Volume.geometry.geometry_parameters.height [1]: 0.033000 
Volume.geometry.focus_data_array.elements[0].Aim             [1]: [0.000000 0.000000 1.000000] 

name of geometry    [2]: sample_container_lid 
component index     [2]: 10 
Volume.name         [2]: sample_container_lid 
Volume.p_physics.is_vacuum           [2]: 0 
Volume.p_physics.my_absorption       [2]: 0.347892 
Volume.p_physics.number of processes [2]: 2 
Volume.geometry.shape                [2]: cylinder 
Volume.geometry.center.x             [2]: 0.000000 
Volume.geometry.center.y             [2]: 0.015500 
Volume.geometry.center.z             [2]: 1.000000 
Volume.geometry.rotation_matrix[0]           [2]: [1.000000 0.000000 0.000000] 
Volume.geometry.rotation_matrix[1]           [2]: [0.000000 1.000000 0.000000] 
Volume.geometry.rotation_matrix[2]           [2]: [0.000000 0.000000 1.000000] 
Volume.geometry.geometry_parameters.cyl_radius [2]: 0.013000 
Volume.geometry.geometry_parameters.height [2]: 0.004000 
Volume.geometry.focus_data_array.elements[0].Aim             [2]: [0.000000 0.000000 1.000000] 

name of geometry    [3]: cryostat_wall 
component index     [3]: 11 
Volume.name         [3]: cryostat_wall 
Volume.p_physics.is_vacuum           [3]: 0 
Volume.p_physics.my_absorption       [3]: 0.347892 
Volume.p_physics.number of processes [3]: 2 
Volume.geometry.shape                [3]: cylinder 
Volume.geometry.center.x             [3]: 0.000000 
Volume.geometry.center.y             [3]: 0.000000 
Volume.geometry.center.z             [3]: 1.000000 
Volume.geometry.rotation_matrix[0]           [3]: [1.000000 0.000000 0.000000] 
Volume.geometry.rotation_matrix[1]           [3]: [0.000000 1.000000 0.000000] 
Volume.geometry.rotation_matrix[2]           [3]: [0.000000 0.000000 1.000000] 
Volume.geometry.geometry_parameters.cyl_radius [3]: 0.030000 
Volume.geometry.geometry_parameters.height [3]: 0.120000 
Volume.geometry.focus_data_array.elements[0].Aim             [3]: [0.000000 0.000000 1.000000] 

name of geometry    [4]: cryostat_wall_vacuum 
component index     [4]: 12 
Volume.name         [4]: cryostat_wall_vacuum 
Volume.p_physics.is_vacuum           [4]: 1 
Volume.p_physics.my_absorption       [4]: 0.000000 
Volume.p_physics.number of processes [4]: 0 
Volume.geometry.shape                [4]: cylinder 
Volume.geometry.center.x             [4]: 0.000000 
Volume.geometry.center.y             [4]: 0.000000 
Volume.geometry.center.z             [4]: 1.000000 
Volume.geometry.rotation_matrix[0]           [4]: [1.000000 0.000000 0.000000] 
Volume.geometry.rotation_matrix[1]           [4]: [0.000000 1.000000 0.000000] 
Volume.geometry.rotation_matrix[2]           [4]: [0.000000 0.000000 1.000000] 
Volume.geometry.geometry_parameters.cyl_radius [4]: 0.028000 
Volume.geometry.geometry_parameters.height [4]: 0.112000 
Volume.geometry.focus_data_array.elements[0].Aim             [4]: [0.000000 0.000000 1.000000] 

name of geometry    [5]: outer_cryostat_wall 
component index     [5]: 13 
Volume.name         [5]: outer_cryostat_wall 
Volume.p_physics.is_vacuum           [5]: 0 
Volume.p_physics.my_absorption       [5]: 0.347892 
Volume.p_physics.number of processes [5]: 2 
Volume.geometry.shape                [5]: cylinder 
Volume.geometry.center.x             [5]: 0.000000 
Volume.geometry.center.y             [5]: 0.000000 
Volume.geometry.center.z             [5]: 1.000000 
Volume.geometry.rotation_matrix[0]           [5]: [1.000000 0.000000 0.000000] 
Volume.geometry.rotation_matrix[1]           [5]: [0.000000 1.000000 0.000000] 
Volume.geometry.rotation_matrix[2]           [5]: [0.000000 0.000000 1.000000] 
Volume.geometry.geometry_parameters.cyl_radius [5]: 0.100000 
Volume.geometry.geometry_parameters.height [5]: 0.150000 
Volume.geometry.focus_data_array.elements[0].Aim             [5]: [0.000000 0.000000 1.000000] 

name of geometry    [6]: outer_cryostat_wall_vacuum 
component index     [6]: 14 
Volume.name         [6]: outer_cryostat_wall_vacuum 
Volume.p_physics.is_vacuum           [6]: 1 
Volume.p_physics.my_absorption       [6]: 0.000000 
Volume.p_physics.number of processes [6]: 0 
Volume.geometry.shape                [6]: cylinder 
Volume.geometry.center.x             [6]: 0.000000 
Volume.geometry.center.y             [6]: 0.000000 
Volume.geometry.center.z             [6]: 1.000000 
Volume.geometry.rotation_matrix[0]           [6]: [1.000000 0.000000 0.000000] 
Volume.geometry.rotation_matrix[1]           [6]: [0.000000 1.000000 0.000000] 
Volume.geometry.rotation_matrix[2]           [6]: [0.000000 0.000000 1.000000] 
Volume.geometry.geometry_parameters.cyl_radius [6]: 0.097000 
Volume.geometry.geometry_parameters.height [6]: 0.140000 
Volume.geometry.focus_data_array.elements[0].Aim             [6]: [0.000000 0.000000 1.000000] 
---------------------------------------------------------------------
number_of_volumes = 8
number_of_masks = 0
number_of_masked_volumes = 0

 ---- Overview of the lists generated for each volume ---- 
List overview for surrounding vacuum
LIST: Children for Volume                  0 = [1,2,3,4,5,6,7]
LIST: Direct_children for Volume           0 = [6]
LIST: Intersect_check_list for Volume      0 = [6]
LIST: Mask_intersect_list for Volume       0 = []
LIST: Destinations_list for Volume         0 = []
LIST: Reduced_destinations_list for Volume 0 = []
LIST: Next_volume_list for Volume          0 = [6]
LIST: mask_list for Volume                 0 = []
LIST: masked_by_list for Volume            0 = []
LIST: masked_by_mask_index_list for Volume 0 = []
      mask_mode for Volume                 0 = 0

List overview for sample_geometry with cylinder shape made of Sample
LIST: Children for Volume                  1 = []
LIST: Direct_children for Volume           1 = []
LIST: Intersect_check_list for Volume      1 = []
LIST: Mask_intersect_list for Volume       1 = []
LIST: Destinations_list for Volume         1 = [2,3]
LIST: Reduced_destinations_list for Volume 1 = [2,3]
LIST: Next_volume_list for Volume          1 = [2,3]
      Is_vacuum for Volume                 1 = 0
      is_mask_volume for Volume            1 = 0
      is_masked_volume for Volume          1 = 0
      is_exit_volume for Volume            1 = 0
LIST: mask_list for Volume                 1 = []
LIST: masked_by_list for Volume            1 = []
LIST: masked_by_mask_index_list for Volume 1 = []
      mask_mode for Volume                 1 = 0

List overview for sample_container with cylinder shape made of Al
LIST: Children for Volume                  2 = [1]
LIST: Direct_children for Volume           2 = [1]
LIST: Intersect_check_list for Volume      2 = [1]
LIST: Mask_intersect_list for Volume       2 = []
LIST: Destinations_list for Volume         2 = [3,5]
LIST: Reduced_destinations_list for Volume 2 = [5]
LIST: Next_volume_list for Volume          2 = [3,5,1]
      Is_vacuum for Volume                 2 = 0
      is_mask_volume for Volume            2 = 0
      is_masked_volume for Volume          2 = 0
      is_exit_volume for Volume            2 = 0
LIST: mask_list for Volume                 2 = []
LIST: masked_by_list for Volume            2 = []
LIST: masked_by_mask_index_list for Volume 2 = []
      mask_mode for Volume                 2 = 0

List overview for sample_container_lid with cylinder shape made of Al
LIST: Children for Volume                  3 = []
LIST: Direct_children for Volume           3 = []
LIST: Intersect_check_list for Volume      3 = [2]
LIST: Mask_intersect_list for Volume       3 = []
LIST: Destinations_list for Volume         3 = [5]
LIST: Reduced_destinations_list for Volume 3 = [5]
LIST: Next_volume_list for Volume          3 = [5,2]
      Is_vacuum for Volume                 3 = 0
      is_mask_volume for Volume            3 = 0
      is_masked_volume for Volume          3 = 0
      is_exit_volume for Volume            3 = 0
LIST: mask_list for Volume                 3 = []
LIST: masked_by_list for Volume            3 = []
LIST: masked_by_mask_index_list for Volume 3 = []
      mask_mode for Volume                 3 = 0

List overview for cryostat_wall with cylinder shape made of Al
LIST: Children for Volume                  4 = [1,2,3,5]
LIST: Direct_children for Volume           4 = [5]
LIST: Intersect_check_list for Volume      4 = [5]
LIST: Mask_intersect_list for Volume       4 = []
LIST: Destinations_list for Volume         4 = [7]
LIST: Reduced_destinations_list for Volume 4 = [7]
LIST: Next_volume_list for Volume          4 = [7,5]
      Is_vacuum for Volume                 4 = 0
      is_mask_volume for Volume            4 = 0
      is_masked_volume for Volume          4 = 0
      is_exit_volume for Volume            4 = 0
LIST: mask_list for Volume                 4 = []
LIST: masked_by_list for Volume            4 = []
LIST: masked_by_mask_index_list for Volume 4 = []
      mask_mode for Volume                 4 = 0

List overview for cryostat_wall_vacuum with cylinder shape made of Vacuum
LIST: Children for Volume                  5 = [1,2,3]
LIST: Direct_children for Volume           5 = [2,3]
LIST: Intersect_check_list for Volume      5 = [2,3]
LIST: Mask_intersect_list for Volume       5 = []
LIST: Destinations_list for Volume         5 = [4]
LIST: Reduced_destinations_list for Volume 5 = [4]
LIST: Next_volume_list for Volume          5 = [4,2,3]
      Is_vacuum for Volume                 5 = 1
      is_mask_volume for Volume            5 = 0
      is_masked_volume for Volume          5 = 0
      is_exit_volume for Volume            5 = 0
LIST: mask_list for Volume                 5 = []
LIST: masked_by_list for Volume            5 = []
LIST: masked_by_mask_index_list for Volume 5 = []
      mask_mode for Volume                 5 = 0

List overview for outer_cryostat_wall with cylinder shape made of Al
LIST: Children for Volume                  6 = [1,2,3,4,5,7]
LIST: Direct_children for Volume           6 = [7]
LIST: Intersect_check_list for Volume      6 = [7]
LIST: Mask_intersect_list for Volume       6 = []
LIST: Destinations_list for Volume         6 = [0]
LIST: Reduced_destinations_list for Volume 6 = []
LIST: Next_volume_list for Volume          6 = [0,7]
      Is_vacuum for Volume                 6 = 0
      is_mask_volume for Volume            6 = 0
      is_masked_volume for Volume          6 = 0
      is_exit_volume for Volume            6 = 0
LIST: mask_list for Volume                 6 = []
LIST: masked_by_list for Volume            6 = []
LIST: masked_by_mask_index_list for Volume 6 = []
      mask_mode for Volume                 6 = 0

List overview for outer_cryostat_wall_vacuum with cylinder shape made of Vacuum
LIST: Children for Volume                  7 = [1,2,3,4,5]
LIST: Direct_children for Volume           7 = [4]
LIST: Intersect_check_list for Volume      7 = [4]
LIST: Mask_intersect_list for Volume       7 = []
LIST: Destinations_list for Volume         7 = [6]
LIST: Reduced_destinations_list for Volume 7 = [6]
LIST: Next_volume_list for Volume          7 = [6,4]
      Is_vacuum for Volume                 7 = 1
      is_mask_volume for Volume            7 = 0
      is_masked_volume for Volume          7 = 0
      is_exit_volume for Volume            7 = 0
LIST: mask_list for Volume                 7 = []
LIST: masked_by_list for Volume            7 = []
LIST: masked_by_mask_index_list for Volume 7 = []
      mask_mode for Volume                 7 = 0

Union_master component master initialized sucessfully
Detector: logger_space_zx_I=3767.54 logger_space_zx_ERR=9.82125 logger_space_zx_N=198838 &quot;logger_zx.dat&quot;
Detector: logger_space_zy_I=14811.3 logger_space_zy_ERR=31.2216 logger_space_zy_N=711243 &quot;logger_zy.dat&quot;
loading system configuration
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ms</span><span class="o">.</span><span class="n">make_sub_plot</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">log</span><span class="o">=</span><span class="p">[</span><span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">],</span> <span class="n">orders_of_mag</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Plotting data with name logger_space_zx
Plotting data with name logger_space_zy
</pre></div>
</div>
<img alt="../_images/Union_tutorial_3_loggers_15_1.png" src="../_images/Union_tutorial_3_loggers_15_1.png" />
</div>
</div>
</div>
<div class="section" id="scattering-order">
<h2>Scattering order<a class="headerlink" href="#scattering-order" title="Permalink to this headline">¶</a></h2>
<p>All loggers also have the option to only record given scattering orders. For example only record the second scattering.</p>
<ul class="simple">
<li><p>order_total : Match given number of scattering events, counting all scattering events in the system</p></li>
<li><p>order_volume : Match given number of scattering events, only counting events in the current volume</p></li>
<li><p>order_volume_process : Match given number of scattering events, only counting events in current volume with current process</p></li>
</ul>
<p>We can modify our previous loggers to test out these features. The zx logger viewing from above will keep the target, but we remove the sample target on the zy logger, which is done by setting the <em>taget_geometry</em> to NULL. We choose to look at the second scattering event.</p>
<div class="cell tag_scroll-output docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">logger_zx</span><span class="o">.</span><span class="n">order_total</span> <span class="o">=</span> <span class="mi">2</span>

<span class="n">logger_zy</span><span class="o">.</span><span class="n">target_geometry</span> <span class="o">=</span> <span class="s1">&#39;&quot;NULL&quot;&#39;</span>
<span class="n">logger_zy</span><span class="o">.</span><span class="n">order_total</span> <span class="o">=</span> <span class="mi">2</span>

<span class="n">data</span> <span class="o">=</span> <span class="n">instrument</span><span class="o">.</span><span class="n">backengine</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>INFO: Using directory: &quot;/Users/madsbertelsen/PaNOSC/McStasScript/github/McStasScript/docs/source/tutorial/data_folder/union_loggers_39&quot;
INFO: Regenerating c-file: python_tutorial.c
CFLAGS= -I@MCCODE_LIB@/share/
INFO: Recompiling: ./python_tutorial.out
mccode-r.c:2837:3: warning: expression result unused [-Wunused-value]
  *t0;
  ^~~
In file included from /Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//contrib/union/Incoherent_process.comp:65:
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//share/Union_functions.c:1604:105: warning: incompatible pointer types passing &#39;int (const struct saved_history_struct *, const struct saved_history_struct *)&#39; to parameter of type &#39;int (* _Nonnull)(const void *, const void *)&#39; [-Wincompatible-pointer-types]
  qsort(total_history.saved_histories,total_history.used_elements,sizeof (struct saved_history_struct), Sample_compare_history_intensities);
                                                                                                        ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
/Library/Developer/CommandLineTools/SDKs/MacOSX10.15.sdk/usr/include/stdlib.h:161:22: note: passing argument to parameter &#39;__compar&#39; here
            int (* _Nonnull __compar)(const void *, const void *));
                            ^
In file included from /Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//contrib/union/Incoherent_process.comp:65:
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//share/Union_functions.c:1613:20: warning: incompatible pointer types passing &#39;struct saved_history_struct *&#39; to parameter of type &#39;struct dynamic_history_list *&#39; [-Wincompatible-pointer-types]
    printf_history(&amp;total_history.saved_histories[history_iterate]);
                   ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
mccode-r.h:219:27: note: expanded from macro &#39;MPI_MASTER&#39;
#define MPI_MASTER(instr) instr
                          ^~~~~
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//share/Union_functions.c:1434:50: note: passing argument to parameter &#39;history&#39; here
void printf_history(struct dynamic_history_list *history) {
                                                 ^
In file included from /Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//contrib/union/Incoherent_process.comp:65:
In file included from /Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//share/Union_functions.c:2030:
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//share/Geometry_functions.c:839:1: warning: non-void function does not return a value in all control paths [-Wreturn-type]
};
^
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//share/Geometry_functions.c:883:1: warning: non-void function does not return a value [-Wreturn-type]
};
^
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//share/Geometry_functions.c:3274:42: warning: if statement has empty body [-Wempty-body]
    if (dist_to_corner &gt; sphere_2_radius); { sphere_2_radius = dist_to_corner ; }
                                         ^
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//share/Geometry_functions.c:3274:42: note: put the semicolon on a separate line to silence this warning
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//share/Geometry_functions.c:3276:42: warning: if statement has empty body [-Wempty-body]
    if (dist_to_corner &gt; sphere_2_radius); { sphere_2_radius = dist_to_corner ; }
                                         ^
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//share/Geometry_functions.c:3276:42: note: put the semicolon on a separate line to silence this warning
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//share/Geometry_functions.c:3278:42: warning: if statement has empty body [-Wempty-body]
    if (dist_to_corner &gt; sphere_2_radius); { sphere_2_radius = dist_to_corner ; }
                                         ^
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//share/Geometry_functions.c:3278:42: note: put the semicolon on a separate line to silence this warning
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//share/Geometry_functions.c:3280:42: warning: if statement has empty body [-Wempty-body]
    if (dist_to_corner &gt; sphere_2_radius); { sphere_2_radius = dist_to_corner ; }
                                         ^
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//share/Geometry_functions.c:3280:42: note: put the semicolon on a separate line to silence this warning
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//contrib/union/Union_logger_2D_space.comp:574:45: warning: format string is not a string literal (potentially insecure) [-Wformat-security]
  sprintf(this_storage.Detector_2D.Filename,filename);
                                            ^~~~~~~~
./python_tutorial.c:14067:18: note: expanded from macro &#39;filename&#39;
#define filename mcclogger_space_zx_filename
                 ^~~~~~~~~~~~~~~~~~~~~~~~~~~
/Library/Developer/CommandLineTools/SDKs/MacOSX10.15.sdk/usr/include/secure/_stdio.h:47:56: note: expanded from macro &#39;sprintf&#39;
  __builtin___sprintf_chk (str, 0, __darwin_obsz(str), __VA_ARGS__)
                                                       ^~~~~~~~~~~
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//contrib/union/Union_logger_2D_space.comp:574:45: note: treat the string as an argument to avoid this
  sprintf(this_storage.Detector_2D.Filename,filename);
                                            ^
                                            &quot;%s&quot;, 
./python_tutorial.c:14067:18: note: expanded from macro &#39;filename&#39;
#define filename mcclogger_space_zx_filename
                 ^
/Library/Developer/CommandLineTools/SDKs/MacOSX10.15.sdk/usr/include/secure/_stdio.h:47:56: note: expanded from macro &#39;sprintf&#39;
  __builtin___sprintf_chk (str, 0, __darwin_obsz(str), __VA_ARGS__)
                                                       ^
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//contrib/union/Union_logger_2D_space.comp:574:45: warning: format string is not a string literal (potentially insecure) [-Wformat-security]
  sprintf(this_storage.Detector_2D.Filename,filename);
                                            ^~~~~~~~
./python_tutorial.c:14310:18: note: expanded from macro &#39;filename&#39;
#define filename mcclogger_space_zy_filename
                 ^~~~~~~~~~~~~~~~~~~~~~~~~~~
/Library/Developer/CommandLineTools/SDKs/MacOSX10.15.sdk/usr/include/secure/_stdio.h:47:56: note: expanded from macro &#39;sprintf&#39;
  __builtin___sprintf_chk (str, 0, __darwin_obsz(str), __VA_ARGS__)
                                                       ^~~~~~~~~~~
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//contrib/union/Union_logger_2D_space.comp:574:45: note: treat the string as an argument to avoid this
  sprintf(this_storage.Detector_2D.Filename,filename);
                                            ^
                                            &quot;%s&quot;, 
./python_tutorial.c:14310:18: note: expanded from macro &#39;filename&#39;
#define filename mcclogger_space_zy_filename
                 ^
/Library/Developer/CommandLineTools/SDKs/MacOSX10.15.sdk/usr/include/secure/_stdio.h:47:56: note: expanded from macro &#39;sprintf&#39;
  __builtin___sprintf_chk (str, 0, __darwin_obsz(str), __VA_ARGS__)
                                                       ^
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//contrib/union/Union_master.comp:788:15: warning: expression result unused [-Wunused-value]
          if (volume_index_main,Volumes[volume_index_main]-&gt;geometry.is_mask_volume == 0 ||
              ^~~~~~~~~~~~~~~~~
mccode-r.h:219:27: note: expanded from macro &#39;MPI_MASTER&#39;
#define MPI_MASTER(instr) instr
                          ^~~~~
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//contrib/union/Union_master.comp:788:90: warning: expression result unused [-Wunused-value]
          if (volume_index_main,Volumes[volume_index_main]-&gt;geometry.is_mask_volume == 0 ||
          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~
mccode-r.h:219:27: note: expanded from macro &#39;MPI_MASTER&#39;
#define MPI_MASTER(instr) instr
                          ^~~~~
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//contrib/union/Union_master.comp:789:92: warning: expression result unused [-Wunused-value]
              volume_index_main,Volumes[volume_index_main]-&gt;geometry.is_masked_volume == 0 ||
              ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~
mccode-r.h:219:27: note: expanded from macro &#39;MPI_MASTER&#39;
#define MPI_MASTER(instr) instr
                          ^~~~~
14 warnings generated.
INFO: ===
INFO: Placing instr file copy python_tutorial.instr in dataset /Users/madsbertelsen/PaNOSC/McStasScript/github/McStasScript/docs/source/tutorial/data_folder/union_loggers_39

    Opening input file &#39;/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//data/Al.laz&#39; (Table_Read_Offset)
Table from file &#39;Al.laz&#39; (block 1) is 26 x 18 (x=1:8), constant step. interpolation: linear
  &#39;# TITLE *Aluminum-Al-[FM3-M] Miller, H.P.jr.;DuMond, J.W.M.[1942] at 298 K; ...&#39;
PowderN: Al_pow: Reading 26 rows from Al.laz
PowderN: Al_pow: Read 26 reflections from file &#39;Al.laz&#39;
PowderN: Al_pow: Vc=66.4 [Angs] sigma_abs=0.924 [barn] sigma_inc=0.0328 [barn] reflections=Al.laz
Opening input file &#39;/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//data/Na2Ca3Al2F14.laz&#39; (Table_Read_Offset)
Table from file &#39;Na2Ca3Al2F14.laz&#39; (block 1) is 841 x 18 (x=1:20), constant step. interpolation: linear
  &#39;# TITLE *-Na2Ca3Al2F14-[I213] Courbion, G.;Ferey, G.[1988] Standard NAC cal ...&#39;
PowderN: Sample_pow: Reading 841 rows from Na2Ca3Al2F14.laz
PowderN: Sample_pow: Read 841 reflections from file &#39;Na2Ca3Al2F14.laz&#39;
PowderN: Sample_pow: Vc=1079.1 [Angs] sigma_abs=11.7856 [barn] sigma_inc=13.6704 [barn] reflections=Na2Ca3Al2F14.laz
---------------------------------------------------------------------
global_process_list.num_elements: 4
name of process [0]: Al_inc 
component index [0]: 1 
name of process [1]: Al_pow 
component index [1]: 2 
name of process [2]: Sample_inc 
component index [2]: 4 
name of process [3]: Sample_pow 
component index [3]: 5 
---------------------------------------------------------------------
global_material_list.num_elements: 2
name of material    [0]: Al 
component index     [0]: 3 
my_absoprtion       [0]: 0.347892 
number of processes [0]: 2 
name of material    [1]: Sample 
component index     [1]: 6 
my_absoprtion       [1]: 0.273042 
number of processes [1]: 2 
---------------------------------------------------------------------
global_geometry_list.num_elements: 2

name of geometry    [0]: sample_geometry 
component index     [0]: 8 
Volume.name         [0]: sample_geometry 
Volume.p_physics.is_vacuum           [0]: 0 
Volume.p_physics.my_absorption       [0]: 0.273042 
Volume.p_physics.number of processes [0]: 2 
Volume.geometry.shape                [0]: cylinder 
Volume.geometry.center.x             [0]: 0.000000 
Volume.geometry.center.y             [0]: 0.000000 
Volume.geometry.center.z             [0]: 1.000000 
Volume.geometry.rotation_matrix[0]           [0]: [1.000000 0.000000 0.000000] 
Volume.geometry.rotation_matrix[1]           [0]: [0.000000 1.000000 0.000000] 
Volume.geometry.rotation_matrix[2]           [0]: [0.000000 0.000000 1.000000] 
Volume.geometry.geometry_parameters.cyl_radius [0]: 0.007500 
Volume.geometry.geometry_parameters.height [0]: 0.030000 
Volume.geometry.focus_data_array.elements[0].Aim             [0]: [0.000000 0.000000 1.000000] 

name of geometry    [1]: sample_container 
component index     [1]: 9 
Volume.name         [1]: sample_container 
Volume.p_physics.is_vacuum           [1]: 0 
Volume.p_physics.my_absorption       [1]: 0.347892 
Volume.p_physics.number of processes [1]: 2 
Volume.geometry.shape                [1]: cylinder 
Volume.geometry.center.x             [1]: 0.000000 
Volume.geometry.center.y             [1]: 0.000000 
Volume.geometry.center.z             [1]: 1.000000 
Volume.geometry.rotation_matrix[0]           [1]: [1.000000 0.000000 0.000000] 
Volume.geometry.rotation_matrix[1]           [1]: [0.000000 1.000000 0.000000] 
Volume.geometry.rotation_matrix[2]           [1]: [0.000000 0.000000 1.000000] 
Volume.geometry.geometry_parameters.cyl_radius [1]: 0.009000 
Volume.geometry.geometry_parameters.height [1]: 0.033000 
Volume.geometry.focus_data_array.elements[0].Aim             [1]: [0.000000 0.000000 1.000000] 

name of geometry    [2]: sample_container_lid 
component index     [2]: 10 
Volume.name         [2]: sample_container_lid 
Volume.p_physics.is_vacuum           [2]: 0 
Volume.p_physics.my_absorption       [2]: 0.347892 
Volume.p_physics.number of processes [2]: 2 
Volume.geometry.shape                [2]: cylinder 
Volume.geometry.center.x             [2]: 0.000000 
Volume.geometry.center.y             [2]: 0.015500 
Volume.geometry.center.z             [2]: 1.000000 
Volume.geometry.rotation_matrix[0]           [2]: [1.000000 0.000000 0.000000] 
Volume.geometry.rotation_matrix[1]           [2]: [0.000000 1.000000 0.000000] 
Volume.geometry.rotation_matrix[2]           [2]: [0.000000 0.000000 1.000000] 
Volume.geometry.geometry_parameters.cyl_radius [2]: 0.013000 
Volume.geometry.geometry_parameters.height [2]: 0.004000 
Volume.geometry.focus_data_array.elements[0].Aim             [2]: [0.000000 0.000000 1.000000] 

name of geometry    [3]: cryostat_wall 
component index     [3]: 11 
Volume.name         [3]: cryostat_wall 
Volume.p_physics.is_vacuum           [3]: 0 
Volume.p_physics.my_absorption       [3]: 0.347892 
Volume.p_physics.number of processes [3]: 2 
Volume.geometry.shape                [3]: cylinder 
Volume.geometry.center.x             [3]: 0.000000 
Volume.geometry.center.y             [3]: 0.000000 
Volume.geometry.center.z             [3]: 1.000000 
Volume.geometry.rotation_matrix[0]           [3]: [1.000000 0.000000 0.000000] 
Volume.geometry.rotation_matrix[1]           [3]: [0.000000 1.000000 0.000000] 
Volume.geometry.rotation_matrix[2]           [3]: [0.000000 0.000000 1.000000] 
Volume.geometry.geometry_parameters.cyl_radius [3]: 0.030000 
Volume.geometry.geometry_parameters.height [3]: 0.120000 
Volume.geometry.focus_data_array.elements[0].Aim             [3]: [0.000000 0.000000 1.000000] 

name of geometry    [4]: cryostat_wall_vacuum 
component index     [4]: 12 
Volume.name         [4]: cryostat_wall_vacuum 
Volume.p_physics.is_vacuum           [4]: 1 
Volume.p_physics.my_absorption       [4]: 0.000000 
Volume.p_physics.number of processes [4]: 0 
Volume.geometry.shape                [4]: cylinder 
Volume.geometry.center.x             [4]: 0.000000 
Volume.geometry.center.y             [4]: 0.000000 
Volume.geometry.center.z             [4]: 1.000000 
Volume.geometry.rotation_matrix[0]           [4]: [1.000000 0.000000 0.000000] 
Volume.geometry.rotation_matrix[1]           [4]: [0.000000 1.000000 0.000000] 
Volume.geometry.rotation_matrix[2]           [4]: [0.000000 0.000000 1.000000] 
Volume.geometry.geometry_parameters.cyl_radius [4]: 0.028000 
Volume.geometry.geometry_parameters.height [4]: 0.112000 
Volume.geometry.focus_data_array.elements[0].Aim             [4]: [0.000000 0.000000 1.000000] 

name of geometry    [5]: outer_cryostat_wall 
component index     [5]: 13 
Volume.name         [5]: outer_cryostat_wall 
Volume.p_physics.is_vacuum           [5]: 0 
Volume.p_physics.my_absorption       [5]: 0.347892 
Volume.p_physics.number of processes [5]: 2 
Volume.geometry.shape                [5]: cylinder 
Volume.geometry.center.x             [5]: 0.000000 
Volume.geometry.center.y             [5]: 0.000000 
Volume.geometry.center.z             [5]: 1.000000 
Volume.geometry.rotation_matrix[0]           [5]: [1.000000 0.000000 0.000000] 
Volume.geometry.rotation_matrix[1]           [5]: [0.000000 1.000000 0.000000] 
Volume.geometry.rotation_matrix[2]           [5]: [0.000000 0.000000 1.000000] 
Volume.geometry.geometry_parameters.cyl_radius [5]: 0.100000 
Volume.geometry.geometry_parameters.height [5]: 0.150000 
Volume.geometry.focus_data_array.elements[0].Aim             [5]: [0.000000 0.000000 1.000000] 

name of geometry    [6]: outer_cryostat_wall_vacuum 
component index     [6]: 14 
Volume.name         [6]: outer_cryostat_wall_vacuum 
Volume.p_physics.is_vacuum           [6]: 1 
Volume.p_physics.my_absorption       [6]: 0.000000 
Volume.p_physics.number of processes [6]: 0 
Volume.geometry.shape                [6]: cylinder 
Volume.geometry.center.x             [6]: 0.000000 
Volume.geometry.center.y             [6]: 0.000000 
Volume.geometry.center.z             [6]: 1.000000 
Volume.geometry.rotation_matrix[0]           [6]: [1.000000 0.000000 0.000000] 
Volume.geometry.rotation_matrix[1]           [6]: [0.000000 1.000000 0.000000] 
Volume.geometry.rotation_matrix[2]           [6]: [0.000000 0.000000 1.000000] 
Volume.geometry.geometry_parameters.cyl_radius [6]: 0.097000 
Volume.geometry.geometry_parameters.height [6]: 0.140000 
Volume.geometry.focus_data_array.elements[0].Aim             [6]: [0.000000 0.000000 1.000000] 
---------------------------------------------------------------------
number_of_volumes = 8
number_of_masks = 0
number_of_masked_volumes = 0

 ---- Overview of the lists generated for each volume ---- 
List overview for surrounding vacuum
LIST: Children for Volume                  0 = [1,2,3,4,5,6,7]
LIST: Direct_children for Volume           0 = [6]
LIST: Intersect_check_list for Volume      0 = [6]
LIST: Mask_intersect_list for Volume       0 = []
LIST: Destinations_list for Volume         0 = []
LIST: Reduced_destinations_list for Volume 0 = []
LIST: Next_volume_list for Volume          0 = [6]
LIST: mask_list for Volume                 0 = []
LIST: masked_by_list for Volume            0 = []
LIST: masked_by_mask_index_list for Volume 0 = []
      mask_mode for Volume                 0 = 0

List overview for sample_geometry with cylinder shape made of Sample
LIST: Children for Volume                  1 = []
LIST: Direct_children for Volume           1 = []
LIST: Intersect_check_list for Volume      1 = []
LIST: Mask_intersect_list for Volume       1 = []
LIST: Destinations_list for Volume         1 = [2,3]
LIST: Reduced_destinations_list for Volume 1 = [2,3]
LIST: Next_volume_list for Volume          1 = [2,3]
      Is_vacuum for Volume                 1 = 0
      is_mask_volume for Volume            1 = 0
      is_masked_volume for Volume          1 = 0
      is_exit_volume for Volume            1 = 0
LIST: mask_list for Volume                 1 = []
LIST: masked_by_list for Volume            1 = []
LIST: masked_by_mask_index_list for Volume 1 = []
      mask_mode for Volume                 1 = 0

List overview for sample_container with cylinder shape made of Al
LIST: Children for Volume                  2 = [1]
LIST: Direct_children for Volume           2 = [1]
LIST: Intersect_check_list for Volume      2 = [1]
LIST: Mask_intersect_list for Volume       2 = []
LIST: Destinations_list for Volume         2 = [3,5]
LIST: Reduced_destinations_list for Volume 2 = [5]
LIST: Next_volume_list for Volume          2 = [3,5,1]
      Is_vacuum for Volume                 2 = 0
      is_mask_volume for Volume            2 = 0
      is_masked_volume for Volume          2 = 0
      is_exit_volume for Volume            2 = 0
LIST: mask_list for Volume                 2 = []
LIST: masked_by_list for Volume            2 = []
LIST: masked_by_mask_index_list for Volume 2 = []
      mask_mode for Volume                 2 = 0

List overview for sample_container_lid with cylinder shape made of Al
LIST: Children for Volume                  3 = []
LIST: Direct_children for Volume           3 = []
LIST: Intersect_check_list for Volume      3 = [2]
LIST: Mask_intersect_list for Volume       3 = []
LIST: Destinations_list for Volume         3 = [5]
LIST: Reduced_destinations_list for Volume 3 = [5]
LIST: Next_volume_list for Volume          3 = [5,2]
      Is_vacuum for Volume                 3 = 0
      is_mask_volume for Volume            3 = 0
      is_masked_volume for Volume          3 = 0
      is_exit_volume for Volume            3 = 0
LIST: mask_list for Volume                 3 = []
LIST: masked_by_list for Volume            3 = []
LIST: masked_by_mask_index_list for Volume 3 = []
      mask_mode for Volume                 3 = 0

List overview for cryostat_wall with cylinder shape made of Al
LIST: Children for Volume                  4 = [1,2,3,5]
LIST: Direct_children for Volume           4 = [5]
LIST: Intersect_check_list for Volume      4 = [5]
LIST: Mask_intersect_list for Volume       4 = []
LIST: Destinations_list for Volume         4 = [7]
LIST: Reduced_destinations_list for Volume 4 = [7]
LIST: Next_volume_list for Volume          4 = [7,5]
      Is_vacuum for Volume                 4 = 0
      is_mask_volume for Volume            4 = 0
      is_masked_volume for Volume          4 = 0
      is_exit_volume for Volume            4 = 0
LIST: mask_list for Volume                 4 = []
LIST: masked_by_list for Volume            4 = []
LIST: masked_by_mask_index_list for Volume 4 = []
      mask_mode for Volume                 4 = 0

List overview for cryostat_wall_vacuum with cylinder shape made of Vacuum
LIST: Children for Volume                  5 = [1,2,3]
LIST: Direct_children for Volume           5 = [2,3]
LIST: Intersect_check_list for Volume      5 = [2,3]
LIST: Mask_intersect_list for Volume       5 = []
LIST: Destinations_list for Volume         5 = [4]
LIST: Reduced_destinations_list for Volume 5 = [4]
LIST: Next_volume_list for Volume          5 = [4,2,3]
      Is_vacuum for Volume                 5 = 1
      is_mask_volume for Volume            5 = 0
      is_masked_volume for Volume          5 = 0
      is_exit_volume for Volume            5 = 0
LIST: mask_list for Volume                 5 = []
LIST: masked_by_list for Volume            5 = []
LIST: masked_by_mask_index_list for Volume 5 = []
      mask_mode for Volume                 5 = 0

List overview for outer_cryostat_wall with cylinder shape made of Al
LIST: Children for Volume                  6 = [1,2,3,4,5,7]
LIST: Direct_children for Volume           6 = [7]
LIST: Intersect_check_list for Volume      6 = [7]
LIST: Mask_intersect_list for Volume       6 = []
LIST: Destinations_list for Volume         6 = [0]
LIST: Reduced_destinations_list for Volume 6 = []
LIST: Next_volume_list for Volume          6 = [0,7]
      Is_vacuum for Volume                 6 = 0
      is_mask_volume for Volume            6 = 0
      is_masked_volume for Volume          6 = 0
      is_exit_volume for Volume            6 = 0
LIST: mask_list for Volume                 6 = []
LIST: masked_by_list for Volume            6 = []
LIST: masked_by_mask_index_list for Volume 6 = []
      mask_mode for Volume                 6 = 0

List overview for outer_cryostat_wall_vacuum with cylinder shape made of Vacuum
LIST: Children for Volume                  7 = [1,2,3,4,5]
LIST: Direct_children for Volume           7 = [4]
LIST: Intersect_check_list for Volume      7 = [4]
LIST: Mask_intersect_list for Volume       7 = []
LIST: Destinations_list for Volume         7 = [6]
LIST: Reduced_destinations_list for Volume 7 = [6]
LIST: Next_volume_list for Volume          7 = [6,4]
      Is_vacuum for Volume                 7 = 1
      is_mask_volume for Volume            7 = 0
      is_masked_volume for Volume          7 = 0
      is_exit_volume for Volume            7 = 0
LIST: mask_list for Volume                 7 = []
LIST: masked_by_list for Volume            7 = []
LIST: masked_by_mask_index_list for Volume 7 = []
      mask_mode for Volume                 7 = 0

Union_master component master initialized sucessfully
Detector: logger_space_zx_I=727.815 logger_space_zx_ERR=5.11889 logger_space_zx_N=39888 &quot;logger_zx.dat&quot;
Detector: logger_space_zy_I=2812.42 logger_space_zy_ERR=16.418 logger_space_zy_N=140536 &quot;logger_zy.dat&quot;
loading system configuration
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ms</span><span class="o">.</span><span class="n">make_sub_plot</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">log</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">orders_of_mag</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Plotting data with name logger_space_zx
Plotting data with name logger_space_zy
</pre></div>
</div>
<img alt="../_images/Union_tutorial_3_loggers_18_1.png" src="../_images/Union_tutorial_3_loggers_18_1.png" />
</div>
</div>
</div>
<div class="section" id="demonstration-of-additional-logger-components">
<h2>Demonstration of additional logger components<a class="headerlink" href="#demonstration-of-additional-logger-components" title="Permalink to this headline">¶</a></h2>
<p>Here we add a few more loggers to showcase what kind of information that can be displayed.</p>
<ul class="simple">
<li><p>1D logger that logs scattered intensity as function of time</p></li>
<li><p>2D abs_logger that logs absorption projected onto the scattering plane</p></li>
<li><p>2DQ logger that logs scattering vector projected onto the scattering plane</p></li>
<li><p>2D kf logger that logs final wavevector projected onto the scattering plane</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">logger_1D</span> <span class="o">=</span> <span class="n">instrument</span><span class="o">.</span><span class="n">add_component</span><span class="p">(</span><span class="s2">&quot;logger_1D&quot;</span><span class="p">,</span> <span class="s2">&quot;Union_logger_1D&quot;</span><span class="p">,</span> <span class="n">before</span><span class="o">=</span><span class="s2">&quot;master&quot;</span><span class="p">)</span>
<span class="n">logger_1D</span><span class="o">.</span><span class="n">variable</span> <span class="o">=</span> <span class="s1">&#39;&quot;time&quot;&#39;</span>
<span class="n">logger_1D</span><span class="o">.</span><span class="n">min_value</span> <span class="o">=</span> <span class="mf">0.0006</span>
<span class="n">logger_1D</span><span class="o">.</span><span class="n">max_value</span> <span class="o">=</span> <span class="mf">0.0012</span>
<span class="n">logger_1D</span><span class="o">.</span><span class="n">n1</span> <span class="o">=</span> <span class="mi">300</span>
<span class="n">logger_1D</span><span class="o">.</span><span class="n">filename</span> <span class="o">=</span> <span class="s1">&#39;&quot;logger_1D_time.dat&quot;&#39;</span>

<span class="n">abs_logger_zx</span> <span class="o">=</span> <span class="n">instrument</span><span class="o">.</span><span class="n">add_component</span><span class="p">(</span><span class="s2">&quot;abs_logger_space_zx&quot;</span><span class="p">,</span> <span class="s2">&quot;Union_abs_logger_2D_space&quot;</span><span class="p">,</span>
                                         <span class="n">before</span><span class="o">=</span><span class="s2">&quot;master&quot;</span><span class="p">)</span>
<span class="n">abs_logger_zx</span><span class="o">.</span><span class="n">set_AT</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="n">RELATIVE</span><span class="o">=</span><span class="n">sample_geometry</span><span class="p">)</span>
<span class="n">abs_logger_zx</span><span class="o">.</span><span class="n">D_direction_1</span> <span class="o">=</span> <span class="s1">&#39;&quot;z&quot;&#39;</span>
<span class="n">abs_logger_zx</span><span class="o">.</span><span class="n">D1_min</span> <span class="o">=</span> <span class="o">-</span><span class="mf">0.12</span>
<span class="n">abs_logger_zx</span><span class="o">.</span><span class="n">D1_max</span> <span class="o">=</span> <span class="mf">0.12</span>
<span class="n">abs_logger_zx</span><span class="o">.</span><span class="n">n1</span> <span class="o">=</span> <span class="mi">300</span>
<span class="n">abs_logger_zx</span><span class="o">.</span><span class="n">D_direction_2</span> <span class="o">=</span> <span class="s1">&#39;&quot;x&quot;&#39;</span>
<span class="n">abs_logger_zx</span><span class="o">.</span><span class="n">D2_min</span> <span class="o">=</span> <span class="o">-</span><span class="mf">0.12</span>
<span class="n">abs_logger_zx</span><span class="o">.</span><span class="n">D2_max</span> <span class="o">=</span> <span class="mf">0.12</span>
<span class="n">abs_logger_zx</span><span class="o">.</span><span class="n">n2</span> <span class="o">=</span> <span class="mi">300</span>
<span class="n">abs_logger_zx</span><span class="o">.</span><span class="n">filename</span> <span class="o">=</span> <span class="s1">&#39;&quot;abs_logger_zx.dat&quot;&#39;</span>

<span class="n">logger_2DQ</span> <span class="o">=</span> <span class="n">instrument</span><span class="o">.</span><span class="n">add_component</span><span class="p">(</span><span class="s2">&quot;logger_2DQ&quot;</span><span class="p">,</span> <span class="s2">&quot;Union_logger_2DQ&quot;</span><span class="p">,</span> <span class="n">before</span><span class="o">=</span><span class="s2">&quot;master&quot;</span><span class="p">)</span>
<span class="n">logger_2DQ</span><span class="o">.</span><span class="n">Q_direction_1</span> <span class="o">=</span> <span class="s1">&#39;&quot;z&quot;&#39;</span>
<span class="n">logger_2DQ</span><span class="o">.</span><span class="n">Q1_min</span> <span class="o">=</span> <span class="o">-</span><span class="mf">5.0</span>
<span class="n">logger_2DQ</span><span class="o">.</span><span class="n">Q1_max</span> <span class="o">=</span> <span class="mf">5.0</span>
<span class="n">logger_2DQ</span><span class="o">.</span><span class="n">n1</span> <span class="o">=</span> <span class="mi">200</span>
<span class="n">logger_2DQ</span><span class="o">.</span><span class="n">Q_direction_2</span> <span class="o">=</span> <span class="s1">&#39;&quot;x&quot;&#39;</span>
<span class="n">logger_2DQ</span><span class="o">.</span><span class="n">Q2_min</span> <span class="o">=</span> <span class="o">-</span><span class="mf">5.0</span>
<span class="n">logger_2DQ</span><span class="o">.</span><span class="n">Q2_max</span> <span class="o">=</span> <span class="mf">5.0</span>
<span class="n">logger_2DQ</span><span class="o">.</span><span class="n">n2</span> <span class="o">=</span> <span class="mi">200</span>
<span class="n">logger_2DQ</span><span class="o">.</span><span class="n">filename</span> <span class="o">=</span> <span class="s1">&#39;&quot;logger_2DQ.dat&quot;&#39;</span>

<span class="n">logger_2D_kf</span> <span class="o">=</span> <span class="n">instrument</span><span class="o">.</span><span class="n">add_component</span><span class="p">(</span><span class="s2">&quot;logger_2D_kf&quot;</span><span class="p">,</span> <span class="s2">&quot;Union_logger_2D_kf&quot;</span><span class="p">,</span>
                                        <span class="n">before</span><span class="o">=</span><span class="s2">&quot;master&quot;</span><span class="p">)</span>
<span class="n">logger_2D_kf</span><span class="o">.</span><span class="n">Q_direction_1</span> <span class="o">=</span> <span class="s1">&#39;&quot;z&quot;&#39;</span>
<span class="n">logger_2D_kf</span><span class="o">.</span><span class="n">Q1_min</span> <span class="o">=</span> <span class="o">-</span><span class="mf">2.5</span>
<span class="n">logger_2D_kf</span><span class="o">.</span><span class="n">Q1_max</span> <span class="o">=</span> <span class="mf">2.5</span>
<span class="n">logger_2D_kf</span><span class="o">.</span><span class="n">n1</span> <span class="o">=</span> <span class="mi">200</span>
<span class="n">logger_2D_kf</span><span class="o">.</span><span class="n">Q_direction_2</span> <span class="o">=</span> <span class="s1">&#39;&quot;x&quot;&#39;</span>
<span class="n">logger_2D_kf</span><span class="o">.</span><span class="n">Q2_min</span> <span class="o">=</span> <span class="o">-</span><span class="mf">2.5</span>
<span class="n">logger_2D_kf</span><span class="o">.</span><span class="n">Q2_max</span> <span class="o">=</span> <span class="mf">2.5</span>
<span class="n">logger_2D_kf</span><span class="o">.</span><span class="n">n2</span> <span class="o">=</span> <span class="mi">200</span>
<span class="n">logger_2D_kf</span><span class="o">.</span><span class="n">filename</span> <span class="o">=</span> <span class="s1">&#39;&quot;logger_2D_kf.dat&quot;&#39;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="runnig-the-simulation">
<h3>Runnig the simulation<a class="headerlink" href="#runnig-the-simulation" title="Permalink to this headline">¶</a></h3>
<p>We now rerun the simulation with the new loggers. If mpi is installed, one can add mpi=N where N is the number of cores available to speed up the simulation.</p>
<div class="cell tag_scroll-output docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data</span> <span class="o">=</span> <span class="n">instrument</span><span class="o">.</span><span class="n">backengine</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>INFO: Using directory: &quot;/Users/madsbertelsen/PaNOSC/McStasScript/github/McStasScript/docs/source/tutorial/data_folder/union_loggers_40&quot;
INFO: Regenerating c-file: python_tutorial.c
CFLAGS= -I@MCCODE_LIB@/share/
INFO: Recompiling: ./python_tutorial.out
mccode-r.c:2837:3: warning: expression result unused [-Wunused-value]
  *t0;
  ^~~
In file included from /Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//contrib/union/Incoherent_process.comp:65:
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//share/Union_functions.c:1604:105: warning: incompatible pointer types passing &#39;int (const struct saved_history_struct *, const struct saved_history_struct *)&#39; to parameter of type &#39;int (* _Nonnull)(const void *, const void *)&#39; [-Wincompatible-pointer-types]
  qsort(total_history.saved_histories,total_history.used_elements,sizeof (struct saved_history_struct), Sample_compare_history_intensities);
                                                                                                        ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
/Library/Developer/CommandLineTools/SDKs/MacOSX10.15.sdk/usr/include/stdlib.h:161:22: note: passing argument to parameter &#39;__compar&#39; here
            int (* _Nonnull __compar)(const void *, const void *));
                            ^
In file included from /Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//contrib/union/Incoherent_process.comp:65:
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//share/Union_functions.c:1613:20: warning: incompatible pointer types passing &#39;struct saved_history_struct *&#39; to parameter of type &#39;struct dynamic_history_list *&#39; [-Wincompatible-pointer-types]
    printf_history(&amp;total_history.saved_histories[history_iterate]);
                   ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
mccode-r.h:219:27: note: expanded from macro &#39;MPI_MASTER&#39;
#define MPI_MASTER(instr) instr
                          ^~~~~
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//share/Union_functions.c:1434:50: note: passing argument to parameter &#39;history&#39; here
void printf_history(struct dynamic_history_list *history) {
                                                 ^
In file included from /Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//contrib/union/Incoherent_process.comp:65:
In file included from /Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//share/Union_functions.c:2030:
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//share/Geometry_functions.c:839:1: warning: non-void function does not return a value in all control paths [-Wreturn-type]
};
^
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//share/Geometry_functions.c:883:1: warning: non-void function does not return a value [-Wreturn-type]
};
^
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//share/Geometry_functions.c:3274:42: warning: if statement has empty body [-Wempty-body]
    if (dist_to_corner &gt; sphere_2_radius); { sphere_2_radius = dist_to_corner ; }
                                         ^
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//share/Geometry_functions.c:3274:42: note: put the semicolon on a separate line to silence this warning
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//share/Geometry_functions.c:3276:42: warning: if statement has empty body [-Wempty-body]
    if (dist_to_corner &gt; sphere_2_radius); { sphere_2_radius = dist_to_corner ; }
                                         ^
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//share/Geometry_functions.c:3276:42: note: put the semicolon on a separate line to silence this warning
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//share/Geometry_functions.c:3278:42: warning: if statement has empty body [-Wempty-body]
    if (dist_to_corner &gt; sphere_2_radius); { sphere_2_radius = dist_to_corner ; }
                                         ^
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//share/Geometry_functions.c:3278:42: note: put the semicolon on a separate line to silence this warning
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//share/Geometry_functions.c:3280:42: warning: if statement has empty body [-Wempty-body]
    if (dist_to_corner &gt; sphere_2_radius); { sphere_2_radius = dist_to_corner ; }
                                         ^
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//share/Geometry_functions.c:3280:42: note: put the semicolon on a separate line to silence this warning
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//contrib/union/Union_logger_2D_space.comp:574:45: warning: format string is not a string literal (potentially insecure) [-Wformat-security]
  sprintf(this_storage.Detector_2D.Filename,filename);
                                            ^~~~~~~~
./python_tutorial.c:20436:18: note: expanded from macro &#39;filename&#39;
#define filename mcclogger_space_zx_filename
                 ^~~~~~~~~~~~~~~~~~~~~~~~~~~
/Library/Developer/CommandLineTools/SDKs/MacOSX10.15.sdk/usr/include/secure/_stdio.h:47:56: note: expanded from macro &#39;sprintf&#39;
  __builtin___sprintf_chk (str, 0, __darwin_obsz(str), __VA_ARGS__)
                                                       ^~~~~~~~~~~
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//contrib/union/Union_logger_2D_space.comp:574:45: note: treat the string as an argument to avoid this
  sprintf(this_storage.Detector_2D.Filename,filename);
                                            ^
                                            &quot;%s&quot;, 
./python_tutorial.c:20436:18: note: expanded from macro &#39;filename&#39;
#define filename mcclogger_space_zx_filename
                 ^
/Library/Developer/CommandLineTools/SDKs/MacOSX10.15.sdk/usr/include/secure/_stdio.h:47:56: note: expanded from macro &#39;sprintf&#39;
  __builtin___sprintf_chk (str, 0, __darwin_obsz(str), __VA_ARGS__)
                                                       ^
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//contrib/union/Union_logger_2D_space.comp:574:45: warning: format string is not a string literal (potentially insecure) [-Wformat-security]
  sprintf(this_storage.Detector_2D.Filename,filename);
                                            ^~~~~~~~
./python_tutorial.c:20679:18: note: expanded from macro &#39;filename&#39;
#define filename mcclogger_space_zy_filename
                 ^~~~~~~~~~~~~~~~~~~~~~~~~~~
/Library/Developer/CommandLineTools/SDKs/MacOSX10.15.sdk/usr/include/secure/_stdio.h:47:56: note: expanded from macro &#39;sprintf&#39;
  __builtin___sprintf_chk (str, 0, __darwin_obsz(str), __VA_ARGS__)
                                                       ^~~~~~~~~~~
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//contrib/union/Union_logger_2D_space.comp:574:45: note: treat the string as an argument to avoid this
  sprintf(this_storage.Detector_2D.Filename,filename);
                                            ^
                                            &quot;%s&quot;, 
./python_tutorial.c:20679:18: note: expanded from macro &#39;filename&#39;
#define filename mcclogger_space_zy_filename
                 ^
/Library/Developer/CommandLineTools/SDKs/MacOSX10.15.sdk/usr/include/secure/_stdio.h:47:56: note: expanded from macro &#39;sprintf&#39;
  __builtin___sprintf_chk (str, 0, __darwin_obsz(str), __VA_ARGS__)
                                                       ^
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//contrib/union/Union_logger_1D.comp:479:45: warning: format string is not a string literal (potentially insecure) [-Wformat-security]
  sprintf(this_storage.Detector_1D.Filename,filename);
                                            ^~~~~~~~
./python_tutorial.c:20918:18: note: expanded from macro &#39;filename&#39;
#define filename mcclogger_1D_filename
                 ^~~~~~~~~~~~~~~~~~~~~
/Library/Developer/CommandLineTools/SDKs/MacOSX10.15.sdk/usr/include/secure/_stdio.h:47:56: note: expanded from macro &#39;sprintf&#39;
  __builtin___sprintf_chk (str, 0, __darwin_obsz(str), __VA_ARGS__)
                                                       ^~~~~~~~~~~
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//contrib/union/Union_logger_1D.comp:479:45: note: treat the string as an argument to avoid this
  sprintf(this_storage.Detector_1D.Filename,filename);
                                            ^
                                            &quot;%s&quot;, 
./python_tutorial.c:20918:18: note: expanded from macro &#39;filename&#39;
#define filename mcclogger_1D_filename
                 ^
/Library/Developer/CommandLineTools/SDKs/MacOSX10.15.sdk/usr/include/secure/_stdio.h:47:56: note: expanded from macro &#39;sprintf&#39;
  __builtin___sprintf_chk (str, 0, __darwin_obsz(str), __VA_ARGS__)
                                                       ^
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//contrib/union/Union_abs_logger_2D_space.comp:543:49: warning: format string is not a string literal (potentially insecure) [-Wformat-security]
  sprintf(this_abs_storage.Detector_2D.Filename,filename);
                                                ^~~~~~~~
./python_tutorial.c:21109:18: note: expanded from macro &#39;filename&#39;
#define filename mccabs_logger_space_zx_filename
                 ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
/Library/Developer/CommandLineTools/SDKs/MacOSX10.15.sdk/usr/include/secure/_stdio.h:47:56: note: expanded from macro &#39;sprintf&#39;
  __builtin___sprintf_chk (str, 0, __darwin_obsz(str), __VA_ARGS__)
                                                       ^~~~~~~~~~~
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//contrib/union/Union_abs_logger_2D_space.comp:543:49: note: treat the string as an argument to avoid this
  sprintf(this_abs_storage.Detector_2D.Filename,filename);
                                                ^
                                                &quot;%s&quot;, 
./python_tutorial.c:21109:18: note: expanded from macro &#39;filename&#39;
#define filename mccabs_logger_space_zx_filename
                 ^
/Library/Developer/CommandLineTools/SDKs/MacOSX10.15.sdk/usr/include/secure/_stdio.h:47:56: note: expanded from macro &#39;sprintf&#39;
  __builtin___sprintf_chk (str, 0, __darwin_obsz(str), __VA_ARGS__)
                                                       ^
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//contrib/union/Union_logger_2DQ.comp:535:45: warning: format string is not a string literal (potentially insecure) [-Wformat-security]
  sprintf(this_storage.Detector_2D.Filename,filename);
                                            ^~~~~~~~
./python_tutorial.c:21333:18: note: expanded from macro &#39;filename&#39;
#define filename mcclogger_2DQ_filename
                 ^~~~~~~~~~~~~~~~~~~~~~
/Library/Developer/CommandLineTools/SDKs/MacOSX10.15.sdk/usr/include/secure/_stdio.h:47:56: note: expanded from macro &#39;sprintf&#39;
  __builtin___sprintf_chk (str, 0, __darwin_obsz(str), __VA_ARGS__)
                                                       ^~~~~~~~~~~
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//contrib/union/Union_logger_2DQ.comp:535:45: note: treat the string as an argument to avoid this
  sprintf(this_storage.Detector_2D.Filename,filename);
                                            ^
                                            &quot;%s&quot;, 
./python_tutorial.c:21333:18: note: expanded from macro &#39;filename&#39;
#define filename mcclogger_2DQ_filename
                 ^
/Library/Developer/CommandLineTools/SDKs/MacOSX10.15.sdk/usr/include/secure/_stdio.h:47:56: note: expanded from macro &#39;sprintf&#39;
  __builtin___sprintf_chk (str, 0, __darwin_obsz(str), __VA_ARGS__)
                                                       ^
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//contrib/union/Union_logger_2D_kf.comp:536:45: warning: format string is not a string literal (potentially insecure) [-Wformat-security]
  sprintf(this_storage.Detector_2D.Filename,filename);
                                            ^~~~~~~~
./python_tutorial.c:21561:18: note: expanded from macro &#39;filename&#39;
#define filename mcclogger_2D_kf_filename
                 ^~~~~~~~~~~~~~~~~~~~~~~~
/Library/Developer/CommandLineTools/SDKs/MacOSX10.15.sdk/usr/include/secure/_stdio.h:47:56: note: expanded from macro &#39;sprintf&#39;
  __builtin___sprintf_chk (str, 0, __darwin_obsz(str), __VA_ARGS__)
                                                       ^~~~~~~~~~~
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//contrib/union/Union_logger_2D_kf.comp:536:45: note: treat the string as an argument to avoid this
  sprintf(this_storage.Detector_2D.Filename,filename);
                                            ^
                                            &quot;%s&quot;, 
./python_tutorial.c:21561:18: note: expanded from macro &#39;filename&#39;
#define filename mcclogger_2D_kf_filename
                 ^
/Library/Developer/CommandLineTools/SDKs/MacOSX10.15.sdk/usr/include/secure/_stdio.h:47:56: note: expanded from macro &#39;sprintf&#39;
  __builtin___sprintf_chk (str, 0, __darwin_obsz(str), __VA_ARGS__)
                                                       ^
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//contrib/union/Union_master.comp:788:15: warning: expression result unused [-Wunused-value]
          if (volume_index_main,Volumes[volume_index_main]-&gt;geometry.is_mask_volume == 0 ||
              ^~~~~~~~~~~~~~~~~
mccode-r.h:219:27: note: expanded from macro &#39;MPI_MASTER&#39;
#define MPI_MASTER(instr) instr
                          ^~~~~
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//contrib/union/Union_master.comp:788:90: warning: expression result unused [-Wunused-value]
          if (volume_index_main,Volumes[volume_index_main]-&gt;geometry.is_mask_volume == 0 ||
          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~
mccode-r.h:219:27: note: expanded from macro &#39;MPI_MASTER&#39;
#define MPI_MASTER(instr) instr
                          ^~~~~
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//contrib/union/Union_master.comp:789:92: warning: expression result unused [-Wunused-value]
              volume_index_main,Volumes[volume_index_main]-&gt;geometry.is_masked_volume == 0 ||
              ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~
mccode-r.h:219:27: note: expanded from macro &#39;MPI_MASTER&#39;
#define MPI_MASTER(instr) instr
                          ^~~~~
18 warnings generated.
INFO: ===
INFO: Placing instr file copy python_tutorial.instr in dataset /Users/madsbertelsen/PaNOSC/McStasScript/github/McStasScript/docs/source/tutorial/data_folder/union_loggers_40

    Opening input file &#39;/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//data/Al.laz&#39; (Table_Read_Offset)
Table from file &#39;Al.laz&#39; (block 1) is 26 x 18 (x=1:8), constant step. interpolation: linear
  &#39;# TITLE *Aluminum-Al-[FM3-M] Miller, H.P.jr.;DuMond, J.W.M.[1942] at 298 K; ...&#39;
PowderN: Al_pow: Reading 26 rows from Al.laz
PowderN: Al_pow: Read 26 reflections from file &#39;Al.laz&#39;
PowderN: Al_pow: Vc=66.4 [Angs] sigma_abs=0.924 [barn] sigma_inc=0.0328 [barn] reflections=Al.laz
Opening input file &#39;/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//data/Na2Ca3Al2F14.laz&#39; (Table_Read_Offset)
Table from file &#39;Na2Ca3Al2F14.laz&#39; (block 1) is 841 x 18 (x=1:20), constant step. interpolation: linear
  &#39;# TITLE *-Na2Ca3Al2F14-[I213] Courbion, G.;Ferey, G.[1988] Standard NAC cal ...&#39;
PowderN: Sample_pow: Reading 841 rows from Na2Ca3Al2F14.laz
PowderN: Sample_pow: Read 841 reflections from file &#39;Na2Ca3Al2F14.laz&#39;
PowderN: Sample_pow: Vc=1079.1 [Angs] sigma_abs=11.7856 [barn] sigma_inc=13.6704 [barn] reflections=Na2Ca3Al2F14.laz
---------------------------------------------------------------------
global_process_list.num_elements: 4
name of process [0]: Al_inc 
component index [0]: 1 
name of process [1]: Al_pow 
component index [1]: 2 
name of process [2]: Sample_inc 
component index [2]: 4 
name of process [3]: Sample_pow 
component index [3]: 5 
---------------------------------------------------------------------
global_material_list.num_elements: 2
name of material    [0]: Al 
component index     [0]: 3 
my_absoprtion       [0]: 0.347892 
number of processes [0]: 2 
name of material    [1]: Sample 
component index     [1]: 6 
my_absoprtion       [1]: 0.273042 
number of processes [1]: 2 
---------------------------------------------------------------------
global_geometry_list.num_elements: 2

name of geometry    [0]: sample_geometry 
component index     [0]: 8 
Volume.name         [0]: sample_geometry 
Volume.p_physics.is_vacuum           [0]: 0 
Volume.p_physics.my_absorption       [0]: 0.273042 
Volume.p_physics.number of processes [0]: 2 
Volume.geometry.shape                [0]: cylinder 
Volume.geometry.center.x             [0]: 0.000000 
Volume.geometry.center.y             [0]: 0.000000 
Volume.geometry.center.z             [0]: 1.000000 
Volume.geometry.rotation_matrix[0]           [0]: [1.000000 0.000000 0.000000] 
Volume.geometry.rotation_matrix[1]           [0]: [0.000000 1.000000 0.000000] 
Volume.geometry.rotation_matrix[2]           [0]: [0.000000 0.000000 1.000000] 
Volume.geometry.geometry_parameters.cyl_radius [0]: 0.007500 
Volume.geometry.geometry_parameters.height [0]: 0.030000 
Volume.geometry.focus_data_array.elements[0].Aim             [0]: [0.000000 0.000000 1.000000] 

name of geometry    [1]: sample_container 
component index     [1]: 9 
Volume.name         [1]: sample_container 
Volume.p_physics.is_vacuum           [1]: 0 
Volume.p_physics.my_absorption       [1]: 0.347892 
Volume.p_physics.number of processes [1]: 2 
Volume.geometry.shape                [1]: cylinder 
Volume.geometry.center.x             [1]: 0.000000 
Volume.geometry.center.y             [1]: 0.000000 
Volume.geometry.center.z             [1]: 1.000000 
Volume.geometry.rotation_matrix[0]           [1]: [1.000000 0.000000 0.000000] 
Volume.geometry.rotation_matrix[1]           [1]: [0.000000 1.000000 0.000000] 
Volume.geometry.rotation_matrix[2]           [1]: [0.000000 0.000000 1.000000] 
Volume.geometry.geometry_parameters.cyl_radius [1]: 0.009000 
Volume.geometry.geometry_parameters.height [1]: 0.033000 
Volume.geometry.focus_data_array.elements[0].Aim             [1]: [0.000000 0.000000 1.000000] 

name of geometry    [2]: sample_container_lid 
component index     [2]: 10 
Volume.name         [2]: sample_container_lid 
Volume.p_physics.is_vacuum           [2]: 0 
Volume.p_physics.my_absorption       [2]: 0.347892 
Volume.p_physics.number of processes [2]: 2 
Volume.geometry.shape                [2]: cylinder 
Volume.geometry.center.x             [2]: 0.000000 
Volume.geometry.center.y             [2]: 0.015500 
Volume.geometry.center.z             [2]: 1.000000 
Volume.geometry.rotation_matrix[0]           [2]: [1.000000 0.000000 0.000000] 
Volume.geometry.rotation_matrix[1]           [2]: [0.000000 1.000000 0.000000] 
Volume.geometry.rotation_matrix[2]           [2]: [0.000000 0.000000 1.000000] 
Volume.geometry.geometry_parameters.cyl_radius [2]: 0.013000 
Volume.geometry.geometry_parameters.height [2]: 0.004000 
Volume.geometry.focus_data_array.elements[0].Aim             [2]: [0.000000 0.000000 1.000000] 

name of geometry    [3]: cryostat_wall 
component index     [3]: 11 
Volume.name         [3]: cryostat_wall 
Volume.p_physics.is_vacuum           [3]: 0 
Volume.p_physics.my_absorption       [3]: 0.347892 
Volume.p_physics.number of processes [3]: 2 
Volume.geometry.shape                [3]: cylinder 
Volume.geometry.center.x             [3]: 0.000000 
Volume.geometry.center.y             [3]: 0.000000 
Volume.geometry.center.z             [3]: 1.000000 
Volume.geometry.rotation_matrix[0]           [3]: [1.000000 0.000000 0.000000] 
Volume.geometry.rotation_matrix[1]           [3]: [0.000000 1.000000 0.000000] 
Volume.geometry.rotation_matrix[2]           [3]: [0.000000 0.000000 1.000000] 
Volume.geometry.geometry_parameters.cyl_radius [3]: 0.030000 
Volume.geometry.geometry_parameters.height [3]: 0.120000 
Volume.geometry.focus_data_array.elements[0].Aim             [3]: [0.000000 0.000000 1.000000] 

name of geometry    [4]: cryostat_wall_vacuum 
component index     [4]: 12 
Volume.name         [4]: cryostat_wall_vacuum 
Volume.p_physics.is_vacuum           [4]: 1 
Volume.p_physics.my_absorption       [4]: 0.000000 
Volume.p_physics.number of processes [4]: 0 
Volume.geometry.shape                [4]: cylinder 
Volume.geometry.center.x             [4]: 0.000000 
Volume.geometry.center.y             [4]: 0.000000 
Volume.geometry.center.z             [4]: 1.000000 
Volume.geometry.rotation_matrix[0]           [4]: [1.000000 0.000000 0.000000] 
Volume.geometry.rotation_matrix[1]           [4]: [0.000000 1.000000 0.000000] 
Volume.geometry.rotation_matrix[2]           [4]: [0.000000 0.000000 1.000000] 
Volume.geometry.geometry_parameters.cyl_radius [4]: 0.028000 
Volume.geometry.geometry_parameters.height [4]: 0.112000 
Volume.geometry.focus_data_array.elements[0].Aim             [4]: [0.000000 0.000000 1.000000] 

name of geometry    [5]: outer_cryostat_wall 
component index     [5]: 13 
Volume.name         [5]: outer_cryostat_wall 
Volume.p_physics.is_vacuum           [5]: 0 
Volume.p_physics.my_absorption       [5]: 0.347892 
Volume.p_physics.number of processes [5]: 2 
Volume.geometry.shape                [5]: cylinder 
Volume.geometry.center.x             [5]: 0.000000 
Volume.geometry.center.y             [5]: 0.000000 
Volume.geometry.center.z             [5]: 1.000000 
Volume.geometry.rotation_matrix[0]           [5]: [1.000000 0.000000 0.000000] 
Volume.geometry.rotation_matrix[1]           [5]: [0.000000 1.000000 0.000000] 
Volume.geometry.rotation_matrix[2]           [5]: [0.000000 0.000000 1.000000] 
Volume.geometry.geometry_parameters.cyl_radius [5]: 0.100000 
Volume.geometry.geometry_parameters.height [5]: 0.150000 
Volume.geometry.focus_data_array.elements[0].Aim             [5]: [0.000000 0.000000 1.000000] 

name of geometry    [6]: outer_cryostat_wall_vacuum 
component index     [6]: 14 
Volume.name         [6]: outer_cryostat_wall_vacuum 
Volume.p_physics.is_vacuum           [6]: 1 
Volume.p_physics.my_absorption       [6]: 0.000000 
Volume.p_physics.number of processes [6]: 0 
Volume.geometry.shape                [6]: cylinder 
Volume.geometry.center.x             [6]: 0.000000 
Volume.geometry.center.y             [6]: 0.000000 
Volume.geometry.center.z             [6]: 1.000000 
Volume.geometry.rotation_matrix[0]           [6]: [1.000000 0.000000 0.000000] 
Volume.geometry.rotation_matrix[1]           [6]: [0.000000 1.000000 0.000000] 
Volume.geometry.rotation_matrix[2]           [6]: [0.000000 0.000000 1.000000] 
Volume.geometry.geometry_parameters.cyl_radius [6]: 0.097000 
Volume.geometry.geometry_parameters.height [6]: 0.140000 
Volume.geometry.focus_data_array.elements[0].Aim             [6]: [0.000000 0.000000 1.000000] 
---------------------------------------------------------------------
number_of_volumes = 8
number_of_masks = 0
number_of_masked_volumes = 0

 ---- Overview of the lists generated for each volume ---- 
List overview for surrounding vacuum
LIST: Children for Volume                  0 = [1,2,3,4,5,6,7]
LIST: Direct_children for Volume           0 = [6]
LIST: Intersect_check_list for Volume      0 = [6]
LIST: Mask_intersect_list for Volume       0 = []
LIST: Destinations_list for Volume         0 = []
LIST: Reduced_destinations_list for Volume 0 = []
LIST: Next_volume_list for Volume          0 = [6]
LIST: mask_list for Volume                 0 = []
LIST: masked_by_list for Volume            0 = []
LIST: masked_by_mask_index_list for Volume 0 = []
      mask_mode for Volume                 0 = 0

List overview for sample_geometry with cylinder shape made of Sample
LIST: Children for Volume                  1 = []
LIST: Direct_children for Volume           1 = []
LIST: Intersect_check_list for Volume      1 = []
LIST: Mask_intersect_list for Volume       1 = []
LIST: Destinations_list for Volume         1 = [2,3]
LIST: Reduced_destinations_list for Volume 1 = [2,3]
LIST: Next_volume_list for Volume          1 = [2,3]
      Is_vacuum for Volume                 1 = 0
      is_mask_volume for Volume            1 = 0
      is_masked_volume for Volume          1 = 0
      is_exit_volume for Volume            1 = 0
LIST: mask_list for Volume                 1 = []
LIST: masked_by_list for Volume            1 = []
LIST: masked_by_mask_index_list for Volume 1 = []
      mask_mode for Volume                 1 = 0

List overview for sample_container with cylinder shape made of Al
LIST: Children for Volume                  2 = [1]
LIST: Direct_children for Volume           2 = [1]
LIST: Intersect_check_list for Volume      2 = [1]
LIST: Mask_intersect_list for Volume       2 = []
LIST: Destinations_list for Volume         2 = [3,5]
LIST: Reduced_destinations_list for Volume 2 = [5]
LIST: Next_volume_list for Volume          2 = [3,5,1]
      Is_vacuum for Volume                 2 = 0
      is_mask_volume for Volume            2 = 0
      is_masked_volume for Volume          2 = 0
      is_exit_volume for Volume            2 = 0
LIST: mask_list for Volume                 2 = []
LIST: masked_by_list for Volume            2 = []
LIST: masked_by_mask_index_list for Volume 2 = []
      mask_mode for Volume                 2 = 0

List overview for sample_container_lid with cylinder shape made of Al
LIST: Children for Volume                  3 = []
LIST: Direct_children for Volume           3 = []
LIST: Intersect_check_list for Volume      3 = [2]
LIST: Mask_intersect_list for Volume       3 = []
LIST: Destinations_list for Volume         3 = [5]
LIST: Reduced_destinations_list for Volume 3 = [5]
LIST: Next_volume_list for Volume          3 = [5,2]
      Is_vacuum for Volume                 3 = 0
      is_mask_volume for Volume            3 = 0
      is_masked_volume for Volume          3 = 0
      is_exit_volume for Volume            3 = 0
LIST: mask_list for Volume                 3 = []
LIST: masked_by_list for Volume            3 = []
LIST: masked_by_mask_index_list for Volume 3 = []
      mask_mode for Volume                 3 = 0

List overview for cryostat_wall with cylinder shape made of Al
LIST: Children for Volume                  4 = [1,2,3,5]
LIST: Direct_children for Volume           4 = [5]
LIST: Intersect_check_list for Volume      4 = [5]
LIST: Mask_intersect_list for Volume       4 = []
LIST: Destinations_list for Volume         4 = [7]
LIST: Reduced_destinations_list for Volume 4 = [7]
LIST: Next_volume_list for Volume          4 = [7,5]
      Is_vacuum for Volume                 4 = 0
      is_mask_volume for Volume            4 = 0
      is_masked_volume for Volume          4 = 0
      is_exit_volume for Volume            4 = 0
LIST: mask_list for Volume                 4 = []
LIST: masked_by_list for Volume            4 = []
LIST: masked_by_mask_index_list for Volume 4 = []
      mask_mode for Volume                 4 = 0

List overview for cryostat_wall_vacuum with cylinder shape made of Vacuum
LIST: Children for Volume                  5 = [1,2,3]
LIST: Direct_children for Volume           5 = [2,3]
LIST: Intersect_check_list for Volume      5 = [2,3]
LIST: Mask_intersect_list for Volume       5 = []
LIST: Destinations_list for Volume         5 = [4]
LIST: Reduced_destinations_list for Volume 5 = [4]
LIST: Next_volume_list for Volume          5 = [4,2,3]
      Is_vacuum for Volume                 5 = 1
      is_mask_volume for Volume            5 = 0
      is_masked_volume for Volume          5 = 0
      is_exit_volume for Volume            5 = 0
LIST: mask_list for Volume                 5 = []
LIST: masked_by_list for Volume            5 = []
LIST: masked_by_mask_index_list for Volume 5 = []
      mask_mode for Volume                 5 = 0

List overview for outer_cryostat_wall with cylinder shape made of Al
LIST: Children for Volume                  6 = [1,2,3,4,5,7]
LIST: Direct_children for Volume           6 = [7]
LIST: Intersect_check_list for Volume      6 = [7]
LIST: Mask_intersect_list for Volume       6 = []
LIST: Destinations_list for Volume         6 = [0]
LIST: Reduced_destinations_list for Volume 6 = []
LIST: Next_volume_list for Volume          6 = [0,7]
      Is_vacuum for Volume                 6 = 0
      is_mask_volume for Volume            6 = 0
      is_masked_volume for Volume          6 = 0
      is_exit_volume for Volume            6 = 0
LIST: mask_list for Volume                 6 = []
LIST: masked_by_list for Volume            6 = []
LIST: masked_by_mask_index_list for Volume 6 = []
      mask_mode for Volume                 6 = 0

List overview for outer_cryostat_wall_vacuum with cylinder shape made of Vacuum
LIST: Children for Volume                  7 = [1,2,3,4,5]
LIST: Direct_children for Volume           7 = [4]
LIST: Intersect_check_list for Volume      7 = [4]
LIST: Mask_intersect_list for Volume       7 = []
LIST: Destinations_list for Volume         7 = [6]
LIST: Reduced_destinations_list for Volume 7 = [6]
LIST: Next_volume_list for Volume          7 = [6,4]
      Is_vacuum for Volume                 7 = 1
      is_mask_volume for Volume            7 = 0
      is_masked_volume for Volume          7 = 0
      is_exit_volume for Volume            7 = 0
LIST: mask_list for Volume                 7 = []
LIST: masked_by_list for Volume            7 = []
LIST: masked_by_mask_index_list for Volume 7 = []
      mask_mode for Volume                 7 = 0

Union_master component master initialized sucessfully
Detector: logger_space_zx_I=730.387 logger_space_zx_ERR=5.1133 logger_space_zx_N=40146 &quot;logger_zx.dat&quot;
Detector: logger_space_zy_I=2789.78 logger_space_zy_ERR=16.129 logger_space_zy_N=140450 &quot;logger_zy.dat&quot;
Detector: logger_1D_I=20522.7 logger_1D_ERR=33.5056 logger_1D_N=1.01202e+06 &quot;logger_1D_time.dat&quot;
Detector: abs_logger_space_zx_I=958.581 abs_logger_space_zx_ERR=1.3583 abs_logger_space_zx_N=1.01202e+06 &quot;abs_logger_zx.dat&quot;
Detector: logger_2DQ_I=20522.7 logger_2DQ_ERR=33.5056 logger_2DQ_N=1.01202e+06 &quot;logger_2DQ.dat&quot;
Detector: logger_2D_kf_I=20522.7 logger_2D_kf_ERR=33.5056 logger_2D_kf_N=1.01202e+06 &quot;logger_2D_kf.dat&quot;
loading system configuration
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ms</span><span class="o">.</span><span class="n">name_plot_options</span><span class="p">(</span><span class="s2">&quot;logger_space_zx&quot;</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">log</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">orders_of_mag</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="n">ms</span><span class="o">.</span><span class="n">name_plot_options</span><span class="p">(</span><span class="s2">&quot;logger_space_zy&quot;</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">log</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">orders_of_mag</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="n">ms</span><span class="o">.</span><span class="n">name_plot_options</span><span class="p">(</span><span class="s2">&quot;abs_logger_space_zx&quot;</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">log</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">orders_of_mag</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="n">ms</span><span class="o">.</span><span class="n">name_plot_options</span><span class="p">(</span><span class="s2">&quot;logger_1D&quot;</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">log</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">orders_of_mag</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="n">ms</span><span class="o">.</span><span class="n">name_plot_options</span><span class="p">(</span><span class="s2">&quot;logger_2DQ&quot;</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">log</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">orders_of_mag</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="n">ms</span><span class="o">.</span><span class="n">name_plot_options</span><span class="p">(</span><span class="s2">&quot;logger_2D_kf&quot;</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">log</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">orders_of_mag</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>

<span class="n">ms</span><span class="o">.</span><span class="n">make_sub_plot</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">2</span><span class="p">])</span>
<span class="n">ms</span><span class="o">.</span><span class="n">make_sub_plot</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">:</span><span class="mi">4</span><span class="p">])</span>
<span class="n">ms</span><span class="o">.</span><span class="n">make_sub_plot</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="mi">4</span><span class="p">:</span><span class="mi">6</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Plotting data with name logger_space_zx
Plotting data with name logger_space_zy
</pre></div>
</div>
<img alt="../_images/Union_tutorial_3_loggers_23_1.png" src="../_images/Union_tutorial_3_loggers_23_1.png" />
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Plotting data with name logger_1D
Plotting data with name abs_logger_space_zx
</pre></div>
</div>
<img alt="../_images/Union_tutorial_3_loggers_23_3.png" src="../_images/Union_tutorial_3_loggers_23_3.png" />
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Plotting data with name logger_2DQ
Plotting data with name logger_2D_kf
</pre></div>
</div>
<img alt="../_images/Union_tutorial_3_loggers_23_5.png" src="../_images/Union_tutorial_3_loggers_23_5.png" />
</div>
</div>
</div>
</div>
<div class="section" id="id1">
<h2>Interpreting the data<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
<p>We see the scattered intensity as a function of time, here the peaks correspond to the direct beam intersecting the sides of the cryostat and sample. The source used release all neutrons at time 0, so it is a perfect pulse.</p>
<p>The absorption monitor shows an image very similar to the scattered intensity, but this could be very different, for example when using materials meant as shielding.</p>
<p>The 2D scattering vector is interesting, it shows a small sphere made of vertical lines, these are powder Bragg peaks. Since the wavevector is almost identical for all incoming neutrons, the first scattering can only access this smaller region of the space. The larger circle is incoherent scattering from second and later scattering events, where the incoming wavevector could be any direction since a scattering already happened.</p>
<p>The 2D final wavevector plot shows mainly the powder Bragg peaks.</p>
</div>
<div class="section" id="animations-and-time-series">
<h2>Animations and time series<a class="headerlink" href="#animations-and-time-series" title="Permalink to this headline">¶</a></h2>
<p>Several of the Union loggers sets up more than one McStas monitor, these include:</p>
<ul class="simple">
<li><p>Union_logger_3D_space</p></li>
<li><p>Union_logger_2D_space_time</p></li>
<li><p>Union_logger_2D_kf_time</p></li>
</ul>
<p>The Union_logger_2D_space_time for example sets up a number of Union_logger_2D_space monitors that are limited to specific time intervals. This can be used to make an animation of the monitor, which we will demonstrate here.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">log_2D_st</span> <span class="o">=</span> <span class="n">instrument</span><span class="o">.</span><span class="n">add_component</span><span class="p">(</span><span class="s2">&quot;logger_2D_space_time&quot;</span><span class="p">,</span> <span class="s2">&quot;Union_logger_2D_space_time&quot;</span><span class="p">,</span>
                                     <span class="n">before</span><span class="o">=</span><span class="s2">&quot;master&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">log_2D_st</span><span class="o">.</span><span class="n">time_bins</span> <span class="o">=</span> <span class="mi">36</span>
<span class="n">log_2D_st</span><span class="o">.</span><span class="n">time_min</span> <span class="o">=</span> <span class="mf">0.0007</span>
<span class="n">log_2D_st</span><span class="o">.</span><span class="n">time_max</span> <span class="o">=</span> <span class="mf">0.0011</span>

<span class="n">log_2D_st</span><span class="o">.</span><span class="n">set_AT</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="n">RELATIVE</span><span class="o">=</span><span class="n">sample_geometry</span><span class="p">)</span>
<span class="n">log_2D_st</span><span class="o">.</span><span class="n">D_direction_1</span> <span class="o">=</span> <span class="s1">&#39;&quot;z&quot;&#39;</span>
<span class="n">log_2D_st</span><span class="o">.</span><span class="n">D1_min</span> <span class="o">=</span> <span class="o">-</span><span class="mf">0.12</span>
<span class="n">log_2D_st</span><span class="o">.</span><span class="n">D1_max</span> <span class="o">=</span> <span class="mf">0.12</span>
<span class="n">log_2D_st</span><span class="o">.</span><span class="n">n1</span> <span class="o">=</span> <span class="mi">300</span>
<span class="n">log_2D_st</span><span class="o">.</span><span class="n">D_direction_2</span> <span class="o">=</span> <span class="s1">&#39;&quot;x&quot;&#39;</span>
<span class="n">log_2D_st</span><span class="o">.</span><span class="n">D2_min</span> <span class="o">=</span> <span class="o">-</span><span class="mf">0.12</span>
<span class="n">log_2D_st</span><span class="o">.</span><span class="n">D2_max</span> <span class="o">=</span> <span class="mf">0.12</span>
<span class="n">log_2D_st</span><span class="o">.</span><span class="n">n2</span> <span class="o">=</span> <span class="mi">300</span>
<span class="n">log_2D_st</span><span class="o">.</span><span class="n">filename</span> <span class="o">=</span> <span class="s1">&#39;&quot;logger_2D_space_time.dat&quot;&#39;</span>
</pre></div>
</div>
</div>
</div>
<div class="cell tag_scroll-output docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data</span> <span class="o">=</span> <span class="n">instrument</span><span class="o">.</span><span class="n">backengine</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>INFO: Using directory: &quot;/Users/madsbertelsen/PaNOSC/McStasScript/github/McStasScript/docs/source/tutorial/data_folder/union_loggers_41&quot;
INFO: Regenerating c-file: python_tutorial.c
CFLAGS= -I@MCCODE_LIB@/share/
INFO: Recompiling: ./python_tutorial.out
mccode-r.c:2837:3: warning: expression result unused [-Wunused-value]
  *t0;
  ^~~
In file included from /Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//contrib/union/Incoherent_process.comp:65:
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//share/Union_functions.c:1604:105: warning: incompatible pointer types passing &#39;int (const struct saved_history_struct *, const struct saved_history_struct *)&#39; to parameter of type &#39;int (* _Nonnull)(const void *, const void *)&#39; [-Wincompatible-pointer-types]
  qsort(total_history.saved_histories,total_history.used_elements,sizeof (struct saved_history_struct), Sample_compare_history_intensities);
                                                                                                        ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
/Library/Developer/CommandLineTools/SDKs/MacOSX10.15.sdk/usr/include/stdlib.h:161:22: note: passing argument to parameter &#39;__compar&#39; here
            int (* _Nonnull __compar)(const void *, const void *));
                            ^
In file included from /Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//contrib/union/Incoherent_process.comp:65:
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//share/Union_functions.c:1613:20: warning: incompatible pointer types passing &#39;struct saved_history_struct *&#39; to parameter of type &#39;struct dynamic_history_list *&#39; [-Wincompatible-pointer-types]
    printf_history(&amp;total_history.saved_histories[history_iterate]);
                   ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
mccode-r.h:219:27: note: expanded from macro &#39;MPI_MASTER&#39;
#define MPI_MASTER(instr) instr
                          ^~~~~
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//share/Union_functions.c:1434:50: note: passing argument to parameter &#39;history&#39; here
void printf_history(struct dynamic_history_list *history) {
                                                 ^
In file included from /Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//contrib/union/Incoherent_process.comp:65:
In file included from /Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//share/Union_functions.c:2030:
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//share/Geometry_functions.c:839:1: warning: non-void function does not return a value in all control paths [-Wreturn-type]
};
^
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//share/Geometry_functions.c:883:1: warning: non-void function does not return a value [-Wreturn-type]
};
^
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//share/Geometry_functions.c:3274:42: warning: if statement has empty body [-Wempty-body]
    if (dist_to_corner &gt; sphere_2_radius); { sphere_2_radius = dist_to_corner ; }
                                         ^
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//share/Geometry_functions.c:3274:42: note: put the semicolon on a separate line to silence this warning
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//share/Geometry_functions.c:3276:42: warning: if statement has empty body [-Wempty-body]
    if (dist_to_corner &gt; sphere_2_radius); { sphere_2_radius = dist_to_corner ; }
                                         ^
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//share/Geometry_functions.c:3276:42: note: put the semicolon on a separate line to silence this warning
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//share/Geometry_functions.c:3278:42: warning: if statement has empty body [-Wempty-body]
    if (dist_to_corner &gt; sphere_2_radius); { sphere_2_radius = dist_to_corner ; }
                                         ^
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//share/Geometry_functions.c:3278:42: note: put the semicolon on a separate line to silence this warning
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//share/Geometry_functions.c:3280:42: warning: if statement has empty body [-Wempty-body]
    if (dist_to_corner &gt; sphere_2_radius); { sphere_2_radius = dist_to_corner ; }
                                         ^
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//share/Geometry_functions.c:3280:42: note: put the semicolon on a separate line to silence this warning
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//contrib/union/Union_logger_2D_space.comp:574:45: warning: format string is not a string literal (potentially insecure) [-Wformat-security]
  sprintf(this_storage.Detector_2D.Filename,filename);
                                            ^~~~~~~~
./python_tutorial.c:21010:18: note: expanded from macro &#39;filename&#39;
#define filename mcclogger_space_zx_filename
                 ^~~~~~~~~~~~~~~~~~~~~~~~~~~
/Library/Developer/CommandLineTools/SDKs/MacOSX10.15.sdk/usr/include/secure/_stdio.h:47:56: note: expanded from macro &#39;sprintf&#39;
  __builtin___sprintf_chk (str, 0, __darwin_obsz(str), __VA_ARGS__)
                                                       ^~~~~~~~~~~
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//contrib/union/Union_logger_2D_space.comp:574:45: note: treat the string as an argument to avoid this
  sprintf(this_storage.Detector_2D.Filename,filename);
                                            ^
                                            &quot;%s&quot;, 
./python_tutorial.c:21010:18: note: expanded from macro &#39;filename&#39;
#define filename mcclogger_space_zx_filename
                 ^
/Library/Developer/CommandLineTools/SDKs/MacOSX10.15.sdk/usr/include/secure/_stdio.h:47:56: note: expanded from macro &#39;sprintf&#39;
  __builtin___sprintf_chk (str, 0, __darwin_obsz(str), __VA_ARGS__)
                                                       ^
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//contrib/union/Union_logger_2D_space.comp:574:45: warning: format string is not a string literal (potentially insecure) [-Wformat-security]
  sprintf(this_storage.Detector_2D.Filename,filename);
                                            ^~~~~~~~
./python_tutorial.c:21253:18: note: expanded from macro &#39;filename&#39;
#define filename mcclogger_space_zy_filename
                 ^~~~~~~~~~~~~~~~~~~~~~~~~~~
/Library/Developer/CommandLineTools/SDKs/MacOSX10.15.sdk/usr/include/secure/_stdio.h:47:56: note: expanded from macro &#39;sprintf&#39;
  __builtin___sprintf_chk (str, 0, __darwin_obsz(str), __VA_ARGS__)
                                                       ^~~~~~~~~~~
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//contrib/union/Union_logger_2D_space.comp:574:45: note: treat the string as an argument to avoid this
  sprintf(this_storage.Detector_2D.Filename,filename);
                                            ^
                                            &quot;%s&quot;, 
./python_tutorial.c:21253:18: note: expanded from macro &#39;filename&#39;
#define filename mcclogger_space_zy_filename
                 ^
/Library/Developer/CommandLineTools/SDKs/MacOSX10.15.sdk/usr/include/secure/_stdio.h:47:56: note: expanded from macro &#39;sprintf&#39;
  __builtin___sprintf_chk (str, 0, __darwin_obsz(str), __VA_ARGS__)
                                                       ^
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//contrib/union/Union_logger_1D.comp:479:45: warning: format string is not a string literal (potentially insecure) [-Wformat-security]
  sprintf(this_storage.Detector_1D.Filename,filename);
                                            ^~~~~~~~
./python_tutorial.c:21492:18: note: expanded from macro &#39;filename&#39;
#define filename mcclogger_1D_filename
                 ^~~~~~~~~~~~~~~~~~~~~
/Library/Developer/CommandLineTools/SDKs/MacOSX10.15.sdk/usr/include/secure/_stdio.h:47:56: note: expanded from macro &#39;sprintf&#39;
  __builtin___sprintf_chk (str, 0, __darwin_obsz(str), __VA_ARGS__)
                                                       ^~~~~~~~~~~
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//contrib/union/Union_logger_1D.comp:479:45: note: treat the string as an argument to avoid this
  sprintf(this_storage.Detector_1D.Filename,filename);
                                            ^
                                            &quot;%s&quot;, 
./python_tutorial.c:21492:18: note: expanded from macro &#39;filename&#39;
#define filename mcclogger_1D_filename
                 ^
/Library/Developer/CommandLineTools/SDKs/MacOSX10.15.sdk/usr/include/secure/_stdio.h:47:56: note: expanded from macro &#39;sprintf&#39;
  __builtin___sprintf_chk (str, 0, __darwin_obsz(str), __VA_ARGS__)
                                                       ^
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//contrib/union/Union_abs_logger_2D_space.comp:543:49: warning: format string is not a string literal (potentially insecure) [-Wformat-security]
  sprintf(this_abs_storage.Detector_2D.Filename,filename);
                                                ^~~~~~~~
./python_tutorial.c:21683:18: note: expanded from macro &#39;filename&#39;
#define filename mccabs_logger_space_zx_filename
                 ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
/Library/Developer/CommandLineTools/SDKs/MacOSX10.15.sdk/usr/include/secure/_stdio.h:47:56: note: expanded from macro &#39;sprintf&#39;
  __builtin___sprintf_chk (str, 0, __darwin_obsz(str), __VA_ARGS__)
                                                       ^~~~~~~~~~~
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//contrib/union/Union_abs_logger_2D_space.comp:543:49: note: treat the string as an argument to avoid this
  sprintf(this_abs_storage.Detector_2D.Filename,filename);
                                                ^
                                                &quot;%s&quot;, 
./python_tutorial.c:21683:18: note: expanded from macro &#39;filename&#39;
#define filename mccabs_logger_space_zx_filename
                 ^
/Library/Developer/CommandLineTools/SDKs/MacOSX10.15.sdk/usr/include/secure/_stdio.h:47:56: note: expanded from macro &#39;sprintf&#39;
  __builtin___sprintf_chk (str, 0, __darwin_obsz(str), __VA_ARGS__)
                                                       ^
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//contrib/union/Union_logger_2DQ.comp:535:45: warning: format string is not a string literal (potentially insecure) [-Wformat-security]
  sprintf(this_storage.Detector_2D.Filename,filename);
                                            ^~~~~~~~
./python_tutorial.c:21907:18: note: expanded from macro &#39;filename&#39;
#define filename mcclogger_2DQ_filename
                 ^~~~~~~~~~~~~~~~~~~~~~
/Library/Developer/CommandLineTools/SDKs/MacOSX10.15.sdk/usr/include/secure/_stdio.h:47:56: note: expanded from macro &#39;sprintf&#39;
  __builtin___sprintf_chk (str, 0, __darwin_obsz(str), __VA_ARGS__)
                                                       ^~~~~~~~~~~
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//contrib/union/Union_logger_2DQ.comp:535:45: note: treat the string as an argument to avoid this
  sprintf(this_storage.Detector_2D.Filename,filename);
                                            ^
                                            &quot;%s&quot;, 
./python_tutorial.c:21907:18: note: expanded from macro &#39;filename&#39;
#define filename mcclogger_2DQ_filename
                 ^
/Library/Developer/CommandLineTools/SDKs/MacOSX10.15.sdk/usr/include/secure/_stdio.h:47:56: note: expanded from macro &#39;sprintf&#39;
  __builtin___sprintf_chk (str, 0, __darwin_obsz(str), __VA_ARGS__)
                                                       ^
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//contrib/union/Union_logger_2D_kf.comp:536:45: warning: format string is not a string literal (potentially insecure) [-Wformat-security]
  sprintf(this_storage.Detector_2D.Filename,filename);
                                            ^~~~~~~~
./python_tutorial.c:22135:18: note: expanded from macro &#39;filename&#39;
#define filename mcclogger_2D_kf_filename
                 ^~~~~~~~~~~~~~~~~~~~~~~~
/Library/Developer/CommandLineTools/SDKs/MacOSX10.15.sdk/usr/include/secure/_stdio.h:47:56: note: expanded from macro &#39;sprintf&#39;
  __builtin___sprintf_chk (str, 0, __darwin_obsz(str), __VA_ARGS__)
                                                       ^~~~~~~~~~~
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//contrib/union/Union_logger_2D_kf.comp:536:45: note: treat the string as an argument to avoid this
  sprintf(this_storage.Detector_2D.Filename,filename);
                                            ^
                                            &quot;%s&quot;, 
./python_tutorial.c:22135:18: note: expanded from macro &#39;filename&#39;
#define filename mcclogger_2D_kf_filename
                 ^
/Library/Developer/CommandLineTools/SDKs/MacOSX10.15.sdk/usr/include/secure/_stdio.h:47:56: note: expanded from macro &#39;sprintf&#39;
  __builtin___sprintf_chk (str, 0, __darwin_obsz(str), __VA_ARGS__)
                                                       ^
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//contrib/union/Union_logger_2D_space_time.comp:632:45: warning: format string is not a string literal (potentially insecure) [-Wformat-security]
  sprintf(this_storage.Detector_3D.Filename,filename);
                                            ^~~~~~~~
./python_tutorial.c:22373:18: note: expanded from macro &#39;filename&#39;
#define filename mcclogger_2D_space_time_filename
                 ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
/Library/Developer/CommandLineTools/SDKs/MacOSX10.15.sdk/usr/include/secure/_stdio.h:47:56: note: expanded from macro &#39;sprintf&#39;
  __builtin___sprintf_chk (str, 0, __darwin_obsz(str), __VA_ARGS__)
                                                       ^~~~~~~~~~~
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//contrib/union/Union_logger_2D_space_time.comp:632:45: note: treat the string as an argument to avoid this
  sprintf(this_storage.Detector_3D.Filename,filename);
                                            ^
                                            &quot;%s&quot;, 
./python_tutorial.c:22373:18: note: expanded from macro &#39;filename&#39;
#define filename mcclogger_2D_space_time_filename
                 ^
/Library/Developer/CommandLineTools/SDKs/MacOSX10.15.sdk/usr/include/secure/_stdio.h:47:56: note: expanded from macro &#39;sprintf&#39;
  __builtin___sprintf_chk (str, 0, __darwin_obsz(str), __VA_ARGS__)
                                                       ^
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//contrib/union/Union_master.comp:788:15: warning: expression result unused [-Wunused-value]
          if (volume_index_main,Volumes[volume_index_main]-&gt;geometry.is_mask_volume == 0 ||
              ^~~~~~~~~~~~~~~~~
mccode-r.h:219:27: note: expanded from macro &#39;MPI_MASTER&#39;
#define MPI_MASTER(instr) instr
                          ^~~~~
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//contrib/union/Union_master.comp:788:90: warning: expression result unused [-Wunused-value]
          if (volume_index_main,Volumes[volume_index_main]-&gt;geometry.is_mask_volume == 0 ||
          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~
mccode-r.h:219:27: note: expanded from macro &#39;MPI_MASTER&#39;
#define MPI_MASTER(instr) instr
                          ^~~~~
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//contrib/union/Union_master.comp:789:92: warning: expression result unused [-Wunused-value]
              volume_index_main,Volumes[volume_index_main]-&gt;geometry.is_masked_volume == 0 ||
              ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~
mccode-r.h:219:27: note: expanded from macro &#39;MPI_MASTER&#39;
#define MPI_MASTER(instr) instr
                          ^~~~~
19 warnings generated.
INFO: ===
INFO: Placing instr file copy python_tutorial.instr in dataset /Users/madsbertelsen/PaNOSC/McStasScript/github/McStasScript/docs/source/tutorial/data_folder/union_loggers_41

    Opening input file &#39;/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//data/Al.laz&#39; (Table_Read_Offset)
Table from file &#39;Al.laz&#39; (block 1) is 26 x 18 (x=1:8), constant step. interpolation: linear
  &#39;# TITLE *Aluminum-Al-[FM3-M] Miller, H.P.jr.;DuMond, J.W.M.[1942] at 298 K; ...&#39;
PowderN: Al_pow: Reading 26 rows from Al.laz
PowderN: Al_pow: Read 26 reflections from file &#39;Al.laz&#39;
PowderN: Al_pow: Vc=66.4 [Angs] sigma_abs=0.924 [barn] sigma_inc=0.0328 [barn] reflections=Al.laz
Opening input file &#39;/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//data/Na2Ca3Al2F14.laz&#39; (Table_Read_Offset)
Table from file &#39;Na2Ca3Al2F14.laz&#39; (block 1) is 841 x 18 (x=1:20), constant step. interpolation: linear
  &#39;# TITLE *-Na2Ca3Al2F14-[I213] Courbion, G.;Ferey, G.[1988] Standard NAC cal ...&#39;
PowderN: Sample_pow: Reading 841 rows from Na2Ca3Al2F14.laz
PowderN: Sample_pow: Read 841 reflections from file &#39;Na2Ca3Al2F14.laz&#39;
PowderN: Sample_pow: Vc=1079.1 [Angs] sigma_abs=11.7856 [barn] sigma_inc=13.6704 [barn] reflections=Na2Ca3Al2F14.laz
Allocating 3D arrays 
---------------------------------------------------------------------
global_process_list.num_elements: 4
name of process [0]: Al_inc 
component index [0]: 1 
name of process [1]: Al_pow 
component index [1]: 2 
name of process [2]: Sample_inc 
component index [2]: 4 
name of process [3]: Sample_pow 
component index [3]: 5 
---------------------------------------------------------------------
global_material_list.num_elements: 2
name of material    [0]: Al 
component index     [0]: 3 
my_absoprtion       [0]: 0.347892 
number of processes [0]: 2 
name of material    [1]: Sample 
component index     [1]: 6 
my_absoprtion       [1]: 0.273042 
number of processes [1]: 2 
---------------------------------------------------------------------
global_geometry_list.num_elements: 2

name of geometry    [0]: sample_geometry 
component index     [0]: 8 
Volume.name         [0]: sample_geometry 
Volume.p_physics.is_vacuum           [0]: 0 
Volume.p_physics.my_absorption       [0]: 0.273042 
Volume.p_physics.number of processes [0]: 2 
Volume.geometry.shape                [0]: cylinder 
Volume.geometry.center.x             [0]: 0.000000 
Volume.geometry.center.y             [0]: 0.000000 
Volume.geometry.center.z             [0]: 1.000000 
Volume.geometry.rotation_matrix[0]           [0]: [1.000000 0.000000 0.000000] 
Volume.geometry.rotation_matrix[1]           [0]: [0.000000 1.000000 0.000000] 
Volume.geometry.rotation_matrix[2]           [0]: [0.000000 0.000000 1.000000] 
Volume.geometry.geometry_parameters.cyl_radius [0]: 0.007500 
Volume.geometry.geometry_parameters.height [0]: 0.030000 
Volume.geometry.focus_data_array.elements[0].Aim             [0]: [0.000000 0.000000 1.000000] 

name of geometry    [1]: sample_container 
component index     [1]: 9 
Volume.name         [1]: sample_container 
Volume.p_physics.is_vacuum           [1]: 0 
Volume.p_physics.my_absorption       [1]: 0.347892 
Volume.p_physics.number of processes [1]: 2 
Volume.geometry.shape                [1]: cylinder 
Volume.geometry.center.x             [1]: 0.000000 
Volume.geometry.center.y             [1]: 0.000000 
Volume.geometry.center.z             [1]: 1.000000 
Volume.geometry.rotation_matrix[0]           [1]: [1.000000 0.000000 0.000000] 
Volume.geometry.rotation_matrix[1]           [1]: [0.000000 1.000000 0.000000] 
Volume.geometry.rotation_matrix[2]           [1]: [0.000000 0.000000 1.000000] 
Volume.geometry.geometry_parameters.cyl_radius [1]: 0.009000 
Volume.geometry.geometry_parameters.height [1]: 0.033000 
Volume.geometry.focus_data_array.elements[0].Aim             [1]: [0.000000 0.000000 1.000000] 

name of geometry    [2]: sample_container_lid 
component index     [2]: 10 
Volume.name         [2]: sample_container_lid 
Volume.p_physics.is_vacuum           [2]: 0 
Volume.p_physics.my_absorption       [2]: 0.347892 
Volume.p_physics.number of processes [2]: 2 
Volume.geometry.shape                [2]: cylinder 
Volume.geometry.center.x             [2]: 0.000000 
Volume.geometry.center.y             [2]: 0.015500 
Volume.geometry.center.z             [2]: 1.000000 
Volume.geometry.rotation_matrix[0]           [2]: [1.000000 0.000000 0.000000] 
Volume.geometry.rotation_matrix[1]           [2]: [0.000000 1.000000 0.000000] 
Volume.geometry.rotation_matrix[2]           [2]: [0.000000 0.000000 1.000000] 
Volume.geometry.geometry_parameters.cyl_radius [2]: 0.013000 
Volume.geometry.geometry_parameters.height [2]: 0.004000 
Volume.geometry.focus_data_array.elements[0].Aim             [2]: [0.000000 0.000000 1.000000] 

name of geometry    [3]: cryostat_wall 
component index     [3]: 11 
Volume.name         [3]: cryostat_wall 
Volume.p_physics.is_vacuum           [3]: 0 
Volume.p_physics.my_absorption       [3]: 0.347892 
Volume.p_physics.number of processes [3]: 2 
Volume.geometry.shape                [3]: cylinder 
Volume.geometry.center.x             [3]: 0.000000 
Volume.geometry.center.y             [3]: 0.000000 
Volume.geometry.center.z             [3]: 1.000000 
Volume.geometry.rotation_matrix[0]           [3]: [1.000000 0.000000 0.000000] 
Volume.geometry.rotation_matrix[1]           [3]: [0.000000 1.000000 0.000000] 
Volume.geometry.rotation_matrix[2]           [3]: [0.000000 0.000000 1.000000] 
Volume.geometry.geometry_parameters.cyl_radius [3]: 0.030000 
Volume.geometry.geometry_parameters.height [3]: 0.120000 
Volume.geometry.focus_data_array.elements[0].Aim             [3]: [0.000000 0.000000 1.000000] 

name of geometry    [4]: cryostat_wall_vacuum 
component index     [4]: 12 
Volume.name         [4]: cryostat_wall_vacuum 
Volume.p_physics.is_vacuum           [4]: 1 
Volume.p_physics.my_absorption       [4]: 0.000000 
Volume.p_physics.number of processes [4]: 0 
Volume.geometry.shape                [4]: cylinder 
Volume.geometry.center.x             [4]: 0.000000 
Volume.geometry.center.y             [4]: 0.000000 
Volume.geometry.center.z             [4]: 1.000000 
Volume.geometry.rotation_matrix[0]           [4]: [1.000000 0.000000 0.000000] 
Volume.geometry.rotation_matrix[1]           [4]: [0.000000 1.000000 0.000000] 
Volume.geometry.rotation_matrix[2]           [4]: [0.000000 0.000000 1.000000] 
Volume.geometry.geometry_parameters.cyl_radius [4]: 0.028000 
Volume.geometry.geometry_parameters.height [4]: 0.112000 
Volume.geometry.focus_data_array.elements[0].Aim             [4]: [0.000000 0.000000 1.000000] 

name of geometry    [5]: outer_cryostat_wall 
component index     [5]: 13 
Volume.name         [5]: outer_cryostat_wall 
Volume.p_physics.is_vacuum           [5]: 0 
Volume.p_physics.my_absorption       [5]: 0.347892 
Volume.p_physics.number of processes [5]: 2 
Volume.geometry.shape                [5]: cylinder 
Volume.geometry.center.x             [5]: 0.000000 
Volume.geometry.center.y             [5]: 0.000000 
Volume.geometry.center.z             [5]: 1.000000 
Volume.geometry.rotation_matrix[0]           [5]: [1.000000 0.000000 0.000000] 
Volume.geometry.rotation_matrix[1]           [5]: [0.000000 1.000000 0.000000] 
Volume.geometry.rotation_matrix[2]           [5]: [0.000000 0.000000 1.000000] 
Volume.geometry.geometry_parameters.cyl_radius [5]: 0.100000 
Volume.geometry.geometry_parameters.height [5]: 0.150000 
Volume.geometry.focus_data_array.elements[0].Aim             [5]: [0.000000 0.000000 1.000000] 

name of geometry    [6]: outer_cryostat_wall_vacuum 
component index     [6]: 14 
Volume.name         [6]: outer_cryostat_wall_vacuum 
Volume.p_physics.is_vacuum           [6]: 1 
Volume.p_physics.my_absorption       [6]: 0.000000 
Volume.p_physics.number of processes [6]: 0 
Volume.geometry.shape                [6]: cylinder 
Volume.geometry.center.x             [6]: 0.000000 
Volume.geometry.center.y             [6]: 0.000000 
Volume.geometry.center.z             [6]: 1.000000 
Volume.geometry.rotation_matrix[0]           [6]: [1.000000 0.000000 0.000000] 
Volume.geometry.rotation_matrix[1]           [6]: [0.000000 1.000000 0.000000] 
Volume.geometry.rotation_matrix[2]           [6]: [0.000000 0.000000 1.000000] 
Volume.geometry.geometry_parameters.cyl_radius [6]: 0.097000 
Volume.geometry.geometry_parameters.height [6]: 0.140000 
Volume.geometry.focus_data_array.elements[0].Aim             [6]: [0.000000 0.000000 1.000000] 
---------------------------------------------------------------------
number_of_volumes = 8
number_of_masks = 0
number_of_masked_volumes = 0

 ---- Overview of the lists generated for each volume ---- 
List overview for surrounding vacuum
LIST: Children for Volume                  0 = [1,2,3,4,5,6,7]
LIST: Direct_children for Volume           0 = [6]
LIST: Intersect_check_list for Volume      0 = [6]
LIST: Mask_intersect_list for Volume       0 = []
LIST: Destinations_list for Volume         0 = []
LIST: Reduced_destinations_list for Volume 0 = []
LIST: Next_volume_list for Volume          0 = [6]
LIST: mask_list for Volume                 0 = []
LIST: masked_by_list for Volume            0 = []
LIST: masked_by_mask_index_list for Volume 0 = []
      mask_mode for Volume                 0 = 0

List overview for sample_geometry with cylinder shape made of Sample
LIST: Children for Volume                  1 = []
LIST: Direct_children for Volume           1 = []
LIST: Intersect_check_list for Volume      1 = []
LIST: Mask_intersect_list for Volume       1 = []
LIST: Destinations_list for Volume         1 = [2,3]
LIST: Reduced_destinations_list for Volume 1 = [2,3]
LIST: Next_volume_list for Volume          1 = [2,3]
      Is_vacuum for Volume                 1 = 0
      is_mask_volume for Volume            1 = 0
      is_masked_volume for Volume          1 = 0
      is_exit_volume for Volume            1 = 0
LIST: mask_list for Volume                 1 = []
LIST: masked_by_list for Volume            1 = []
LIST: masked_by_mask_index_list for Volume 1 = []
      mask_mode for Volume                 1 = 0

List overview for sample_container with cylinder shape made of Al
LIST: Children for Volume                  2 = [1]
LIST: Direct_children for Volume           2 = [1]
LIST: Intersect_check_list for Volume      2 = [1]
LIST: Mask_intersect_list for Volume       2 = []
LIST: Destinations_list for Volume         2 = [3,5]
LIST: Reduced_destinations_list for Volume 2 = [5]
LIST: Next_volume_list for Volume          2 = [3,5,1]
      Is_vacuum for Volume                 2 = 0
      is_mask_volume for Volume            2 = 0
      is_masked_volume for Volume          2 = 0
      is_exit_volume for Volume            2 = 0
LIST: mask_list for Volume                 2 = []
LIST: masked_by_list for Volume            2 = []
LIST: masked_by_mask_index_list for Volume 2 = []
      mask_mode for Volume                 2 = 0

List overview for sample_container_lid with cylinder shape made of Al
LIST: Children for Volume                  3 = []
LIST: Direct_children for Volume           3 = []
LIST: Intersect_check_list for Volume      3 = [2]
LIST: Mask_intersect_list for Volume       3 = []
LIST: Destinations_list for Volume         3 = [5]
LIST: Reduced_destinations_list for Volume 3 = [5]
LIST: Next_volume_list for Volume          3 = [5,2]
      Is_vacuum for Volume                 3 = 0
      is_mask_volume for Volume            3 = 0
      is_masked_volume for Volume          3 = 0
      is_exit_volume for Volume            3 = 0
LIST: mask_list for Volume                 3 = []
LIST: masked_by_list for Volume            3 = []
LIST: masked_by_mask_index_list for Volume 3 = []
      mask_mode for Volume                 3 = 0

List overview for cryostat_wall with cylinder shape made of Al
LIST: Children for Volume                  4 = [1,2,3,5]
LIST: Direct_children for Volume           4 = [5]
LIST: Intersect_check_list for Volume      4 = [5]
LIST: Mask_intersect_list for Volume       4 = []
LIST: Destinations_list for Volume         4 = [7]
LIST: Reduced_destinations_list for Volume 4 = [7]
LIST: Next_volume_list for Volume          4 = [7,5]
      Is_vacuum for Volume                 4 = 0
      is_mask_volume for Volume            4 = 0
      is_masked_volume for Volume          4 = 0
      is_exit_volume for Volume            4 = 0
LIST: mask_list for Volume                 4 = []
LIST: masked_by_list for Volume            4 = []
LIST: masked_by_mask_index_list for Volume 4 = []
      mask_mode for Volume                 4 = 0

List overview for cryostat_wall_vacuum with cylinder shape made of Vacuum
LIST: Children for Volume                  5 = [1,2,3]
LIST: Direct_children for Volume           5 = [2,3]
LIST: Intersect_check_list for Volume      5 = [2,3]
LIST: Mask_intersect_list for Volume       5 = []
LIST: Destinations_list for Volume         5 = [4]
LIST: Reduced_destinations_list for Volume 5 = [4]
LIST: Next_volume_list for Volume          5 = [4,2,3]
      Is_vacuum for Volume                 5 = 1
      is_mask_volume for Volume            5 = 0
      is_masked_volume for Volume          5 = 0
      is_exit_volume for Volume            5 = 0
LIST: mask_list for Volume                 5 = []
LIST: masked_by_list for Volume            5 = []
LIST: masked_by_mask_index_list for Volume 5 = []
      mask_mode for Volume                 5 = 0

List overview for outer_cryostat_wall with cylinder shape made of Al
LIST: Children for Volume                  6 = [1,2,3,4,5,7]
LIST: Direct_children for Volume           6 = [7]
LIST: Intersect_check_list for Volume      6 = [7]
LIST: Mask_intersect_list for Volume       6 = []
LIST: Destinations_list for Volume         6 = [0]
LIST: Reduced_destinations_list for Volume 6 = []
LIST: Next_volume_list for Volume          6 = [0,7]
      Is_vacuum for Volume                 6 = 0
      is_mask_volume for Volume            6 = 0
      is_masked_volume for Volume          6 = 0
      is_exit_volume for Volume            6 = 0
LIST: mask_list for Volume                 6 = []
LIST: masked_by_list for Volume            6 = []
LIST: masked_by_mask_index_list for Volume 6 = []
      mask_mode for Volume                 6 = 0

List overview for outer_cryostat_wall_vacuum with cylinder shape made of Vacuum
LIST: Children for Volume                  7 = [1,2,3,4,5]
LIST: Direct_children for Volume           7 = [4]
LIST: Intersect_check_list for Volume      7 = [4]
LIST: Mask_intersect_list for Volume       7 = []
LIST: Destinations_list for Volume         7 = [6]
LIST: Reduced_destinations_list for Volume 7 = [6]
LIST: Next_volume_list for Volume          7 = [6,4]
      Is_vacuum for Volume                 7 = 1
      is_mask_volume for Volume            7 = 0
      is_masked_volume for Volume          7 = 0
      is_exit_volume for Volume            7 = 0
LIST: mask_list for Volume                 7 = []
LIST: masked_by_list for Volume            7 = []
LIST: masked_by_mask_index_list for Volume 7 = []
      mask_mode for Volume                 7 = 0

Union_master component master initialized sucessfully
Detector: logger_space_zx_I=730.901 logger_space_zx_ERR=5.14564 logger_space_zx_N=39992 &quot;logger_zx.dat&quot;
Detector: logger_space_zy_I=2801.95 logger_space_zy_ERR=16.0895 logger_space_zy_N=140489 &quot;logger_zy.dat&quot;
Detector: logger_1D_I=20534.5 logger_1D_ERR=33.2718 logger_1D_N=1.01227e+06 &quot;logger_1D_time.dat&quot;
Detector: abs_logger_space_zx_I=960.142 abs_logger_space_zx_ERR=1.38603 abs_logger_space_zx_N=1.01227e+06 &quot;abs_logger_zx.dat&quot;
Detector: logger_2DQ_I=20534.5 logger_2DQ_ERR=33.2718 logger_2DQ_N=1.01227e+06 &quot;logger_2DQ.dat&quot;
Detector: logger_2D_kf_I=20534.5 logger_2D_kf_ERR=33.2718 logger_2D_kf_N=1.01227e+06 &quot;logger_2D_kf.dat&quot;
Detector: logger_2D_space_time_I=10.6197 logger_2D_space_time_ERR=0.471028 logger_2D_space_time_N=543 &quot;logger_2D_space_time.dat_0&quot;
Detector: logger_2D_space_time_I=10.6028 logger_2D_space_time_ERR=0.479141 logger_2D_space_time_N=514 &quot;logger_2D_space_time.dat_1&quot;
Detector: logger_2D_space_time_I=201.03 logger_2D_space_time_ERR=2.00905 logger_2D_space_time_N=10477 &quot;logger_2D_space_time.dat_2&quot;
Detector: logger_2D_space_time_I=522.895 logger_2D_space_time_ERR=3.23744 logger_2D_space_time_N=27324 &quot;logger_2D_space_time.dat_3&quot;
Detector: logger_2D_space_time_I=5177.98 logger_2D_space_time_ERR=16.216 logger_2D_space_time_N=250886 &quot;logger_2D_space_time.dat_4&quot;
Detector: logger_2D_space_time_I=9843.44 logger_2D_space_time_ERR=24.0711 logger_2D_space_time_N=478336 &quot;logger_2D_space_time.dat_5&quot;
Detector: logger_2D_space_time_I=1849.42 logger_2D_space_time_ERR=12.655 logger_2D_space_time_N=90079 &quot;logger_2D_space_time.dat_6&quot;
Detector: logger_2D_space_time_I=482.767 logger_2D_space_time_ERR=4.2686 logger_2D_space_time_N=25568 &quot;logger_2D_space_time.dat_7&quot;
Detector: logger_2D_space_time_I=80.5021 logger_2D_space_time_ERR=1.97531 logger_2D_space_time_N=4363 &quot;logger_2D_space_time.dat_8&quot;
Detector: logger_2D_space_time_I=72.8191 logger_2D_space_time_ERR=1.93576 logger_2D_space_time_N=3421 &quot;logger_2D_space_time.dat_9&quot;
Detector: logger_2D_space_time_I=76.8166 logger_2D_space_time_ERR=2.65982 logger_2D_space_time_N=3573 &quot;logger_2D_space_time.dat_10&quot;
Detector: logger_2D_space_time_I=498.839 logger_2D_space_time_ERR=3.63281 logger_2D_space_time_N=26237 &quot;logger_2D_space_time.dat_11&quot;
Detector: logger_2D_space_time_I=506.469 logger_2D_space_time_ERR=3.67882 logger_2D_space_time_N=27033 &quot;logger_2D_space_time.dat_12&quot;
Detector: logger_2D_space_time_I=80.5831 logger_2D_space_time_ERR=2.15528 logger_2D_space_time_N=4748 &quot;logger_2D_space_time.dat_13&quot;
Detector: logger_2D_space_time_I=26.1508 logger_2D_space_time_ERR=1.79797 logger_2D_space_time_N=1597 &quot;logger_2D_space_time.dat_14&quot;
Detector: logger_2D_space_time_I=8.23168 logger_2D_space_time_ERR=0.444554 logger_2D_space_time_N=560 &quot;logger_2D_space_time.dat_15&quot;
Detector: logger_2D_space_time_I=4.44063 logger_2D_space_time_ERR=0.307036 logger_2D_space_time_N=318 &quot;logger_2D_space_time.dat_16&quot;
Detector: logger_2D_space_time_I=2.69849 logger_2D_space_time_ERR=0.228325 logger_2D_space_time_N=202 &quot;logger_2D_space_time.dat_17&quot;
Detector: logger_2D_space_time_I=1.07075 logger_2D_space_time_ERR=0.159072 logger_2D_space_time_N=76 &quot;logger_2D_space_time.dat_18&quot;
Detector: logger_2D_space_time_I=0.539151 logger_2D_space_time_ERR=0.158481 logger_2D_space_time_N=27 &quot;logger_2D_space_time.dat_19&quot;
Detector: logger_2D_space_time_I=0.348288 logger_2D_space_time_ERR=0.101905 logger_2D_space_time_N=22 &quot;logger_2D_space_time.dat_20&quot;
Detector: logger_2D_space_time_I=0.236346 logger_2D_space_time_ERR=0.0668691 logger_2D_space_time_N=19 &quot;logger_2D_space_time.dat_21&quot;
Detector: logger_2D_space_time_I=0.139821 logger_2D_space_time_ERR=0.0429782 logger_2D_space_time_N=13 &quot;logger_2D_space_time.dat_22&quot;
Detector: logger_2D_space_time_I=0.245039 logger_2D_space_time_ERR=0.16611 logger_2D_space_time_N=9 &quot;logger_2D_space_time.dat_23&quot;
Detector: logger_2D_space_time_I=0.0553949 logger_2D_space_time_ERR=0.0342011 logger_2D_space_time_N=6 &quot;logger_2D_space_time.dat_24&quot;
Detector: logger_2D_space_time_I=0.226664 logger_2D_space_time_ERR=0.0538825 logger_2D_space_time_N=20 &quot;logger_2D_space_time.dat_25&quot;
Detector: logger_2D_space_time_I=0.173357 logger_2D_space_time_ERR=0.0633943 logger_2D_space_time_N=12 &quot;logger_2D_space_time.dat_26&quot;
Detector: logger_2D_space_time_I=0.0736285 logger_2D_space_time_ERR=0.0315073 logger_2D_space_time_N=6 &quot;logger_2D_space_time.dat_27&quot;
Detector: logger_2D_space_time_I=0.04065 logger_2D_space_time_ERR=0.0188124 logger_2D_space_time_N=5 &quot;logger_2D_space_time.dat_28&quot;
Detector: logger_2D_space_time_I=0.00959426 logger_2D_space_time_ERR=0.0072964 logger_2D_space_time_N=3 &quot;logger_2D_space_time.dat_29&quot;
Detector: logger_2D_space_time_I=0 logger_2D_space_time_ERR=0 logger_2D_space_time_N=0 &quot;logger_2D_space_time.dat_30&quot;
Detector: logger_2D_space_time_I=0 logger_2D_space_time_ERR=0 logger_2D_space_time_N=0 &quot;logger_2D_space_time.dat_31&quot;
Detector: logger_2D_space_time_I=0 logger_2D_space_time_ERR=0 logger_2D_space_time_N=0 &quot;logger_2D_space_time.dat_32&quot;
Detector: logger_2D_space_time_I=0 logger_2D_space_time_ERR=0 logger_2D_space_time_N=0 &quot;logger_2D_space_time.dat_33&quot;
Detector: logger_2D_space_time_I=0 logger_2D_space_time_ERR=0 logger_2D_space_time_N=0 &quot;logger_2D_space_time.dat_34&quot;
Detector: logger_2D_space_time_I=0 logger_2D_space_time_ERR=0 logger_2D_space_time_N=0 &quot;logger_2D_space_time.dat_35&quot;
loading system configuration
</pre></div>
</div>
</div>
</div>
<div class="section" id="creating-an-animation">
<h3>Creating an animation<a class="headerlink" href="#creating-an-animation" title="Permalink to this headline">¶</a></h3>
<p>The plotter in McStasScript can create animations when supplied with many McStasData objects. We use name_search to find all the data from the relevant logger, and then a for loop to set plot options for each of them. Then the plotter can make an animation, which is saved as a gif.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ani_data</span> <span class="o">=</span> <span class="n">ms</span><span class="o">.</span><span class="n">name_search</span><span class="p">(</span><span class="s2">&quot;logger_2D_space_time&quot;</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span>
<span class="k">for</span> <span class="n">frame</span> <span class="ow">in</span> <span class="n">ani_data</span><span class="p">:</span>
    <span class="n">frame</span><span class="o">.</span><span class="n">set_plot_options</span><span class="p">(</span><span class="n">log</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">colormap</span><span class="o">=</span><span class="s2">&quot;jet&quot;</span><span class="p">)</span>
    
<span class="n">ms</span><span class="o">.</span><span class="n">make_animation</span><span class="p">(</span><span class="n">ani_data</span><span class="p">,</span> <span class="n">filename</span><span class="o">=</span><span class="s2">&quot;animation_demo&quot;</span><span class="p">,</span> <span class="n">fps</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Plotting data with name logger_2D_space_time
</pre></div>
</div>
<img alt="../_images/Union_tutorial_3_loggers_30_1.png" src="../_images/Union_tutorial_3_loggers_30_1.png" />
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2022-05-16 17:34:10,491 WARNING:MovieWriter imagemagick unavailable; using Pillow instead.
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Saving animation with filename : &quot;animation_demo.gif&quot;
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="viewing-the-animation">
<h2>Viewing the animation<a class="headerlink" href="#viewing-the-animation" title="Permalink to this headline">¶</a></h2>
<p>Some problem in the jupyter notebook prevents playing the gif directly, but it can be played from markdown. One has to refresh this cell when a new animation is written. It should be visible that the beam enters the cryostat from the left, scatters of the sample and illuminates the entire cryostat. Running this simulation with a larger ncount and more time_bins in the monitor will reveal more details in what happens. This is available below, but commented out as the simulation can take some time.</p>
<p><img alt="SegmentLocal" src="../_images/animation_demo.gif" /></p>
<div class="section" id="optional-increasing-resolution">
<h3>Optional: Increasing resolution<a class="headerlink" href="#optional-increasing-resolution" title="Permalink to this headline">¶</a></h3>
<p>Running this simulation with a larger ncount and more time_bins in the monitor will reveal more details in what happens. This is available below, but commented out as the simulation can take some time.</p>
<div class="cell tag_scroll-output docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">log_2D_st</span><span class="o">.</span><span class="n">time_bins</span> <span class="o">=</span> <span class="mi">128</span>
<span class="n">instrument</span><span class="o">.</span><span class="n">settings</span><span class="p">(</span><span class="n">ncount</span><span class="o">=</span><span class="mf">2E8</span><span class="p">,</span> <span class="n">mpi</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
<span class="c1">#data = instrument.backengine()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#ani_data = ms.name_search(&quot;logger_2D_space_time&quot;, data)</span>
<span class="c1">#for frame in ani_data:</span>
<span class="c1">#    ms.set_plot_options(log=True, colormap=&quot;jet&quot;, orders_of_mag=6)</span>
<span class="c1">#    </span>
<span class="c1">#ms.make_animation(ani_data, filename=&quot;animation_demo_long&quot;, fps=5)</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="id2">
<h2>Viewing the animation<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h2>
<p>In the longer animation it is more evident that scattering from the aluminium hits the top and bottom of the outer cylinder.</p>
<p><img alt="SegmentLocal" src="../_images/animation_demo_long.gif" /></p>
</div>
</div>


              </div>
              
            
                <!-- Previous / next buttons -->
<div class='prev-next-area'> 
    <a class='left-prev' id="prev-link" href="Union_tutorial_2_geometry.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Advanced geometry using the Union components</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="Union_tutorial_4_conditionals.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Using conditional component to modify loggers</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            
        </div>
    </div>
    <footer class="footer">
  <p>
    
      By Mads Bertelsen<br/>
    
        &copy; Copyright 2022, Mads Bertelsen.<br/>
  </p>
</footer>
</main>


      </div>
    </div>
  
  <script src="../_static/js/index.be7d3bbb2ef33a8344ce.js"></script>

  </body>
</html>