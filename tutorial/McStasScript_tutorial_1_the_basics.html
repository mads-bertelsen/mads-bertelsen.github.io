
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>McStasScript introduction &#8212; McStasScript  documentation</title>
    
  <link href="../_static/css/theme.css" rel="stylesheet">
  <link href="../_static/css/index.ff1ffe594081f20da1ef19478df9384b.css" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-book-theme.css?digest=c3fdc42140077d1ad13ad2f1588a4309" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    
  <link rel="preload" as="script" href="../_static/js/index.be7d3bbb2ef33a8344ce.js">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../_static/sphinx-book-theme.d59cb220de22ca1c485ebbdc042f0030.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Advanced McStas features: SPLIT" href="McStasScript_tutorial_2_SPLIT.html" />
    <link rel="prev" title="Instrument reader" href="../user_guide/instrument_reader.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../index.html">
      
      
      
      <h1 class="site-logo" id="site-title">McStasScript  documentation</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Getting started
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../getting_started/overview.html">
   Overview
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../getting_started/installation.html">
   Installation
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../getting_started/version_history.html">
   Version history
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../getting_started/quick_start.html">
   Quick start
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  User guide
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../user_guide/instrument_object.html">
   Instrument object
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../user_guide/component_object.html">
   Component object
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../user_guide/parameters_and_variables.html">
   Parameters and variables
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../user_guide/data.html">
   Data
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../user_guide/plotting.html">
   Plotting
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../user_guide/functions.html">
   Functions
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../user_guide/widgets.html">
   Widgets
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../user_guide/instrument_reader.html">
   Instrument reader
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  McStasScript Tutorial
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   McStasScript introduction
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="McStasScript_tutorial_2_SPLIT.html">
   Advanced McStas features:  SPLIT
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="McStasScript_tutorial_3_EXTEND_and_WHEN.html">
   Advanced McStas features: EXTEND and WHEN
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="McStasScript_tutorial_4_JUMP.html">
   Advanced McStas features: JUMP
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="McStasScript_tutorial_5_MCPL_bridges.html">
   Dynamic instrument cuts with MCPL bridges
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="McStasScript_tutorial_6_Diagnostics.html">
   Diagnostics
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  McStas Union Tutorial
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="Union_tutorial_1_processes_and_materials.html">
   The Union components
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Union_tutorial_2_geometry.html">
   Advanced geometry using the Union components
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Union_tutorial_3_loggers.html">
   Visualizing what happens in Union master
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Union_tutorial_4_conditionals.html">
   Using conditional component to modify loggers
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Union_tutorial_5_masks.html">
   Union tutorial on masks
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Union_tutorial_6_Exit_and_number_of_activations.html">
   Advanced geometry component concepts: Exit geometry and number of activations
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Union_tutorial_7_Tagging_history.html">
   Union tagging system
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Reference
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../_autosummary/mcstasscript.html">
   mcstasscript
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../_autosummary/mcstasscript.data.html">
     mcstasscript.data
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
    <label for="toctree-checkbox-2">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.data.MCPLDataFormat.html">
       mcstasscript.data.MCPLDataFormat
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
      <label for="toctree-checkbox-3">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.data.MCPLDataFormat.MCPLDataFormat.html">
         mcstasscript.data.MCPLDataFormat.MCPLDataFormat
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.data.McStasDataFormat.html">
       mcstasscript.data.McStasDataFormat
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/>
      <label for="toctree-checkbox-4">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.data.McStasDataFormat.McStasFormat.html">
         mcstasscript.data.McStasDataFormat.McStasFormat
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.data.data.html">
       mcstasscript.data.data
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/>
      <label for="toctree-checkbox-5">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.data.data.McStasData.html">
         mcstasscript.data.data.McStasData
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.data.data.McStasDataBinned.html">
         mcstasscript.data.data.McStasDataBinned
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.data.data.McStasDataEvent.html">
         mcstasscript.data.data.McStasDataEvent
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.data.data.McStasMetaData.html">
         mcstasscript.data.data.McStasMetaData
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.data.data.McStasPlotOptions.html">
         mcstasscript.data.data.McStasPlotOptions
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.data.pyvinylData.html">
       mcstasscript.data.pyvinylData
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/>
      <label for="toctree-checkbox-6">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.data.pyvinylData.pyvinylMCPLData.html">
         mcstasscript.data.pyvinylData.pyvinylMCPLData
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.data.pyvinylData.pyvinylMcStasData.html">
         mcstasscript.data.pyvinylData.pyvinylMcStasData
        </a>
       </li>
      </ul>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../_autosummary/mcstasscript.helper.html">
     mcstasscript.helper
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/>
    <label for="toctree-checkbox-7">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.helper.beam_dump_database.html">
       mcstasscript.helper.beam_dump_database
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" type="checkbox"/>
      <label for="toctree-checkbox-8">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.helper.beam_dump_database.BeamDump.html">
         mcstasscript.helper.beam_dump_database.BeamDump
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.helper.beam_dump_database.BeamDumpDatabase.html">
         mcstasscript.helper.beam_dump_database.BeamDumpDatabase
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.helper.check_mccode_version.html">
       mcstasscript.helper.check_mccode_version
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" type="checkbox"/>
      <label for="toctree-checkbox-9">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.helper.check_mccode_version.check_mcstas_major_version.html">
         mcstasscript.helper.check_mccode_version.check_mcstas_major_version
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.helper.check_mccode_version.check_mcxtrace_major_version.html">
         mcstasscript.helper.check_mccode_version.check_mcxtrace_major_version
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.helper.component_reader.html">
       mcstasscript.helper.component_reader
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" type="checkbox"/>
      <label for="toctree-checkbox-10">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.helper.component_reader.c_integer_literal_base.html">
         mcstasscript.helper.component_reader.c_integer_literal_base
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.helper.component_reader.ComponentInfo.html">
         mcstasscript.helper.component_reader.ComponentInfo
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.helper.component_reader.ComponentReader.html">
         mcstasscript.helper.component_reader.ComponentReader
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.helper.exceptions.html">
       mcstasscript.helper.exceptions
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" type="checkbox"/>
      <label for="toctree-checkbox-11">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.helper.exceptions.McStasError.html">
         mcstasscript.helper.exceptions.McStasError
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.helper.formatting.html">
       mcstasscript.helper.formatting
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" type="checkbox"/>
      <label for="toctree-checkbox-12">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.helper.formatting.is_legal_filename.html">
         mcstasscript.helper.formatting.is_legal_filename
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.helper.formatting.is_legal_parameter.html">
         mcstasscript.helper.formatting.is_legal_parameter
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.helper.formatting.bcolors.html">
         mcstasscript.helper.formatting.bcolors
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.helper.managed_mcrun.html">
       mcstasscript.helper.managed_mcrun
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" type="checkbox"/>
      <label for="toctree-checkbox-13">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.helper.managed_mcrun.findall.html">
         mcstasscript.helper.managed_mcrun.findall
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.helper.managed_mcrun.highlight.html">
         mcstasscript.helper.managed_mcrun.highlight
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.helper.managed_mcrun.load_metadata.html">
         mcstasscript.helper.managed_mcrun.load_metadata
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.helper.managed_mcrun.load_monitor.html">
         mcstasscript.helper.managed_mcrun.load_monitor
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.helper.managed_mcrun.load_results.html">
         mcstasscript.helper.managed_mcrun.load_results
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.helper.managed_mcrun.print_sim_output.html">
         mcstasscript.helper.managed_mcrun.print_sim_output
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.helper.managed_mcrun.ManagedMcrun.html">
         mcstasscript.helper.managed_mcrun.ManagedMcrun
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.helper.mcstas_objects.html">
       mcstasscript.helper.mcstas_objects
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-14" name="toctree-checkbox-14" type="checkbox"/>
      <label for="toctree-checkbox-14">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.helper.mcstas_objects.provide_parameter.html">
         mcstasscript.helper.mcstas_objects.provide_parameter
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.helper.mcstas_objects.write_parameter.html">
         mcstasscript.helper.mcstas_objects.write_parameter
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.helper.mcstas_objects.Component.html">
         mcstasscript.helper.mcstas_objects.Component
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.helper.mcstas_objects.DeclareVariable.html">
         mcstasscript.helper.mcstas_objects.DeclareVariable
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.helper.name_inspector.html">
       mcstasscript.helper.name_inspector
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-15" name="toctree-checkbox-15" type="checkbox"/>
      <label for="toctree-checkbox-15">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.helper.name_inspector.find_python_variable_name.html">
         mcstasscript.helper.name_inspector.find_python_variable_name
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../_autosummary/mcstasscript.helper.plot_helper.html">
       mcstasscript.helper.plot_helper
      </a>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.helper.search_statement.html">
       mcstasscript.helper.search_statement
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-16" name="toctree-checkbox-16" type="checkbox"/>
      <label for="toctree-checkbox-16">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.helper.search_statement.SearchStatement.html">
         mcstasscript.helper.search_statement.SearchStatement
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.helper.search_statement.SearchStatementList.html">
         mcstasscript.helper.search_statement.SearchStatementList
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.helper.unpickler.html">
       mcstasscript.helper.unpickler
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-17" name="toctree-checkbox-17" type="checkbox"/>
      <label for="toctree-checkbox-17">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.helper.unpickler.CustomMcStasUnpickler.html">
         mcstasscript.helper.unpickler.CustomMcStasUnpickler
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.helper.unpickler.CustomMcXtraceUnpickler.html">
         mcstasscript.helper.unpickler.CustomMcXtraceUnpickler
        </a>
       </li>
      </ul>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../_autosummary/mcstasscript.instr_reader.html">
     mcstasscript.instr_reader
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-18" name="toctree-checkbox-18" type="checkbox"/>
    <label for="toctree-checkbox-18">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.instr_reader.control.html">
       mcstasscript.instr_reader.control
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-19" name="toctree-checkbox-19" type="checkbox"/>
      <label for="toctree-checkbox-19">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.instr_reader.control.InstrumentReader.html">
         mcstasscript.instr_reader.control.InstrumentReader
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.instr_reader.read_declare.html">
       mcstasscript.instr_reader.read_declare
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-20" name="toctree-checkbox-20" type="checkbox"/>
      <label for="toctree-checkbox-20">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.instr_reader.read_declare.DeclareReader.html">
         mcstasscript.instr_reader.read_declare.DeclareReader
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.instr_reader.read_definition.html">
       mcstasscript.instr_reader.read_definition
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-21" name="toctree-checkbox-21" type="checkbox"/>
      <label for="toctree-checkbox-21">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.instr_reader.read_definition.DefinitionReader.html">
         mcstasscript.instr_reader.read_definition.DefinitionReader
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.instr_reader.read_finally.html">
       mcstasscript.instr_reader.read_finally
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-22" name="toctree-checkbox-22" type="checkbox"/>
      <label for="toctree-checkbox-22">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.instr_reader.read_finally.FinallyReader.html">
         mcstasscript.instr_reader.read_finally.FinallyReader
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.instr_reader.read_initialize.html">
       mcstasscript.instr_reader.read_initialize
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-23" name="toctree-checkbox-23" type="checkbox"/>
      <label for="toctree-checkbox-23">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.instr_reader.read_initialize.InitializeReader.html">
         mcstasscript.instr_reader.read_initialize.InitializeReader
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.instr_reader.read_trace.html">
       mcstasscript.instr_reader.read_trace
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-24" name="toctree-checkbox-24" type="checkbox"/>
      <label for="toctree-checkbox-24">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.instr_reader.read_trace.TraceReader.html">
         mcstasscript.instr_reader.read_trace.TraceReader
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.instr_reader.read_uservars.html">
       mcstasscript.instr_reader.read_uservars
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-25" name="toctree-checkbox-25" type="checkbox"/>
      <label for="toctree-checkbox-25">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.instr_reader.read_uservars.UservarsReader.html">
         mcstasscript.instr_reader.read_uservars.UservarsReader
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.instr_reader.util.html">
       mcstasscript.instr_reader.util
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-26" name="toctree-checkbox-26" type="checkbox"/>
      <label for="toctree-checkbox-26">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.instr_reader.util.SectionReader.html">
         mcstasscript.instr_reader.util.SectionReader
        </a>
       </li>
      </ul>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../_autosummary/mcstasscript.instrument_diagnostics.html">
     mcstasscript.instrument_diagnostics
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-27" name="toctree-checkbox-27" type="checkbox"/>
    <label for="toctree-checkbox-27">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.instrument_diagnostics.beam_diagnostics.html">
       mcstasscript.instrument_diagnostics.beam_diagnostics
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-28" name="toctree-checkbox-28" type="checkbox"/>
      <label for="toctree-checkbox-28">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.instrument_diagnostics.beam_diagnostics.sanitise_comp_name.html">
         mcstasscript.instrument_diagnostics.beam_diagnostics.sanitise_comp_name
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.instrument_diagnostics.beam_diagnostics.BeamDiagnostics.html">
         mcstasscript.instrument_diagnostics.beam_diagnostics.BeamDiagnostics
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.instrument_diagnostics.beam_diagnostics.DiagnosticsPoint.html">
         mcstasscript.instrument_diagnostics.beam_diagnostics.DiagnosticsPoint
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.instrument_diagnostics.diagnostics_instrument.html">
       mcstasscript.instrument_diagnostics.diagnostics_instrument
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-29" name="toctree-checkbox-29" type="checkbox"/>
      <label for="toctree-checkbox-29">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.instrument_diagnostics.diagnostics_instrument.DiagnosticsInstrument.html">
         mcstasscript.instrument_diagnostics.diagnostics_instrument.DiagnosticsInstrument
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.instrument_diagnostics.event_plotter.html">
       mcstasscript.instrument_diagnostics.event_plotter
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-30" name="toctree-checkbox-30" type="checkbox"/>
      <label for="toctree-checkbox-30">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.instrument_diagnostics.event_plotter.EventPlotter.html">
         mcstasscript.instrument_diagnostics.event_plotter.EventPlotter
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.instrument_diagnostics.intensity_diagnostics.html">
       mcstasscript.instrument_diagnostics.intensity_diagnostics
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-31" name="toctree-checkbox-31" type="checkbox"/>
      <label for="toctree-checkbox-31">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.instrument_diagnostics.intensity_diagnostics.common_range_limits.html">
         mcstasscript.instrument_diagnostics.intensity_diagnostics.common_range_limits
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.instrument_diagnostics.intensity_diagnostics.IntensityDiagnostics.html">
         mcstasscript.instrument_diagnostics.intensity_diagnostics.IntensityDiagnostics
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.instrument_diagnostics.plot_overview.html">
       mcstasscript.instrument_diagnostics.plot_overview
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-32" name="toctree-checkbox-32" type="checkbox"/>
      <label for="toctree-checkbox-32">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.instrument_diagnostics.plot_overview.PlotOverview.html">
         mcstasscript.instrument_diagnostics.plot_overview.PlotOverview
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.instrument_diagnostics.view.html">
       mcstasscript.instrument_diagnostics.view
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-33" name="toctree-checkbox-33" type="checkbox"/>
      <label for="toctree-checkbox-33">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.instrument_diagnostics.view.View.html">
         mcstasscript.instrument_diagnostics.view.View
        </a>
       </li>
      </ul>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../_autosummary/mcstasscript.instrument_diagram.html">
     mcstasscript.instrument_diagram
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-34" name="toctree-checkbox-34" type="checkbox"/>
    <label for="toctree-checkbox-34">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.instrument_diagram.arrow.html">
       mcstasscript.instrument_diagram.arrow
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-35" name="toctree-checkbox-35" type="checkbox"/>
      <label for="toctree-checkbox-35">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.instrument_diagram.arrow.Arrow.html">
         mcstasscript.instrument_diagram.arrow.Arrow
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.instrument_diagram.box.html">
       mcstasscript.instrument_diagram.box
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-36" name="toctree-checkbox-36" type="checkbox"/>
      <label for="toctree-checkbox-36">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.instrument_diagram.box.ComponentBox.html">
         mcstasscript.instrument_diagram.box.ComponentBox
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.instrument_diagram.canvas.html">
       mcstasscript.instrument_diagram.canvas
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-37" name="toctree-checkbox-37" type="checkbox"/>
      <label for="toctree-checkbox-37">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.instrument_diagram.canvas.DiagramCanvas.html">
         mcstasscript.instrument_diagram.canvas.DiagramCanvas
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.instrument_diagram.component_description.html">
       mcstasscript.instrument_diagram.component_description
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-38" name="toctree-checkbox-38" type="checkbox"/>
      <label for="toctree-checkbox-38">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.instrument_diagram.component_description.component_description.html">
         mcstasscript.instrument_diagram.component_description.component_description
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.instrument_diagram.connections.html">
       mcstasscript.instrument_diagram.connections
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-39" name="toctree-checkbox-39" type="checkbox"/>
      <label for="toctree-checkbox-39">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.instrument_diagram.connections.Connection.html">
         mcstasscript.instrument_diagram.connections.Connection
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.instrument_diagram.connections.ConnectionList.html">
         mcstasscript.instrument_diagram.connections.ConnectionList
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.instrument_diagram.connections.IndexConnection.html">
         mcstasscript.instrument_diagram.connections.IndexConnection
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.instrument_diagram.connections.Lane.html">
         mcstasscript.instrument_diagram.connections.Lane
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.instrument_diagram.generate_AT.html">
       mcstasscript.instrument_diagram.generate_AT
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-40" name="toctree-checkbox-40" type="checkbox"/>
      <label for="toctree-checkbox-40">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.instrument_diagram.generate_AT.generate_AT_arrows.html">
         mcstasscript.instrument_diagram.generate_AT.generate_AT_arrows
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.instrument_diagram.generate_GROUP.html">
       mcstasscript.instrument_diagram.generate_GROUP
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-41" name="toctree-checkbox-41" type="checkbox"/>
      <label for="toctree-checkbox-41">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.instrument_diagram.generate_GROUP.generate_GROUP_arrows.html">
         mcstasscript.instrument_diagram.generate_GROUP.generate_GROUP_arrows
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.instrument_diagram.generate_JUMP.html">
       mcstasscript.instrument_diagram.generate_JUMP
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-42" name="toctree-checkbox-42" type="checkbox"/>
      <label for="toctree-checkbox-42">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.instrument_diagram.generate_JUMP.generate_JUMP_arrows.html">
         mcstasscript.instrument_diagram.generate_JUMP.generate_JUMP_arrows
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.instrument_diagram.generate_ROTATED.html">
       mcstasscript.instrument_diagram.generate_ROTATED
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-43" name="toctree-checkbox-43" type="checkbox"/>
      <label for="toctree-checkbox-43">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.instrument_diagram.generate_ROTATED.generate_ROTATED_arrows.html">
         mcstasscript.instrument_diagram.generate_ROTATED.generate_ROTATED_arrows
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.instrument_diagram.generate_Union.html">
       mcstasscript.instrument_diagram.generate_Union
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-44" name="toctree-checkbox-44" type="checkbox"/>
      <label for="toctree-checkbox-44">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.instrument_diagram.generate_Union.generate_Union_arrows.html">
         mcstasscript.instrument_diagram.generate_Union.generate_Union_arrows
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.instrument_diagram.generate_target_index.html">
       mcstasscript.instrument_diagram.generate_target_index
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-45" name="toctree-checkbox-45" type="checkbox"/>
      <label for="toctree-checkbox-45">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.instrument_diagram.generate_target_index.generate_target_index_arrows.html">
         mcstasscript.instrument_diagram.generate_target_index.generate_target_index_arrows
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.instrument_diagram.make_diagram.html">
       mcstasscript.instrument_diagram.make_diagram
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-46" name="toctree-checkbox-46" type="checkbox"/>
      <label for="toctree-checkbox-46">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.instrument_diagram.make_diagram.instrument_diagram.html">
         mcstasscript.instrument_diagram.make_diagram.instrument_diagram
        </a>
       </li>
      </ul>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../_autosummary/mcstasscript.integration_tests.html">
     mcstasscript.integration_tests
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-47" name="toctree-checkbox-47" type="checkbox"/>
    <label for="toctree-checkbox-47">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.integration_tests.test_complex_instrument.html">
       mcstasscript.integration_tests.test_complex_instrument
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-48" name="toctree-checkbox-48" type="checkbox"/>
      <label for="toctree-checkbox-48">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.integration_tests.test_complex_instrument.setup_complex_instrument.html">
         mcstasscript.integration_tests.test_complex_instrument.setup_complex_instrument
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.integration_tests.test_complex_instrument.FakeChange.html">
         mcstasscript.integration_tests.test_complex_instrument.FakeChange
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.integration_tests.test_complex_instrument.TestComplexInstrument.html">
         mcstasscript.integration_tests.test_complex_instrument.TestComplexInstrument
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.integration_tests.test_simple_instrument.html">
       mcstasscript.integration_tests.test_simple_instrument
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-49" name="toctree-checkbox-49" type="checkbox"/>
      <label for="toctree-checkbox-49">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.integration_tests.test_simple_instrument.setup_simple_instrument.html">
         mcstasscript.integration_tests.test_simple_instrument.setup_simple_instrument
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.integration_tests.test_simple_instrument.setup_simple_instrument_input_path.html">
         mcstasscript.integration_tests.test_simple_instrument.setup_simple_instrument_input_path
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.integration_tests.test_simple_instrument.setup_simple_slit_instrument.html">
         mcstasscript.integration_tests.test_simple_instrument.setup_simple_slit_instrument
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.integration_tests.test_simple_instrument.TestSimpleInstrument.html">
         mcstasscript.integration_tests.test_simple_instrument.TestSimpleInstrument
        </a>
       </li>
      </ul>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../_autosummary/mcstasscript.interface.html">
     mcstasscript.interface
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-50" name="toctree-checkbox-50" type="checkbox"/>
    <label for="toctree-checkbox-50">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.interface.functions.html">
       mcstasscript.interface.functions
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-51" name="toctree-checkbox-51" type="checkbox"/>
      <label for="toctree-checkbox-51">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.interface.functions.load_data.html">
         mcstasscript.interface.functions.load_data
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.interface.functions.load_metadata.html">
         mcstasscript.interface.functions.load_metadata
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.interface.functions.load_monitor.html">
         mcstasscript.interface.functions.load_monitor
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.interface.functions.name_plot_options.html">
         mcstasscript.interface.functions.name_plot_options
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.interface.functions.name_search.html">
         mcstasscript.interface.functions.name_search
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.interface.functions.Configurator.html">
         mcstasscript.interface.functions.Configurator
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.interface.instr.html">
       mcstasscript.interface.instr
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-52" name="toctree-checkbox-52" type="checkbox"/>
      <label for="toctree-checkbox-52">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.interface.instr.McCode_instr.html">
         mcstasscript.interface.instr.McCode_instr
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.interface.instr.McStas_instr.html">
         mcstasscript.interface.instr.McStas_instr
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.interface.instr.McXtrace_instr.html">
         mcstasscript.interface.instr.McXtrace_instr
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.interface.plotter.html">
       mcstasscript.interface.plotter
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-53" name="toctree-checkbox-53" type="checkbox"/>
      <label for="toctree-checkbox-53">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.interface.plotter.make_animation.html">
         mcstasscript.interface.plotter.make_animation
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.interface.plotter.make_plot.html">
         mcstasscript.interface.plotter.make_plot
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.interface.plotter.make_sub_plot.html">
         mcstasscript.interface.plotter.make_sub_plot
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.interface.reader.html">
       mcstasscript.interface.reader
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-54" name="toctree-checkbox-54" type="checkbox"/>
      <label for="toctree-checkbox-54">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.interface.reader.McStas_file.html">
         mcstasscript.interface.reader.McStas_file
        </a>
       </li>
      </ul>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../_autosummary/mcstasscript.jb_interface.html">
     mcstasscript.jb_interface
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-55" name="toctree-checkbox-55" type="checkbox"/>
    <label for="toctree-checkbox-55">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.jb_interface.plot_interface.html">
       mcstasscript.jb_interface.plot_interface
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-56" name="toctree-checkbox-56" type="checkbox"/>
      <label for="toctree-checkbox-56">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.jb_interface.plot_interface.ColormapDropdown.html">
         mcstasscript.jb_interface.plot_interface.ColormapDropdown
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.jb_interface.plot_interface.LogCheckbox.html">
         mcstasscript.jb_interface.plot_interface.LogCheckbox
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.jb_interface.plot_interface.MonitorDropdown.html">
         mcstasscript.jb_interface.plot_interface.MonitorDropdown
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.jb_interface.plot_interface.OrdersOfMagField.html">
         mcstasscript.jb_interface.plot_interface.OrdersOfMagField
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.jb_interface.plot_interface.PlotInterface.html">
         mcstasscript.jb_interface.plot_interface.PlotInterface
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.jb_interface.show_interface.html">
       mcstasscript.jb_interface.show_interface
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-57" name="toctree-checkbox-57" type="checkbox"/>
      <label for="toctree-checkbox-57">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.jb_interface.show_interface.show.html">
         mcstasscript.jb_interface.show_interface.show
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.jb_interface.show_interface.show_instrunent.html">
         mcstasscript.jb_interface.show_interface.show_instrunent
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.jb_interface.show_interface.show_plot.html">
         mcstasscript.jb_interface.show_interface.show_plot
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.jb_interface.simulation_interface.html">
       mcstasscript.jb_interface.simulation_interface
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-58" name="toctree-checkbox-58" type="checkbox"/>
      <label for="toctree-checkbox-58">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.jb_interface.simulation_interface.add_data.html">
         mcstasscript.jb_interface.simulation_interface.add_data
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.jb_interface.simulation_interface.ParameterWidget.html">
         mcstasscript.jb_interface.simulation_interface.ParameterWidget
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.jb_interface.simulation_interface.SimInterface.html">
         mcstasscript.jb_interface.simulation_interface.SimInterface
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.jb_interface.widget_helpers.html">
       mcstasscript.jb_interface.widget_helpers
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-59" name="toctree-checkbox-59" type="checkbox"/>
      <label for="toctree-checkbox-59">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.jb_interface.widget_helpers.get_parameter_default.html">
         mcstasscript.jb_interface.widget_helpers.get_parameter_default
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.jb_interface.widget_helpers.parameter_has_default.html">
         mcstasscript.jb_interface.widget_helpers.parameter_has_default
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.jb_interface.widget_helpers.HiddenPrints.html">
         mcstasscript.jb_interface.widget_helpers.HiddenPrints
        </a>
       </li>
      </ul>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../_autosummary/mcstasscript.tests.html">
     mcstasscript.tests
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-60" name="toctree-checkbox-60" type="checkbox"/>
    <label for="toctree-checkbox-60">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.tests.helpers_for_tests.html">
       mcstasscript.tests.helpers_for_tests
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-61" name="toctree-checkbox-61" type="checkbox"/>
      <label for="toctree-checkbox-61">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.helpers_for_tests.WorkInTestDir.html">
         mcstasscript.tests.helpers_for_tests.WorkInTestDir
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_ComponentReader.html">
       mcstasscript.tests.test_ComponentReader
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-62" name="toctree-checkbox-62" type="checkbox"/>
      <label for="toctree-checkbox-62">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_ComponentReader.setup_component_reader.html">
         mcstasscript.tests.test_ComponentReader.setup_component_reader
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_ComponentReader.setup_component_reader_input_path.html">
         mcstasscript.tests.test_ComponentReader.setup_component_reader_input_path
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_ComponentReader.TestComponentReader.html">
         mcstasscript.tests.test_ComponentReader.TestComponentReader
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_Configurator.html">
       mcstasscript.tests.test_Configurator
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-63" name="toctree-checkbox-63" type="checkbox"/>
      <label for="toctree-checkbox-63">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_Configurator.setup_configurator.html">
         mcstasscript.tests.test_Configurator.setup_configurator
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_Configurator.setup_expected_file.html">
         mcstasscript.tests.test_Configurator.setup_expected_file
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_Configurator.TestConfigurator.html">
         mcstasscript.tests.test_Configurator.TestConfigurator
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_Instr.html">
       mcstasscript.tests.test_Instr
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-64" name="toctree-checkbox-64" type="checkbox"/>
      <label for="toctree-checkbox-64">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_Instr.insert_mock_dump.html">
         mcstasscript.tests.test_Instr.insert_mock_dump
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_Instr.setup_instr_no_path.html">
         mcstasscript.tests.test_Instr.setup_instr_no_path
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_Instr.setup_instr_root_path.html">
         mcstasscript.tests.test_Instr.setup_instr_root_path
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_Instr.setup_instr_with_input_path.html">
         mcstasscript.tests.test_Instr.setup_instr_with_input_path
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_Instr.setup_instr_with_input_path_relative.html">
         mcstasscript.tests.test_Instr.setup_instr_with_input_path_relative
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_Instr.setup_instr_with_path.html">
         mcstasscript.tests.test_Instr.setup_instr_with_path
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_Instr.setup_populated_instr.html">
         mcstasscript.tests.test_Instr.setup_populated_instr
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_Instr.setup_populated_instr_with_dummy_MCPL_comps.html">
         mcstasscript.tests.test_Instr.setup_populated_instr_with_dummy_MCPL_comps
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_Instr.setup_populated_instr_with_dummy_path.html">
         mcstasscript.tests.test_Instr.setup_populated_instr_with_dummy_path
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_Instr.setup_populated_with_some_options_instr.html">
         mcstasscript.tests.test_Instr.setup_populated_with_some_options_instr
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_Instr.setup_populated_x_ray_instr.html">
         mcstasscript.tests.test_Instr.setup_populated_x_ray_instr
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_Instr.setup_populated_x_ray_instr_with_dummy_path.html">
         mcstasscript.tests.test_Instr.setup_populated_x_ray_instr_with_dummy_path
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_Instr.setup_x_ray_instr_no_path.html">
         mcstasscript.tests.test_Instr.setup_x_ray_instr_no_path
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_Instr.setup_x_ray_instr_root_path.html">
         mcstasscript.tests.test_Instr.setup_x_ray_instr_root_path
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_Instr.setup_x_ray_instr_with_path.html">
         mcstasscript.tests.test_Instr.setup_x_ray_instr_with_path
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_Instr.DummyComponent.html">
         mcstasscript.tests.test_Instr.DummyComponent
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_Instr.TestMcStas_instr.html">
         mcstasscript.tests.test_Instr.TestMcStas_instr
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_Instr_reader.html">
       mcstasscript.tests.test_Instr_reader
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-65" name="toctree-checkbox-65" type="checkbox"/>
      <label for="toctree-checkbox-65">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_Instr_reader.blockPrint.html">
         mcstasscript.tests.test_Instr_reader.blockPrint
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_Instr_reader.enablePrint.html">
         mcstasscript.tests.test_Instr_reader.enablePrint
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_Instr_reader.set_dummy_dir.html">
         mcstasscript.tests.test_Instr_reader.set_dummy_dir
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_Instr_reader.setup_standard.html">
         mcstasscript.tests.test_Instr_reader.setup_standard
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_Instr_reader.setup_standard_auto_instr.html">
         mcstasscript.tests.test_Instr_reader.setup_standard_auto_instr
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_Instr_reader.TestInstrReader.html">
         mcstasscript.tests.test_Instr_reader.TestInstrReader
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_ManagedMcrun.html">
       mcstasscript.tests.test_ManagedMcrun
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-66" name="toctree-checkbox-66" type="checkbox"/>
      <label for="toctree-checkbox-66">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_ManagedMcrun.TestManagedMcrun.html">
         mcstasscript.tests.test_ManagedMcrun.TestManagedMcrun
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_ManagedMcrun.Test_load_functions.html">
         mcstasscript.tests.test_ManagedMcrun.Test_load_functions
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_McStasData.html">
       mcstasscript.tests.test_McStasData
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-67" name="toctree-checkbox-67" type="checkbox"/>
      <label for="toctree-checkbox-67">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_McStasData.set_dummy_McStasDataBinned_1d.html">
         mcstasscript.tests.test_McStasData.set_dummy_McStasDataBinned_1d
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_McStasData.set_dummy_McStasDataBinned_2d.html">
         mcstasscript.tests.test_McStasData.set_dummy_McStasDataBinned_2d
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_McStasData.set_dummy_MetaDataBinned_1d.html">
         mcstasscript.tests.test_McStasData.set_dummy_MetaDataBinned_1d
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_McStasData.set_dummy_MetaDataBinned_2d.html">
         mcstasscript.tests.test_McStasData.set_dummy_MetaDataBinned_2d
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_McStasData.TestMcStasData.html">
         mcstasscript.tests.test_McStasData.TestMcStasData
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_McStasMetaData.html">
       mcstasscript.tests.test_McStasMetaData
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-68" name="toctree-checkbox-68" type="checkbox"/>
      <label for="toctree-checkbox-68">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_McStasMetaData.TestMcStasMetaData.html">
         mcstasscript.tests.test_McStasMetaData.TestMcStasMetaData
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_McStasPlotOptions.html">
       mcstasscript.tests.test_McStasPlotOptions
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-69" name="toctree-checkbox-69" type="checkbox"/>
      <label for="toctree-checkbox-69">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_McStasPlotOptions.TestMcStasPlotOptions.html">
         mcstasscript.tests.test_McStasPlotOptions.TestMcStasPlotOptions
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_Plotter.html">
       mcstasscript.tests.test_Plotter
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-70" name="toctree-checkbox-70" type="checkbox"/>
      <label for="toctree-checkbox-70">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_Plotter.get_dummy_McStasDataBinned_1d.html">
         mcstasscript.tests.test_Plotter.get_dummy_McStasDataBinned_1d
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_Plotter.get_dummy_McStasDataBinned_2d.html">
         mcstasscript.tests.test_Plotter.get_dummy_McStasDataBinned_2d
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_Plotter.get_dummy_MetaDataBinned_1d.html">
         mcstasscript.tests.test_Plotter.get_dummy_MetaDataBinned_1d
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_Plotter.get_dummy_MetaDataBinned_2d.html">
         mcstasscript.tests.test_Plotter.get_dummy_MetaDataBinned_2d
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_Plotter.TestPlotterHelpers.html">
         mcstasscript.tests.test_Plotter.TestPlotterHelpers
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_add_data.html">
       mcstasscript.tests.test_add_data
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-71" name="toctree-checkbox-71" type="checkbox"/>
      <label for="toctree-checkbox-71">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_add_data.set_dummy_McStasDataBinned_1d.html">
         mcstasscript.tests.test_add_data.set_dummy_McStasDataBinned_1d
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_add_data.set_dummy_McStasDataBinned_2d.html">
         mcstasscript.tests.test_add_data.set_dummy_McStasDataBinned_2d
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_add_data.set_dummy_MetaDataBinned_1d.html">
         mcstasscript.tests.test_add_data.set_dummy_MetaDataBinned_1d
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_add_data.set_dummy_MetaDataBinned_2d.html">
         mcstasscript.tests.test_add_data.set_dummy_MetaDataBinned_2d
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_add_data.Test_add_data.html">
         mcstasscript.tests.test_add_data.Test_add_data
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_component.html">
       mcstasscript.tests.test_component
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-72" name="toctree-checkbox-72" type="checkbox"/>
      <label for="toctree-checkbox-72">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_component.setup_Component_all_keywords.html">
         mcstasscript.tests.test_component.setup_Component_all_keywords
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_component.setup_Component_relative.html">
         mcstasscript.tests.test_component.setup_Component_relative
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_component.setup_Component_with_parameters.html">
         mcstasscript.tests.test_component.setup_Component_with_parameters
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_component.TestComponent.html">
         mcstasscript.tests.test_component.TestComponent
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_declare_variable.html">
       mcstasscript.tests.test_declare_variable
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-73" name="toctree-checkbox-73" type="checkbox"/>
      <label for="toctree-checkbox-73">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_declare_variable.Test_DeclareVariable.html">
         mcstasscript.tests.test_declare_variable.Test_DeclareVariable
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_dump_and_load.html">
       mcstasscript.tests.test_dump_and_load
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-74" name="toctree-checkbox-74" type="checkbox"/>
      <label for="toctree-checkbox-74">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_dump_and_load.setup_instr_no_path.html">
         mcstasscript.tests.test_dump_and_load.setup_instr_no_path
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_dump_and_load.setup_instr_root_path.html">
         mcstasscript.tests.test_dump_and_load.setup_instr_root_path
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_dump_and_load.setup_instr_with_input_path.html">
         mcstasscript.tests.test_dump_and_load.setup_instr_with_input_path
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_dump_and_load.setup_instr_with_input_path_relative.html">
         mcstasscript.tests.test_dump_and_load.setup_instr_with_input_path_relative
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_dump_and_load.setup_instr_with_path.html">
         mcstasscript.tests.test_dump_and_load.setup_instr_with_path
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_dump_and_load.setup_populated_instr.html">
         mcstasscript.tests.test_dump_and_load.setup_populated_instr
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_dump_and_load.setup_populated_instr_with_dummy_path.html">
         mcstasscript.tests.test_dump_and_load.setup_populated_instr_with_dummy_path
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_dump_and_load.setup_populated_with_some_options_instr.html">
         mcstasscript.tests.test_dump_and_load.setup_populated_with_some_options_instr
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_dump_and_load.setup_populated_x_ray_instr.html">
         mcstasscript.tests.test_dump_and_load.setup_populated_x_ray_instr
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_dump_and_load.setup_populated_x_ray_instr_with_dummy_path.html">
         mcstasscript.tests.test_dump_and_load.setup_populated_x_ray_instr_with_dummy_path
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_dump_and_load.setup_x_ray_instr_no_path.html">
         mcstasscript.tests.test_dump_and_load.setup_x_ray_instr_no_path
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_dump_and_load.setup_x_ray_instr_root_path.html">
         mcstasscript.tests.test_dump_and_load.setup_x_ray_instr_root_path
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_dump_and_load.setup_x_ray_instr_with_path.html">
         mcstasscript.tests.test_dump_and_load.setup_x_ray_instr_with_path
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_dump_and_load.TestDumpAndLoad.html">
         mcstasscript.tests.test_dump_and_load.TestDumpAndLoad
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_formatting.html">
       mcstasscript.tests.test_formatting
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-75" name="toctree-checkbox-75" type="checkbox"/>
      <label for="toctree-checkbox-75">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_formatting.TestFormatting.html">
         mcstasscript.tests.test_formatting.TestFormatting
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_functions.html">
       mcstasscript.tests.test_functions
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-76" name="toctree-checkbox-76" type="checkbox"/>
      <label for="toctree-checkbox-76">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_functions.set_dummy_McStasDataBinned_1d.html">
         mcstasscript.tests.test_functions.set_dummy_McStasDataBinned_1d
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_functions.set_dummy_McStasDataBinned_2d.html">
         mcstasscript.tests.test_functions.set_dummy_McStasDataBinned_2d
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_functions.set_dummy_MetaDataBinned_1d.html">
         mcstasscript.tests.test_functions.set_dummy_MetaDataBinned_1d
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_functions.set_dummy_MetaDataBinned_2d.html">
         mcstasscript.tests.test_functions.set_dummy_MetaDataBinned_2d
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_functions.setup_McStasData_array.html">
         mcstasscript.tests.test_functions.setup_McStasData_array
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_functions.setup_McStasData_array_repeat.html">
         mcstasscript.tests.test_functions.setup_McStasData_array_repeat
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_functions.Test_load_data.html">
         mcstasscript.tests.test_functions.Test_load_data
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_functions.Test_load_metadata.html">
         mcstasscript.tests.test_functions.Test_load_metadata
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_functions.Test_load_monitor.html">
         mcstasscript.tests.test_functions.Test_load_monitor
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_functions.Test_name_plot_options.html">
         mcstasscript.tests.test_functions.Test_name_plot_options
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_functions.Test_name_search.html">
         mcstasscript.tests.test_functions.Test_name_search
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_instrument_diagram.html">
       mcstasscript.tests.test_instrument_diagram
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-77" name="toctree-checkbox-77" type="checkbox"/>
      <label for="toctree-checkbox-77">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_instrument_diagram.setup_boxes.html">
         mcstasscript.tests.test_instrument_diagram.setup_boxes
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_instrument_diagram.setup_instr_no_path.html">
         mcstasscript.tests.test_instrument_diagram.setup_instr_no_path
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_instrument_diagram.setup_populated_instr.html">
         mcstasscript.tests.test_instrument_diagram.setup_populated_instr
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_instrument_diagram.TestInstrumentDiagram.html">
         mcstasscript.tests.test_instrument_diagram.TestInstrumentDiagram
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_parameter_variable.html">
       mcstasscript.tests.test_parameter_variable
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-78" name="toctree-checkbox-78" type="checkbox"/>
      <label for="toctree-checkbox-78">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_parameter_variable.Test_ParameterVariable.html">
         mcstasscript.tests.test_parameter_variable.Test_ParameterVariable
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_plot_interface.html">
       mcstasscript.tests.test_plot_interface
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-79" name="toctree-checkbox-79" type="checkbox"/>
      <label for="toctree-checkbox-79">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_plot_interface.fake_data.html">
         mcstasscript.tests.test_plot_interface.fake_data
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_plot_interface.set_dummy_McStasDataBinned_1d.html">
         mcstasscript.tests.test_plot_interface.set_dummy_McStasDataBinned_1d
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_plot_interface.set_dummy_McStasDataBinned_2d.html">
         mcstasscript.tests.test_plot_interface.set_dummy_McStasDataBinned_2d
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_plot_interface.set_dummy_MetaDataBinned_1d.html">
         mcstasscript.tests.test_plot_interface.set_dummy_MetaDataBinned_1d
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_plot_interface.set_dummy_MetaDataBinned_2d.html">
         mcstasscript.tests.test_plot_interface.set_dummy_MetaDataBinned_2d
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_plot_interface.FakeChange.html">
         mcstasscript.tests.test_plot_interface.FakeChange
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_plot_interface.TestPlotInterface.html">
         mcstasscript.tests.test_plot_interface.TestPlotInterface
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_simulation_interface.html">
       mcstasscript.tests.test_simulation_interface
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-80" name="toctree-checkbox-80" type="checkbox"/>
      <label for="toctree-checkbox-80">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_simulation_interface.setup_instr_root_path_McStas.html">
         mcstasscript.tests.test_simulation_interface.setup_instr_root_path_McStas
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_simulation_interface.setup_instr_root_path_McXtrace.html">
         mcstasscript.tests.test_simulation_interface.setup_instr_root_path_McXtrace
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_simulation_interface.setup_populated_instr_McStas.html">
         mcstasscript.tests.test_simulation_interface.setup_populated_instr_McStas
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_simulation_interface.setup_populated_instr_McXtrace.html">
         mcstasscript.tests.test_simulation_interface.setup_populated_instr_McXtrace
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_simulation_interface.FakeChange.html">
         mcstasscript.tests.test_simulation_interface.FakeChange
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_simulation_interface.TestSimulationInterface.html">
         mcstasscript.tests.test_simulation_interface.TestSimulationInterface
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_user_var.html">
       mcstasscript.tests.test_user_var
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-81" name="toctree-checkbox-81" type="checkbox"/>
      <label for="toctree-checkbox-81">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_user_var.setup_instr_no_path.html">
         mcstasscript.tests.test_user_var.setup_instr_no_path
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_user_var.Test_user_vars.html">
         mcstasscript.tests.test_user_var.Test_user_vars
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_widget_helpers.html">
       mcstasscript.tests.test_widget_helpers
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-82" name="toctree-checkbox-82" type="checkbox"/>
      <label for="toctree-checkbox-82">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_widget_helpers.TestWidgetHelpers.html">
         mcstasscript.tests.test_widget_helpers.TestWidgetHelpers
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.tests.utilities.html">
       mcstasscript.tests.utilities
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-83" name="toctree-checkbox-83" type="checkbox"/>
      <label for="toctree-checkbox-83">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.utilities.work_dir_test.html">
         mcstasscript.tests.utilities.work_dir_test
        </a>
       </li>
      </ul>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../_autosummary/mcstasscript.tools.html">
     mcstasscript.tools
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-84" name="toctree-checkbox-84" type="checkbox"/>
    <label for="toctree-checkbox-84">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.tools.cryostat_builder.html">
       mcstasscript.tools.cryostat_builder
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-85" name="toctree-checkbox-85" type="checkbox"/>
      <label for="toctree-checkbox-85">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tools.cryostat_builder.Cryostat.html">
         mcstasscript.tools.cryostat_builder.Cryostat
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tools.cryostat_builder.Layer.html">
         mcstasscript.tools.cryostat_builder.Layer
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.tools.ncrystal_union.html">
       mcstasscript.tools.ncrystal_union
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-86" name="toctree-checkbox-86" type="checkbox"/>
      <label for="toctree-checkbox-86">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tools.ncrystal_union.add_ncrystal_union_material.html">
         mcstasscript.tools.ncrystal_union.add_ncrystal_union_material
        </a>
       </li>
      </ul>
     </li>
    </ul>
   </li>
  </ul>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Reference (libpyvinyl)
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../_autosummary/libpyvinyl.html">
   libpyvinyl
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-87" name="toctree-checkbox-87" type="checkbox"/>
  <label for="toctree-checkbox-87">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../_autosummary/libpyvinyl.AbstractBaseClass.html">
     libpyvinyl.AbstractBaseClass
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-88" name="toctree-checkbox-88" type="checkbox"/>
    <label for="toctree-checkbox-88">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../_autosummary/libpyvinyl.AbstractBaseClass.AbstractBaseClass.html">
       libpyvinyl.AbstractBaseClass.AbstractBaseClass
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../_autosummary/libpyvinyl.BaseCalculator.html">
     libpyvinyl.BaseCalculator
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../_autosummary/libpyvinyl.BaseData.html">
     libpyvinyl.BaseData
    </a>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../_autosummary/libpyvinyl.BaseFormat.html">
     libpyvinyl.BaseFormat
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-89" name="toctree-checkbox-89" type="checkbox"/>
    <label for="toctree-checkbox-89">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../_autosummary/libpyvinyl.BaseFormat.BaseFormat.html">
       libpyvinyl.BaseFormat.BaseFormat
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../_autosummary/libpyvinyl.Instrument.html">
     libpyvinyl.Instrument
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-90" name="toctree-checkbox-90" type="checkbox"/>
    <label for="toctree-checkbox-90">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../_autosummary/libpyvinyl.Instrument.Instrument.html">
       libpyvinyl.Instrument.Instrument
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../_autosummary/libpyvinyl.Parameters.html">
     libpyvinyl.Parameters
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-91" name="toctree-checkbox-91" type="checkbox"/>
    <label for="toctree-checkbox-91">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/libpyvinyl.Parameters.Collections.html">
       libpyvinyl.Parameters.Collections
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-92" name="toctree-checkbox-92" type="checkbox"/>
      <label for="toctree-checkbox-92">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/libpyvinyl.Parameters.Collections.quantity_decode.html">
         libpyvinyl.Parameters.Collections.quantity_decode
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/libpyvinyl.Parameters.Collections.quantity_encode.html">
         libpyvinyl.Parameters.Collections.quantity_encode
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/libpyvinyl.Parameters.Collections.CalculatorParameters.html">
         libpyvinyl.Parameters.Collections.CalculatorParameters
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/libpyvinyl.Parameters.Collections.InstrumentParameters.html">
         libpyvinyl.Parameters.Collections.InstrumentParameters
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/libpyvinyl.Parameters.Collections.MasterParameter.html">
         libpyvinyl.Parameters.Collections.MasterParameter
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/libpyvinyl.Parameters.Collections.MasterParameters.html">
         libpyvinyl.Parameters.Collections.MasterParameters
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../_autosummary/libpyvinyl.Parameters.Parameter.html">
       libpyvinyl.Parameters.Parameter
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Theme by the <a href="https://ebp.jupyterbook.org">Executable Book Project</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../_sources/tutorial/McStasScript_tutorial_1_the_basics.ipynb.txt"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
                onclick="printPdf(this)" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/PaNOSC-ViNYL/McStasScript"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        <a class="issues-button"
            href="https://github.com/PaNOSC-ViNYL/McStasScript/issues/new?title=Issue%20on%20page%20%2Ftutorial/McStasScript_tutorial_1_the_basics.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        <a class="edit-button" href="https://github.com/PaNOSC-ViNYL/McStasScript/edit/master/docs/tutorial/McStasScript_tutorial_1_the_basics.ipynb"><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Edit this page"><i class="fas fa-pencil-alt"></i>suggest edit</button></a>
    </div>
</div>

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show noprint">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav" aria-label="Page">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#anatomy-of-a-mcstas-instrument">
   Anatomy of a McStas instrument
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#instrument-definition">
     Instrument definition
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#declare-section">
     Declare section
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#initialize-section">
     Initialize section
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#trace-section">
     Trace section
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#finally-section">
     Finally section
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#mcstasscript-python-package-and-this-tutorial">
   McStasScript python package and this tutorial
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#import-the-mcstasscript-package">
   Import the McStasScript package
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#mcstasscript-configuration">
   McStasScript configuration
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#create-an-instrument-object">
   Create an instrument object
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#requesting-help-on-source-components">
   Requesting help on source components
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#adding-a-component">
   Adding a component
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#working-with-component-objects">
   Working with component objects
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#modifying-a-component-object">
     Modifying a component object
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#getting-status-of-all-parameters">
     Getting status of all parameters
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#adding-an-instrument-parameter-to-control-wavelength">
     Adding an instrument parameter to control wavelength
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#using-keyword-arguments-when-adding-a-component">
     Using keyword arguments when adding a component
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#adding-calculations-to-an-instrument-file">
   Adding calculations to an instrument file
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#adding-the-monochromator">
     Adding the monochromator
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#using-an-arm-to-define-the-beam-direction">
     Using an arm to define the beam direction
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#adding-a-sample">
   Adding a sample
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#adding-a-cylindrical-monitor">
     Adding a cylindrical monitor
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#adding-a-psd-monitor">
     Adding a psd monitor
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#print-the-components-contained-in-an-instrument">
   Print the components contained in an instrument
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#show-instrument-diagram">
     Show instrument diagram
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#running-the-simulation">
   Running the simulation
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#plotting-the-data">
   Plotting the data
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#adjusting-plots">
     Adjusting plots
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#behind-the-scenes">
   Behind the scenes
  </a>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>McStasScript introduction</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#anatomy-of-a-mcstas-instrument">
   Anatomy of a McStas instrument
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#instrument-definition">
     Instrument definition
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#declare-section">
     Declare section
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#initialize-section">
     Initialize section
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#trace-section">
     Trace section
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#finally-section">
     Finally section
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#mcstasscript-python-package-and-this-tutorial">
   McStasScript python package and this tutorial
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#import-the-mcstasscript-package">
   Import the McStasScript package
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#mcstasscript-configuration">
   McStasScript configuration
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#create-an-instrument-object">
   Create an instrument object
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#requesting-help-on-source-components">
   Requesting help on source components
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#adding-a-component">
   Adding a component
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#working-with-component-objects">
   Working with component objects
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#modifying-a-component-object">
     Modifying a component object
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#getting-status-of-all-parameters">
     Getting status of all parameters
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#adding-an-instrument-parameter-to-control-wavelength">
     Adding an instrument parameter to control wavelength
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#using-keyword-arguments-when-adding-a-component">
     Using keyword arguments when adding a component
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#adding-calculations-to-an-instrument-file">
   Adding calculations to an instrument file
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#adding-the-monochromator">
     Adding the monochromator
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#using-an-arm-to-define-the-beam-direction">
     Using an arm to define the beam direction
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#adding-a-sample">
   Adding a sample
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#adding-a-cylindrical-monitor">
     Adding a cylindrical monitor
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#adding-a-psd-monitor">
     Adding a psd monitor
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#print-the-components-contained-in-an-instrument">
   Print the components contained in an instrument
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#show-instrument-diagram">
     Show instrument diagram
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#running-the-simulation">
   Running the simulation
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#plotting-the-data">
   Plotting the data
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#adjusting-plots">
     Adjusting plots
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#behind-the-scenes">
   Behind the scenes
  </a>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            
              <div>
                
  <div class="tex2jax_ignore mathjax_ignore section" id="mcstasscript-introduction">
<h1>McStasScript introduction<a class="headerlink" href="#mcstasscript-introduction" title="Permalink to this headline"></a></h1>
<p>This notebook shows how to use McStas and McStasScript to perform a basic simulation of a neutron diffractometer. The following software is required:</p>
<ul class="simple">
<li><p>McStas (www.mcstas.org)</p></li>
<li><p>McStasScript (can be installed with python -m pip install McStasScript)</p></li>
</ul>
<div class="section" id="anatomy-of-a-mcstas-instrument">
<h2>Anatomy of a McStas instrument<a class="headerlink" href="#anatomy-of-a-mcstas-instrument" title="Permalink to this headline"></a></h2>
<p>In McStas a simulation is described using an instrument file. Such an instrument has five sections where code can be added to define the simulation to be perfomed.</p>
<ul class="simple">
<li><p>Instrument definition</p></li>
<li><p>Declare section</p></li>
<li><p>Initialize section</p></li>
<li><p>Trace section</p></li>
<li><p>Finally section</p></li>
</ul>
<div class="section" id="instrument-definition">
<h3>Instrument definition<a class="headerlink" href="#instrument-definition" title="Permalink to this headline"></a></h3>
<p>In the instrument definition it is possible to define <em>instrument parameters</em> which can be specified at run time and used in the remaining sections for either calculations or as direct input to the components.</p>
</div>
<div class="section" id="declare-section">
<h3>Declare section<a class="headerlink" href="#declare-section" title="Permalink to this headline"></a></h3>
<p>Here internal variables can be declared with C syntax.</p>
</div>
<div class="section" id="initialize-section">
<h3>Initialize section<a class="headerlink" href="#initialize-section" title="Permalink to this headline"></a></h3>
<p>The initialize section is used for performing calculations, typically using both instrument parameters and declared variables to calculate for example chopper phases, angles and similar. The calculations are performed using C syntax. These calculations are performed before the raytracing simulation, and thus only performed once in a given simulation.</p>
</div>
<div class="section" id="trace-section">
<h3>Trace section<a class="headerlink" href="#trace-section" title="Permalink to this headline"></a></h3>
<p>In the trace section McStas <em>components</em> are added, these are the building blocks of the simulation and correspond to different c codes that describe parts of neutron instruments or samples. Each component have a set of available parameters, some of which may be required. These will set the behavior of a component, a guide component may for example have parameters describing the physical shape and mirror reflectivity. Components also need to be placed in 3D space, and can be placed either in the absolute coordinate system or relative to a previously defined component.</p>
</div>
<div class="section" id="finally-section">
<h3>Finally section<a class="headerlink" href="#finally-section" title="Permalink to this headline"></a></h3>
<p>The finally section is very similar to the initialize section, here calculations can be performed after the raytracing has been completed, again using C syntax. This may be some brief data analysis or print of some status.</p>
</div>
</div>
<div class="section" id="mcstasscript-python-package-and-this-tutorial">
<h2>McStasScript python package and this tutorial<a class="headerlink" href="#mcstasscript-python-package-and-this-tutorial" title="Permalink to this headline"></a></h2>
<p>The McStasScript python package provides an API to build and run such instruments files, but it is still necessary to have a basic understanding of the structure of the underlying instrument file and its capabilities and limitations. These tutorials will teach basic use of McStas through the McStasScript API without assuming expertise in the underlying McStas software.</p>
</div>
<div class="section" id="import-the-mcstasscript-package">
<h2>Import the McStasScript package<a class="headerlink" href="#import-the-mcstasscript-package" title="Permalink to this headline"></a></h2>
<p>McStasScript needs to be imported into the users python environment, you can abbreviate the name for easier access.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">mcstasscript</span> <span class="k">as</span> <span class="nn">ms</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="mcstasscript-configuration">
<h2>McStasScript configuration<a class="headerlink" href="#mcstasscript-configuration" title="Permalink to this headline"></a></h2>
<p>Before the first use of McStasScript it is necessary to configure the package so it can locate the McStas installation and call the binaries. One way to find the path is to open a terminal with the McStas environment and run:</p>
<p>which mcrun</p>
<p>This should return the path for the binary, and the mcstas path is usually just one step back.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">configurator</span> <span class="o">=</span> <span class="n">ms</span><span class="o">.</span><span class="n">Configurator</span><span class="p">()</span>
<span class="n">configurator</span><span class="o">.</span><span class="n">set_mcrun_path</span><span class="p">(</span><span class="s2">&quot;/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1/bin/&quot;</span><span class="p">)</span>
<span class="n">configurator</span><span class="o">.</span><span class="n">set_mcstas_path</span><span class="p">(</span><span class="s2">&quot;/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="create-an-instrument-object">
<h2>Create an instrument object<a class="headerlink" href="#create-an-instrument-object" title="Permalink to this headline"></a></h2>
<p>A McStas instrument is described with a McStas instrument object which is created using the <em>McStas_instr</em> method on the instr class. Creating an instrument object also reads available components, both in the work folder and from the McStas installation. By default, the work folder is the current work directory, but using the input_path keyword argument this can be change to avoid cluttering the folder containing notebooks.</p>
<p>Here our instrument object for this tutorial is created, we give it the name python_tutorial.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">instrument</span> <span class="o">=</span> <span class="n">ms</span><span class="o">.</span><span class="n">McStas_instr</span><span class="p">(</span><span class="s2">&quot;python_tutorial&quot;</span><span class="p">,</span> <span class="n">input_path</span><span class="o">=</span><span class="s2">&quot;run_folder&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="requesting-help-on-source-components">
<h2>Requesting help on source components<a class="headerlink" href="#requesting-help-on-source-components" title="Permalink to this headline"></a></h2>
<p>The main building blocks used for creating a McStas simulation are the components. One can ask an instrument object which components are available, and get help for each component. Here we check what sources are available, and ask for help on the Source_div component.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">instrument</span><span class="o">.</span><span class="n">available_components</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Here are the available component categories:
 contrib
 misc
 monitors
 obsolete
 optics
 samples
 sources
 union
Call available_components(category_name) to display
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">instrument</span><span class="o">.</span><span class="n">available_components</span><span class="p">(</span><span class="s2">&quot;sources&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Here are all components in the sources category.
 Adapt_check     Moderator           Source_Optimizer   Source_gen
 ESS_butterfly   Monitor_Optimizer   Source_adapt       Source_simple
 ESS_moderator   Source_Maxwell_3    Source_div         
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">instrument</span><span class="o">.</span><span class="n">component_help</span><span class="p">(</span><span class="s2">&quot;Source_div&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> ___ Help Source_div ________________________________________________________________
|<span class=" -Color -Color-Bold">optional parameter</span>|<span class=" -Color -Color-Bold">required parameter</span>|<span class=" -Color -Color-Bold">default value</span>|<span class=" -Color -Color-Bold">user specified value</span>|
<span class=" -Color -Color-Bold">xwidth</span> [m] // Width of source
<span class=" -Color -Color-Bold">yheight</span> [m] // Height of source
<span class=" -Color -Color-Bold">focus_aw</span> [deg] // FWHM (Gaussian) or maximal (uniform) horz. width divergence
<span class=" -Color -Color-Bold">focus_ah</span> [deg] // FWHM (Gaussian) or maximal (uniform) vert. height divergence
<span class=" -Color -Color-Bold">E0</span> = <span class=" -Color -Color-Bold">0.0</span> [meV] // Mean energy of neutrons.
<span class=" -Color -Color-Bold">dE</span> = <span class=" -Color -Color-Bold">0.0</span> [meV] // Energy half spread of neutrons.
<span class=" -Color -Color-Bold">lambda0</span> = <span class=" -Color -Color-Bold">0.0</span> [Ang] // Mean wavelength of neutrons (only relevant for E0=0)
<span class=" -Color -Color-Bold">dlambda</span> = <span class=" -Color -Color-Bold">0.0</span> [Ang] // Wavelength half spread of neutrons.
<span class=" -Color -Color-Bold">gauss</span> = <span class=" -Color -Color-Bold">0.0</span> [0|1] // Criterion
<span class=" -Color -Color-Bold">flux</span> = <span class=" -Color -Color-Bold">1.0</span> [1/(s cm 2 st energy_unit)] // flux per energy unit, Angs or meV
-------------------------------------------------------------------------------------
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="adding-a-component">
<h2>Adding a component<a class="headerlink" href="#adding-a-component" title="Permalink to this headline"></a></h2>
<p>Now we are ready to add a component to our simulation which is done with the <em>add_component</em> method on our instrument. This method requires two inputs:</p>
<ul class="simple">
<li><p>Nickname for the component used to refer to this component instance</p></li>
<li><p>Name of the component type to be used</p></li>
</ul>
<p>Here we want to make a component nicknamed source of type Source_div.</p>
<p>We also use the <em>print_components</em> method to confirm our component was added successfully. Running this code block multiple times result in an error, as McStas does not allow two components with the same nickname.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">src</span> <span class="o">=</span> <span class="n">instrument</span><span class="o">.</span><span class="n">add_component</span><span class="p">(</span><span class="s2">&quot;source&quot;</span><span class="p">,</span> <span class="s2">&quot;Source_div&quot;</span><span class="p">)</span>
<span class="n">instrument</span><span class="o">.</span><span class="n">show_components</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>source Source_div AT (0, 0, 0) ABSOLUTE
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="working-with-component-objects">
<h2>Working with component objects<a class="headerlink" href="#working-with-component-objects" title="Permalink to this headline"></a></h2>
<p>The src object created by <em>add_component</em> can be used to modify the component. It also holds the information on the component, which can be shown by printing the object. This will tell us for example if any required parameters are yet to be set and the position of the component.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">src</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>COMPONENT source = Source_div(
  <span class=" -Color -Color-Bold">xwidth</span> : Required parameter not yet specified
  <span class=" -Color -Color-Bold">yheight</span> : Required parameter not yet specified
  <span class=" -Color -Color-Bold">focus_aw</span> : Required parameter not yet specified
  <span class=" -Color -Color-Bold">focus_ah</span> : Required parameter not yet specified
)
AT (0, 0, 0) ABSOLUTE
</pre></div>
</div>
</div>
</div>
<div class="section" id="modifying-a-component-object">
<h3>Modifying a component object<a class="headerlink" href="#modifying-a-component-object" title="Permalink to this headline"></a></h3>
<p>The parameters of a component object can be modified as attributes. From the above print we know there are four required parameters, so we start by setting these and then print the resulting component status.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">src</span><span class="o">.</span><span class="n">xwidth</span> <span class="o">=</span> <span class="mf">0.1</span>
<span class="n">src</span><span class="o">.</span><span class="n">yheight</span> <span class="o">=</span> <span class="mf">0.05</span>
<span class="n">src</span><span class="o">.</span><span class="n">focus_aw</span> <span class="o">=</span> <span class="mf">1.2</span>
<span class="n">src</span><span class="o">.</span><span class="n">focus_ah</span> <span class="o">=</span> <span class="mf">2.3</span>

<span class="nb">print</span><span class="p">(</span><span class="n">src</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>COMPONENT source = Source_div(
  <span class=" -Color -Color-Bold">xwidth</span> = <span class=" -Color -Color-Bold">0.1</span>, // [m]
  <span class=" -Color -Color-Bold">yheight</span> = <span class=" -Color -Color-Bold">0.05</span>, // [m]
  <span class=" -Color -Color-Bold">focus_aw</span> = <span class=" -Color -Color-Bold">1.2</span>, // [deg]
  <span class=" -Color -Color-Bold">focus_ah</span> = <span class=" -Color -Color-Bold">2.3</span> // [deg]
)
AT (0, 0, 0) ABSOLUTE
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="getting-status-of-all-parameters">
<h3>Getting status of all parameters<a class="headerlink" href="#getting-status-of-all-parameters" title="Permalink to this headline"></a></h3>
<p>Printing a component only show the required parameters and user specified parameters, but it is also possible to see all parameters with the <em>show_parameters</em> method. This reminds us to set an energy or wavelength range for the source, as it is necessary to set one of these even though they are technically not required parameters.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">src</span><span class="o">.</span><span class="n">show_parameters</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> ___ Help Source_div ________________________________________________________________
|<span class=" -Color -Color-Bold">optional parameter</span>|<span class=" -Color -Color-Bold">required parameter</span>|<span class=" -Color -Color-Bold">default value</span>|<span class=" -Color -Color-Bold">user specified value</span>|
<span class=" -Color -Color-Bold">xwidth</span> = <span class=" -Color -Color-Bold">0.1</span> [m] // Width of source
<span class=" -Color -Color-Bold">yheight</span> = <span class=" -Color -Color-Bold">0.05</span> [m] // Height of source
<span class=" -Color -Color-Bold">focus_aw</span> = <span class=" -Color -Color-Bold">1.2</span> [deg] // FWHM (Gaussian) or maximal (uniform) horz. width 
                        divergence 
<span class=" -Color -Color-Bold">focus_ah</span> = <span class=" -Color -Color-Bold">2.3</span> [deg] // FWHM (Gaussian) or maximal (uniform) vert. height 
                        divergence 
<span class=" -Color -Color-Bold">E0</span> = <span class=" -Color -Color-Bold">0.0</span> [meV] // Mean energy of neutrons.
<span class=" -Color -Color-Bold">dE</span> = <span class=" -Color -Color-Bold">0.0</span> [meV] // Energy half spread of neutrons.
<span class=" -Color -Color-Bold">lambda0</span> = <span class=" -Color -Color-Bold">0.0</span> [Ang] // Mean wavelength of neutrons (only relevant for E0=0)
<span class=" -Color -Color-Bold">dlambda</span> = <span class=" -Color -Color-Bold">0.0</span> [Ang] // Wavelength half spread of neutrons.
<span class=" -Color -Color-Bold">gauss</span> = <span class=" -Color -Color-Bold">0.0</span> [0|1] // Criterion
<span class=" -Color -Color-Bold">flux</span> = <span class=" -Color -Color-Bold">1.0</span> [1/(s cm 2 st energy_unit)] // flux per energy unit, Angs or meV
-------------------------------------------------------------------------------------
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="adding-an-instrument-parameter-to-control-wavelength">
<h3>Adding an instrument parameter to control wavelength<a class="headerlink" href="#adding-an-instrument-parameter-to-control-wavelength" title="Permalink to this headline"></a></h3>
<p>Controlling the wavelength range emitted by the source is best done with an instrument parameter, then this same parameter can be used to for example rotate a monochromator or set the range for an wavelength sensitive monitor. Adding an instrument parameter is done using the instrument method <em>add_parameter</em>, and it is possible to set a default value and comment. The method returns a parameter object that can be used to assign the parameter to a component. The current instrument parameters can be viewed with the <em>show_parameters</em> method on the isntrument object.</p>
<p>The default type for instrument parameters is a double (floating point number), but other types can be selected if necessary by providing a type string before, here we also provide an example of an integer.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">wavelength</span> <span class="o">=</span> <span class="n">instrument</span><span class="o">.</span><span class="n">add_parameter</span><span class="p">(</span><span class="s2">&quot;wavelength&quot;</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="mf">5.0</span><span class="p">,</span>
                                      <span class="n">comment</span><span class="o">=</span><span class="s2">&quot;Wavelength in [Ang]&quot;</span><span class="p">)</span>

<span class="n">order</span> <span class="o">=</span> <span class="n">instrument</span><span class="o">.</span><span class="n">add_parameter</span><span class="p">(</span><span class="s2">&quot;int&quot;</span><span class="p">,</span> <span class="s2">&quot;order&quot;</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                                 <span class="n">comment</span><span class="o">=</span><span class="s2">&quot;Monochromator order, integer&quot;</span><span class="p">)</span>
<span class="n">instrument</span><span class="o">.</span><span class="n">show_parameters</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>    wavelength  = 5.0  // Wavelength in [Ang]
int order       = 1    // Monochromator order, integer
</pre></div>
</div>
</div>
</div>
<p>Now our source component can have its parameters assigned to a instrument parameter, or even a mathematical expression using the variable. This allows us to set a reasonable wavelength range for our source component.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">src</span><span class="o">.</span><span class="n">lambda0</span> <span class="o">=</span> <span class="n">wavelength</span>
<span class="n">src</span><span class="o">.</span><span class="n">dlambda</span> <span class="o">=</span> <span class="s2">&quot;0.01*wavelength&quot;</span> <span class="c1"># When performing math use a string and the parameter name</span>
<span class="nb">print</span><span class="p">(</span><span class="n">src</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>COMPONENT source = Source_div(
  <span class=" -Color -Color-Bold">xwidth</span> = <span class=" -Color -Color-Bold">0.1</span>, // [m]
  <span class=" -Color -Color-Bold">yheight</span> = <span class=" -Color -Color-Bold">0.05</span>, // [m]
  <span class=" -Color -Color-Bold">focus_aw</span> = <span class=" -Color -Color-Bold">1.2</span>, // [deg]
  <span class=" -Color -Color-Bold">focus_ah</span> = <span class=" -Color -Color-Bold">2.3</span>, // [deg]
  <span class=" -Color -Color-Bold">lambda0</span> = <span class=" -Color -Color-Bold">wavelength</span>, // [Ang]
  <span class=" -Color -Color-Bold">dlambda</span> = <span class=" -Color -Color-Bold">0.01*wavelength</span> // [Ang]
)
AT (0, 0, 0) ABSOLUTE
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="using-keyword-arguments-when-adding-a-component">
<h3>Using keyword arguments when adding a component<a class="headerlink" href="#using-keyword-arguments-when-adding-a-component" title="Permalink to this headline"></a></h3>
<p>When adding a component, several keyword arguments are available, for example for setting the position of the component.</p>
<ul class="simple">
<li><p>AT set position with list of x,y,z coordinates</p></li>
<li><p>AT_RELATIVE set reference point for position (name of component instance or object)</p></li>
<li><p>ROTATED set rotation around x,y,z axis</p></li>
<li><p>ROTATED_RELATIVE set reference rotation (name of component instance or object)</p></li>
<li><p>RELATIVE set both reference position and rotation (name of component instance or object)</p></li>
</ul>
<p>We use this to set up a guide 2 meters after the source. The McStas coordinate system convention is such that the nominal beam direction is in the Z direction and with Y vertical against gravity. We use the component instance name as a string to refer to our source. The RELATIVE could also have been specified as src, which is our source object.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">guide</span> <span class="o">=</span> <span class="n">instrument</span><span class="o">.</span><span class="n">add_component</span><span class="p">(</span><span class="s2">&quot;guide&quot;</span><span class="p">,</span> <span class="s2">&quot;Guide_gravity&quot;</span><span class="p">,</span> <span class="n">AT</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="n">RELATIVE</span><span class="o">=</span><span class="s2">&quot;source&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Next we set the parameters for our guide component.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">guide</span><span class="o">.</span><span class="n">w1</span> <span class="o">=</span> <span class="mf">0.05</span>
<span class="n">guide</span><span class="o">.</span><span class="n">w2</span> <span class="o">=</span> <span class="mf">0.05</span>
<span class="n">guide</span><span class="o">.</span><span class="n">h1</span> <span class="o">=</span> <span class="mf">0.05</span>
<span class="n">guide</span><span class="o">.</span><span class="n">h2</span> <span class="o">=</span> <span class="mf">0.05</span>
<span class="n">guide</span><span class="o">.</span><span class="n">l</span> <span class="o">=</span> <span class="mf">8.0</span>
<span class="n">guide</span><span class="o">.</span><span class="n">m</span> <span class="o">=</span> <span class="mf">3.5</span>
<span class="n">guide</span><span class="o">.</span><span class="n">G</span> <span class="o">=</span> <span class="o">-</span><span class="mf">9.82</span>

<span class="nb">print</span><span class="p">(</span><span class="n">guide</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>COMPONENT guide = Guide_gravity(
  <span class=" -Color -Color-Bold">w1</span> = <span class=" -Color -Color-Bold">0.05</span>, // [m]
  <span class=" -Color -Color-Bold">h1</span> = <span class=" -Color -Color-Bold">0.05</span>, // [m]
  <span class=" -Color -Color-Bold">w2</span> = <span class=" -Color -Color-Bold">0.05</span>, // [m]
  <span class=" -Color -Color-Bold">h2</span> = <span class=" -Color -Color-Bold">0.05</span>, // [m]
  <span class=" -Color -Color-Bold">l</span> = <span class=" -Color -Color-Bold">8.0</span>, // [m]
  <span class=" -Color -Color-Bold">m</span> = <span class=" -Color -Color-Bold">3.5</span>, // [1]
  <span class=" -Color -Color-Bold">G</span> = <span class=" -Color -Color-Bold">-9.82</span> // [m/s2]
)
AT (0, 0, 2) RELATIVE source
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="adding-calculations-to-an-instrument-file">
<h2>Adding calculations to an instrument file<a class="headerlink" href="#adding-calculations-to-an-instrument-file" title="Permalink to this headline"></a></h2>
<p>One of the advantages of McStas is the ease of adding calculations to the instrument. Here we calculate the rotation of a monochromator so that its scatters the wavelengths from our source. We need to declare variables using <em>add_declare_var</em> and append C code to initialize using <em>append_initialize</em>.</p>
<p>For <em>add_declare_var</em> the first argument is the C type, usually double or int, the next is the variable name. A default value can be specified with the value keyword. Like when adding a parameter, a <em>add_declare</em> also returns an object that can be used to refer to this variable later.</p>
<p><em>append_initialize</em> just adds the given C code to the initialize section of the McStas instrument file. It is necessary to follow C syntax, for example remember semicolon at the end of statements.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">mono_Q</span> <span class="o">=</span> <span class="n">instrument</span><span class="o">.</span><span class="n">add_declare_var</span><span class="p">(</span><span class="s2">&quot;double&quot;</span><span class="p">,</span> <span class="s2">&quot;mono_Q&quot;</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="mf">1.714</span><span class="p">)</span> <span class="c1"># Q for Ge 311</span>
<span class="n">instrument</span><span class="o">.</span><span class="n">add_declare_var</span><span class="p">(</span><span class="s2">&quot;double&quot;</span><span class="p">,</span> <span class="s2">&quot;wavevector&quot;</span><span class="p">)</span>
<span class="n">instrument</span><span class="o">.</span><span class="n">append_initialize</span><span class="p">(</span><span class="s2">&quot;wavevector = 2.0*PI/wavelength;&quot;</span><span class="p">)</span>

<span class="n">mono_rotation</span> <span class="o">=</span> <span class="n">instrument</span><span class="o">.</span><span class="n">add_declare_var</span><span class="p">(</span><span class="s2">&quot;double&quot;</span><span class="p">,</span> <span class="s2">&quot;mono_rotation&quot;</span><span class="p">)</span>
<span class="n">instrument</span><span class="o">.</span><span class="n">append_initialize</span><span class="p">(</span><span class="s2">&quot;mono_rotation = asin(mono_Q/(2.0*wavevector))*RAD2DEG;&quot;</span><span class="p">)</span>
<span class="n">instrument</span><span class="o">.</span><span class="n">append_initialize</span><span class="p">(</span><span class="s1">&#39;printf(&quot;monochromator rotation = </span><span class="si">%g</span><span class="s1"> deg</span><span class="se">\\</span><span class="s1">n&quot;, mono_rotation);&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="adding-the-monochromator">
<h3>Adding the monochromator<a class="headerlink" href="#adding-the-monochromator" title="Permalink to this headline"></a></h3>
<p>Here the monochromator is added, and we use the declared variables <em>mono_Q</em> and <em>mono_rotation</em> prepared above. Setting position and rotation can also be done using the <em>set_AT</em> and <em>set_ROTATED</em> methods on the component objects. Here it is also demonstrated how one can use either component objects or component names for the relative keyword.</p>
<p>Rotation is specified around each axis, so rotation of our monochromator should be around the Y axis in order to keep the beam in the usual X-Z plane.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">mono</span> <span class="o">=</span> <span class="n">instrument</span><span class="o">.</span><span class="n">add_component</span><span class="p">(</span><span class="s2">&quot;mono&quot;</span><span class="p">,</span> <span class="s2">&quot;Monochromator_flat&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">mono</span><span class="o">.</span><span class="n">zwidth</span> <span class="o">=</span> <span class="mf">0.05</span>
<span class="n">mono</span><span class="o">.</span><span class="n">yheight</span> <span class="o">=</span> <span class="mf">0.08</span>
<span class="n">mono</span><span class="o">.</span><span class="n">Q</span> <span class="o">=</span> <span class="n">mono_Q</span>
<span class="n">mono</span><span class="o">.</span><span class="n">set_AT</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mf">8.5</span><span class="p">],</span> <span class="n">RELATIVE</span><span class="o">=</span><span class="n">guide</span><span class="p">)</span>
<span class="n">mono</span><span class="o">.</span><span class="n">set_ROTATED</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="n">mono_rotation</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">RELATIVE</span><span class="o">=</span><span class="s2">&quot;guide&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">mono</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>COMPONENT mono = Monochromator_flat(
  <span class=" -Color -Color-Bold">zwidth</span> = <span class=" -Color -Color-Bold">0.05</span>, // [m]
  <span class=" -Color -Color-Bold">yheight</span> = <span class=" -Color -Color-Bold">0.08</span>, // [m]
  <span class=" -Color -Color-Bold">Q</span> = <span class=" -Color -Color-Bold">mono_Q</span> // [1/angstrom]
)
AT (0, 0, 8.5) RELATIVE guide
ROTATED (0, &#39;mono_rotation&#39;, 0) RELATIVE guide
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="using-an-arm-to-define-the-beam-direction">
<h3>Using an arm to define the beam direction<a class="headerlink" href="#using-an-arm-to-define-the-beam-direction" title="Permalink to this headline"></a></h3>
<p>As the beam changes direction at the monochromator, we wish to define the new direction to simplify adding latter components. This can be done with an Arm component, which performs no simulation but can be used as new coordinate reference. The outgoing direction correspond to one more rotation of <em>mono_rotation</em>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">beam_direction</span> <span class="o">=</span> <span class="n">instrument</span><span class="o">.</span><span class="n">add_component</span><span class="p">(</span><span class="s2">&quot;beam_dir&quot;</span><span class="p">,</span> <span class="s2">&quot;Arm&quot;</span><span class="p">,</span> <span class="n">AT_RELATIVE</span><span class="o">=</span><span class="s2">&quot;mono&quot;</span><span class="p">)</span>
<span class="n">beam_direction</span><span class="o">.</span><span class="n">set_ROTATED</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="n">mono_rotation</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">RELATIVE</span><span class="o">=</span><span class="s2">&quot;mono&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="adding-a-sample">
<h2>Adding a sample<a class="headerlink" href="#adding-a-sample" title="Permalink to this headline"></a></h2>
<p>We now add a powder sample using the PowderN component placed relative to our newly defiend beam direction. The chosen powder is Na2Ca3Al2F14 which is a standard sample due to its large number of available reflections.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sample</span> <span class="o">=</span> <span class="n">instrument</span><span class="o">.</span><span class="n">add_component</span><span class="p">(</span><span class="s2">&quot;sample&quot;</span><span class="p">,</span> <span class="s2">&quot;PowderN&quot;</span><span class="p">,</span>
                                  <span class="n">AT</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mf">1.1</span><span class="p">],</span> <span class="n">RELATIVE</span><span class="o">=</span><span class="n">beam_direction</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sample</span><span class="o">.</span><span class="n">radius</span> <span class="o">=</span> <span class="mf">0.015</span>
<span class="n">sample</span><span class="o">.</span><span class="n">yheight</span> <span class="o">=</span> <span class="mf">0.05</span>
<span class="n">sample</span><span class="o">.</span><span class="n">reflections</span> <span class="o">=</span> <span class="s1">&#39;&quot;Na2Ca3Al2F14.laz&quot;&#39;</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sample</span><span class="o">.</span><span class="n">print_long</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>COMPONENT sample = PowderN(
  <span class=" -Color -Color-Bold">reflections</span> = <span class=" -Color -Color-Bold">&quot;Na2Ca3Al2F14.laz&quot;</span>, // []
  <span class=" -Color -Color-Bold">radius</span> = <span class=" -Color -Color-Bold">0.015</span>, // [m]
  <span class=" -Color -Color-Bold">yheight</span> = <span class=" -Color -Color-Bold">0.05</span> // [m]
)
AT (0, 0, 1.1) RELATIVE beam_dir
</pre></div>
</div>
</div>
</div>
<div class="section" id="adding-a-cylindrical-monitor">
<h3>Adding a cylindrical monitor<a class="headerlink" href="#adding-a-cylindrical-monitor" title="Permalink to this headline"></a></h3>
<p>The flexible Monitor_nD component can be used to add a banana monitor (part of a cylinder). The component shape is specified using an option string. The restore_neutron parameter is set to 1 to allow other monitors to record each neutron.</p>
<p>We have to specify a filename and option string here, and if we just use a string like banana.dat it would be interpreted as an instrument parameter called <em>banana.dat</em> and fail, so it is necessary to add single quotes around, banana.dat.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">banana</span> <span class="o">=</span> <span class="n">instrument</span><span class="o">.</span><span class="n">add_component</span><span class="p">(</span><span class="s2">&quot;banana&quot;</span><span class="p">,</span> <span class="s2">&quot;Monitor_nD&quot;</span><span class="p">,</span> <span class="n">RELATIVE</span><span class="o">=</span><span class="n">sample</span><span class="p">)</span>
<span class="n">banana</span><span class="o">.</span><span class="n">xwidth</span> <span class="o">=</span> <span class="mf">2.0</span>
<span class="n">banana</span><span class="o">.</span><span class="n">yheight</span> <span class="o">=</span> <span class="mf">0.3</span>
<span class="n">banana</span><span class="o">.</span><span class="n">restore_neutron</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">banana</span><span class="o">.</span><span class="n">filename</span> <span class="o">=</span> <span class="s1">&#39;&quot;banana.dat&quot;&#39;</span>
<span class="n">banana</span><span class="o">.</span><span class="n">options</span> <span class="o">=</span> <span class="s1">&#39;&quot;theta limits=[5 175] bins=150, banana&quot;&#39;</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="adding-a-psd-monitor">
<h3>Adding a psd monitor<a class="headerlink" href="#adding-a-psd-monitor" title="Permalink to this headline"></a></h3>
<p>We also add a simple PSD (position sensitive detector) monitor to see the transmitted beam.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">mon</span> <span class="o">=</span> <span class="n">instrument</span><span class="o">.</span><span class="n">add_component</span><span class="p">(</span><span class="s2">&quot;monitor&quot;</span><span class="p">,</span> <span class="s2">&quot;PSD_monitor&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">mon</span><span class="o">.</span><span class="n">nx</span> <span class="o">=</span> <span class="mi">100</span>
<span class="n">mon</span><span class="o">.</span><span class="n">ny</span> <span class="o">=</span> <span class="mi">100</span>
<span class="n">mon</span><span class="o">.</span><span class="n">filename</span> <span class="o">=</span> <span class="s1">&#39;&quot;psd.dat&quot;&#39;</span>
<span class="n">mon</span><span class="o">.</span><span class="n">xwidth</span> <span class="o">=</span> <span class="mf">0.05</span>
<span class="n">mon</span><span class="o">.</span><span class="n">yheight</span> <span class="o">=</span> <span class="mf">0.08</span>
<span class="n">mon</span><span class="o">.</span><span class="n">restore_neutron</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">mon</span><span class="o">.</span><span class="n">set_AT</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mf">0.1</span><span class="p">],</span> <span class="n">RELATIVE</span><span class="o">=</span><span class="n">sample</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="print-the-components-contained-in-an-instrument">
<h2>Print the components contained in an instrument<a class="headerlink" href="#print-the-components-contained-in-an-instrument" title="Permalink to this headline"></a></h2>
<p>Before performing the simulation, it is a good idea to check that the instrument contains the expected components and that they are appropriately placed in space. The <em>print_components</em> method is useful for this purpose.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">instrument</span><span class="o">.</span><span class="n">show_components</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>source   Source_div         AT      (0, 0, 0)             ABSOLUTE         
guide    Guide_gravity      AT      (0, 0, 2)             RELATIVE source  
mono     Monochromator_flat AT      (0, 0, 8.5)           RELATIVE guide    
                            ROTATED (0, mono_rotation, 0) RELATIVE guide
beam_dir Arm                AT      (0, 0, 0)             RELATIVE mono     
                            ROTATED (0, mono_rotation, 0) RELATIVE mono
sample   PowderN            AT      (0, 0, 1.1)           RELATIVE beam_dir
banana   Monitor_nD         AT      (0, 0, 0)             RELATIVE sample  
monitor  PSD_monitor        AT      (0, 0, 0.1)           RELATIVE sample  
</pre></div>
</div>
</div>
</div>
<div class="section" id="show-instrument-diagram">
<h3>Show instrument diagram<a class="headerlink" href="#show-instrument-diagram" title="Permalink to this headline"></a></h3>
<p>While show components provides a text based overview of the instrument file, the instrument diagram can provide a visual overview. The diagram shows the sequence of components and color them based on their category. Arrows show the AT and ROTATED references within the instrument.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">instrument</span><span class="o">.</span><span class="n">show_diagram</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/McStasScript_tutorial_1_the_basics_48_0.png" src="../_images/McStasScript_tutorial_1_the_basics_48_0.png" />
<img alt="../_images/McStasScript_tutorial_1_the_basics_48_1.png" src="../_images/McStasScript_tutorial_1_the_basics_48_1.png" />
</div>
</div>
</div>
</div>
<div class="section" id="running-the-simulation">
<h2>Running the simulation<a class="headerlink" href="#running-the-simulation" title="Permalink to this headline"></a></h2>
<p>Running the simulation is done in three steps</p>
<ul class="simple">
<li><p>Setting the parameters with <em>set_parameters</em></p></li>
<li><p>Setting the settings with <em>settings</em></p></li>
<li><p>Running the McStas simulation with <em>backengine</em></p></li>
</ul>
<p>The <em>set_parameters</em> method takes a value for each of the parameters defined in the instrument, here wavelength.</p>
<p>Settings adjust settings for the simulations, a few examples can be seen here</p>
<ul class="simple">
<li><p>ncount sets the number of rays</p></li>
<li><p>mpi sets the number of CPU cores used for execution (requires mpi installed)</p></li>
<li><p>output_path sets the name of the output folder</p></li>
<li><p>increment_folder_name if set to True, automatically changes the foldername if it already exists (default).</p></li>
</ul>
<p>The <em>backengine</em> method takes no parameters and just performs the simulation and returns the generated data.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">instrument</span><span class="o">.</span><span class="n">set_parameters</span><span class="p">(</span><span class="n">wavelength</span><span class="o">=</span><span class="mf">2.8</span><span class="p">)</span>
<span class="n">instrument</span><span class="o">.</span><span class="n">show_parameters</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>    wavelength  = 2.8  // Wavelength in [Ang]
int order       = 1    // Monochromator order, integer
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">instrument</span><span class="o">.</span><span class="n">settings</span><span class="p">(</span><span class="n">ncount</span><span class="o">=</span><span class="mf">5E6</span><span class="p">,</span> <span class="n">output_path</span><span class="o">=</span><span class="s2">&quot;data_folder/mcstas_basics&quot;</span><span class="p">)</span>
<span class="n">instrument</span><span class="o">.</span><span class="n">show_settings</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Instrument settings:
  ncount:           5.00e+06
  output_path:      data_folder/mcstas_basics
  run_path:         run_folder
  package_path:     /Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1
  executable_path:  /Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1/bin/
  executable:       mcrun
  force_compile:    True
</pre></div>
</div>
</div>
</div>
<div class="cell tag_scroll-output docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data</span> <span class="o">=</span> <span class="n">instrument</span><span class="o">.</span><span class="n">backengine</span><span class="p">()</span> <span class="c1"># Perform simulation</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>---- Found 1 places in McStas output with keyword &#39;error&#39;. 

         (negative time, miss next components, rounding errors, Nan, Inf).
monochromator rotation = 22.4519 deg
Opening input file &#39;/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//data/Na2Ca3Al2F14.laz&#39; (Table_Read_Offset)
Table from file &#39;Na2Ca3Al2F14.laz&#39; (block 1) is 841 x 18 (x=1:20), constant step. interpolation: linear
  &#39;# TITLE *-Na2Ca3Al2F14-[I213] Courbion, G.;Ferey, G.[1988] Standard NAC cal ...&#39;
PowderN: sample: Reading 841 rows from Na2Ca3Al2F14.laz
PowderN: sample: Read 841 reflections from file &#39;Na2Ca3Al2F14.laz&#39;
PowderN: sample: Vc=1079.1 [Angs] sigma_abs=11.7856 [barn] sigma_inc=13.6704 [barn] reflections=Na2Ca3Al2F14.laz
Detector: banana_I=1.34839e-06 banana_ERR=2.22466e-08 banana_N=10640 &quot;banana.dat&quot;
Detector: monitor_I=4.06895e-05 monitor_ERR=2.69525e-07 monitor_N=49653 &quot;psd.dat&quot;
----------------------------------------------------------------------

INFO: Using directory: &quot;/Users/madsbertelsen/PaNOSC/McStasScript/github/McStasScript/docs/source/tutorial/data_folder/mcstas_basics_0&quot;
INFO: Regenerating c-file: python_tutorial.c
CFLAGS=
      INFO: Recompiling: ./python_tutorial.out
mccode-r.c:2837:3: warning: expression result unused [-Wunused-value]
  *t0;
  ^~~
1 warning generated.
INFO: ===
Warning: 64417 events were removed in Component[7] monitor=PSD_monitor()
         (negative time, miss next components, rounding errors, Nan, Inf).
monochromator rotation = 22.4519 deg
Opening input file &#39;/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//data/Na2Ca3Al2F14.laz&#39; (Table_Read_Offset)
Table from file &#39;Na2Ca3Al2F14.laz&#39; (block 1) is 841 x 18 (x=1:20), constant step. interpolation: linear
  &#39;# TITLE *-Na2Ca3Al2F14-[I213] Courbion, G.;Ferey, G.[1988] Standard NAC cal ...&#39;
PowderN: sample: Reading 841 rows from Na2Ca3Al2F14.laz
PowderN: sample: Read 841 reflections from file &#39;Na2Ca3Al2F14.laz&#39;
PowderN: sample: Vc=1079.1 [Angs] sigma_abs=11.7856 [barn] sigma_inc=13.6704 [barn] reflections=Na2Ca3Al2F14.laz
Detector: banana_I=1.34839e-06 banana_ERR=2.22466e-08 banana_N=10640 &quot;banana.dat&quot;
Detector: monitor_I=4.06895e-05 monitor_ERR=2.69525e-07 monitor_N=49653 &quot;psd.dat&quot;
PowderN: sample: Info: you may highly improve the computation efficiency by using
    SPLIT 47 COMPONENT sample=PowderN(...)
  in the instrument description python_tutorial.instr.
INFO: Placing instr file copy python_tutorial.instr in dataset /Users/madsbertelsen/PaNOSC/McStasScript/github/McStasScript/docs/source/tutorial/data_folder/mcstas_basics_0
loading system configuration
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="plotting-the-data">
<h2>Plotting the data<a class="headerlink" href="#plotting-the-data" title="Permalink to this headline"></a></h2>
<p>The <em>run_full_instrument</em> method returned a list of McStasData objects which can be plotted by the McStasScript plotter module.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ms</span><span class="o">.</span><span class="n">make_sub_plot</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/McStasScript_tutorial_1_the_basics_54_0.png" src="../_images/McStasScript_tutorial_1_the_basics_54_0.png" />
</div>
</div>
<div class="section" id="adjusting-plots">
<h3>Adjusting plots<a class="headerlink" href="#adjusting-plots" title="Permalink to this headline"></a></h3>
<p>The McStasData objects contain preferences for how the data should be plotted, which can be modified using the functions module and the <em>name_plot_options</em> function. The function arguments are the name of the monitor component and a list of McStasData objects, then options are provided with the keyword arguments.</p>
<p>The following plot options are often useful:</p>
<ul class="simple">
<li><p>log [True or False] For plotting on logarithmic axis</p></li>
<li><p>orders_of_mag [number] When using logarithmic plotting, limits the maximum orders of magnitudes shown</p></li>
<li><p>left_lim [number] lower limit of plot x axis</p></li>
<li><p>right_lim [number] upper limit of plot x axis</p></li>
<li><p>bottom_lim [number] lower limit of plot y axis</p></li>
<li><p>top_lim [number] upper limit of plot y axis</p></li>
<li><p>colormap [string]name of matplotlib colormap to use</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ms</span><span class="o">.</span><span class="n">name_plot_options</span><span class="p">(</span><span class="s2">&quot;monitor&quot;</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">log</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">ms</span><span class="o">.</span><span class="n">name_plot_options</span><span class="p">(</span><span class="s2">&quot;banana&quot;</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">left_lim</span><span class="o">=</span><span class="mi">90</span><span class="p">,</span> <span class="n">right_lim</span><span class="o">=</span><span class="mi">150</span><span class="p">)</span>
<span class="n">ms</span><span class="o">.</span><span class="n">make_sub_plot</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">16</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/McStasScript_tutorial_1_the_basics_56_0.png" src="../_images/McStasScript_tutorial_1_the_basics_56_0.png" />
</div>
</div>
</div>
</div>
<div class="section" id="behind-the-scenes">
<h2>Behind the scenes<a class="headerlink" href="#behind-the-scenes" title="Permalink to this headline"></a></h2>
<p>McStasScript writes the instrument file and uses mcrun to compile and run it. The file can be found in the input_path selected when the instrument object were created. We can print it here to see what was done behind the scenes.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">instrument</span><span class="o">.</span><span class="n">show_instrument_file</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/********************************************************************************
* 
* McStas, neutron ray-tracing package
*         Copyright (C) 1997-2008, All rights reserved
*         Risoe National Laboratory, Roskilde, Denmark
*         Institut Laue Langevin, Grenoble, France
* 
* This file was written by McStasScript, which is a 
* python based McStas instrument generator written by 
* Mads Bertelsen in 2019 while employed at the 
* European Spallation Source Data Management and 
* Software Centre
* 
* Instrument python_tutorial
* 
* %Identification
* Written by: Python McStas Instrument Generator
* Date: 14:58:06 on April 25, 2023
* Origin: ESS DMSC
* %INSTRUMENT_SITE: Generated_instruments
* 
* 
* %Parameters
* 
* %End 
********************************************************************************/

DEFINE INSTRUMENT python_tutorial (
wavelength = 2.8, // Wavelength in [Ang]
int order = 1 // Monochromator order, integer
)

DECLARE 
%{
double mono_Q = 1.714;
double wavevector;
double mono_rotation;
%}

INITIALIZE 
%{
// Start of initialize for generated python_tutorial
wavevector = 2.0*PI/wavelength;
mono_rotation = asin(mono_Q/(2.0*wavevector))*RAD2DEG;
printf(&quot;monochromator rotation = %g deg\n&quot;, mono_rotation);
%}

TRACE 
COMPONENT source = Source_div(
 xwidth = 0.1, yheight = 0.05,
 focus_aw = 1.2, focus_ah = 2.3,
 lambda0 = wavelength, dlambda = 0.01*wavelength)
AT (0,0,0) ABSOLUTE

COMPONENT guide = Guide_gravity(
 w1 = 0.05, h1 = 0.05,
 w2 = 0.05, h2 = 0.05,
 l = 8, m = 3.5,
 G = -9.82)
AT (0,0,2) RELATIVE source

COMPONENT mono = Monochromator_flat(
 zwidth = 0.05, yheight = 0.08,
 Q = mono_Q)
AT (0,0,8.5) RELATIVE guide
ROTATED (0,mono_rotation,0) RELATIVE guide

COMPONENT beam_dir = Arm()
AT (0,0,0) RELATIVE mono
ROTATED (0,mono_rotation,0) RELATIVE mono

COMPONENT sample = PowderN(
 reflections = &quot;Na2Ca3Al2F14.laz&quot;, radius = 0.015,
 yheight = 0.05)
AT (0,0,1.1) RELATIVE beam_dir

COMPONENT banana = Monitor_nD(
 xwidth = 2, yheight = 0.3,
 restore_neutron = 1, options = &quot;theta limits=[5 175] bins=150, banana&quot;,
 filename = &quot;banana.dat&quot;)
AT (0,0,0) RELATIVE sample

COMPONENT monitor = PSD_monitor(
 nx = 100, ny = 100,
 filename = &quot;psd.dat&quot;, xwidth = 0.05,
 yheight = 0.08, restore_neutron = 1)
AT (0,0,0.1) RELATIVE sample

FINALLY 
%{
// Start of finally for generated python_tutorial
%}

END
</pre></div>
</div>
</div>
</div>
</div>
</div>


              </div>
              
            
                <!-- Previous / next buttons -->
<div class='prev-next-area'> 
    <a class='left-prev' id="prev-link" href="../user_guide/instrument_reader.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Instrument reader</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="McStasScript_tutorial_2_SPLIT.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Advanced McStas features:  SPLIT</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            
        </div>
    </div>
    <footer class="footer">
  <p>
    
      By Mads Bertelsen<br/>
    
        &copy; Copyright 2022, Mads Bertelsen.<br/>
  </p>
</footer>
</main>


      </div>
    </div>
  
  <script src="../_static/js/index.be7d3bbb2ef33a8344ce.js"></script>

  </body>
</html>