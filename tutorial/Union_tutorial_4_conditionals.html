
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Using conditional component to modify loggers &#8212; McStasScript  documentation</title>
    
  <link href="../_static/css/theme.css" rel="stylesheet">
  <link href="../_static/css/index.ff1ffe594081f20da1ef19478df9384b.css" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-book-theme.css?digest=c3fdc42140077d1ad13ad2f1588a4309" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    
  <link rel="preload" as="script" href="../_static/js/index.be7d3bbb2ef33a8344ce.js">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../_static/sphinx-book-theme.d59cb220de22ca1c485ebbdc042f0030.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Union tutorial on masks" href="Union_tutorial_5_masks.html" />
    <link rel="prev" title="Visualizing what happens in Union master" href="Union_tutorial_3_loggers.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../index.html">
      
      
      
      <h1 class="site-logo" id="site-title">McStasScript  documentation</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Getting started
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../getting_started/overview.html">
   Overview
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../getting_started/installation.html">
   Installation
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../getting_started/version_history.html">
   Version history
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../getting_started/quick_start.html">
   Quick start
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  User guide
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../user_guide/instrument_object.html">
   Instrument object
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../user_guide/component_object.html">
   Component object
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../user_guide/parameters_and_variables.html">
   Parameters and variables
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../user_guide/data.html">
   Data
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../user_guide/plotting.html">
   Plotting
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../user_guide/functions.html">
   Functions
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../user_guide/widgets.html">
   Widgets
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../user_guide/instrument_reader.html">
   Instrument reader
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  McStasScript Tutorial
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="McStasScript_tutorial_1_the_basics.html">
   McStasScript introduction
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="McStasScript_tutorial_2_SPLIT.html">
   Advanced McStas features:  SPLIT
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="McStasScript_tutorial_3_EXTEND_and_WHEN.html">
   Advanced McStas features: EXTEND and WHEN
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="McStasScript_tutorial_4_JUMP.html">
   Advanced McStas features: JUMP
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="McStasScript_tutorial_5_MCPL_bridges.html">
   Dynamic instrument cuts with MCPL bridges
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="McStasScript_tutorial_6_Diagnostics.html">
   Diagnostics
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  McStas Union Tutorial
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="Union_tutorial_1_processes_and_materials.html">
   The Union components
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Union_tutorial_2_geometry.html">
   Advanced geometry using the Union components
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Union_tutorial_3_loggers.html">
   Visualizing what happens in Union master
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Using conditional component to modify loggers
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Union_tutorial_5_masks.html">
   Union tutorial on masks
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Union_tutorial_6_Exit_and_number_of_activations.html">
   Advanced geometry component concepts: Exit geometry and number of activations
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Union_tutorial_7_Tagging_history.html">
   Union tagging system
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Reference
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../_autosummary/mcstasscript.html">
   mcstasscript
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../_autosummary/mcstasscript.data.html">
     mcstasscript.data
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
    <label for="toctree-checkbox-2">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.data.MCPLDataFormat.html">
       mcstasscript.data.MCPLDataFormat
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
      <label for="toctree-checkbox-3">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.data.MCPLDataFormat.MCPLDataFormat.html">
         mcstasscript.data.MCPLDataFormat.MCPLDataFormat
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.data.McStasDataFormat.html">
       mcstasscript.data.McStasDataFormat
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/>
      <label for="toctree-checkbox-4">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.data.McStasDataFormat.McStasFormat.html">
         mcstasscript.data.McStasDataFormat.McStasFormat
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.data.data.html">
       mcstasscript.data.data
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/>
      <label for="toctree-checkbox-5">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.data.data.McStasData.html">
         mcstasscript.data.data.McStasData
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.data.data.McStasDataBinned.html">
         mcstasscript.data.data.McStasDataBinned
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.data.data.McStasDataEvent.html">
         mcstasscript.data.data.McStasDataEvent
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.data.data.McStasMetaData.html">
         mcstasscript.data.data.McStasMetaData
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.data.data.McStasPlotOptions.html">
         mcstasscript.data.data.McStasPlotOptions
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.data.pyvinylData.html">
       mcstasscript.data.pyvinylData
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/>
      <label for="toctree-checkbox-6">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.data.pyvinylData.pyvinylMCPLData.html">
         mcstasscript.data.pyvinylData.pyvinylMCPLData
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.data.pyvinylData.pyvinylMcStasData.html">
         mcstasscript.data.pyvinylData.pyvinylMcStasData
        </a>
       </li>
      </ul>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../_autosummary/mcstasscript.helper.html">
     mcstasscript.helper
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/>
    <label for="toctree-checkbox-7">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.helper.beam_dump_database.html">
       mcstasscript.helper.beam_dump_database
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" type="checkbox"/>
      <label for="toctree-checkbox-8">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.helper.beam_dump_database.BeamDump.html">
         mcstasscript.helper.beam_dump_database.BeamDump
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.helper.beam_dump_database.BeamDumpDatabase.html">
         mcstasscript.helper.beam_dump_database.BeamDumpDatabase
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.helper.check_mccode_version.html">
       mcstasscript.helper.check_mccode_version
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" type="checkbox"/>
      <label for="toctree-checkbox-9">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.helper.check_mccode_version.check_mcstas_major_version.html">
         mcstasscript.helper.check_mccode_version.check_mcstas_major_version
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.helper.check_mccode_version.check_mcxtrace_major_version.html">
         mcstasscript.helper.check_mccode_version.check_mcxtrace_major_version
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.helper.component_reader.html">
       mcstasscript.helper.component_reader
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" type="checkbox"/>
      <label for="toctree-checkbox-10">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.helper.component_reader.c_integer_literal_base.html">
         mcstasscript.helper.component_reader.c_integer_literal_base
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.helper.component_reader.ComponentInfo.html">
         mcstasscript.helper.component_reader.ComponentInfo
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.helper.component_reader.ComponentReader.html">
         mcstasscript.helper.component_reader.ComponentReader
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.helper.exceptions.html">
       mcstasscript.helper.exceptions
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" type="checkbox"/>
      <label for="toctree-checkbox-11">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.helper.exceptions.McStasError.html">
         mcstasscript.helper.exceptions.McStasError
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.helper.formatting.html">
       mcstasscript.helper.formatting
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" type="checkbox"/>
      <label for="toctree-checkbox-12">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.helper.formatting.is_legal_filename.html">
         mcstasscript.helper.formatting.is_legal_filename
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.helper.formatting.is_legal_parameter.html">
         mcstasscript.helper.formatting.is_legal_parameter
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.helper.formatting.bcolors.html">
         mcstasscript.helper.formatting.bcolors
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.helper.managed_mcrun.html">
       mcstasscript.helper.managed_mcrun
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" type="checkbox"/>
      <label for="toctree-checkbox-13">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.helper.managed_mcrun.findall.html">
         mcstasscript.helper.managed_mcrun.findall
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.helper.managed_mcrun.highlight.html">
         mcstasscript.helper.managed_mcrun.highlight
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.helper.managed_mcrun.load_metadata.html">
         mcstasscript.helper.managed_mcrun.load_metadata
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.helper.managed_mcrun.load_monitor.html">
         mcstasscript.helper.managed_mcrun.load_monitor
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.helper.managed_mcrun.load_results.html">
         mcstasscript.helper.managed_mcrun.load_results
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.helper.managed_mcrun.print_sim_output.html">
         mcstasscript.helper.managed_mcrun.print_sim_output
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.helper.managed_mcrun.ManagedMcrun.html">
         mcstasscript.helper.managed_mcrun.ManagedMcrun
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.helper.mcstas_objects.html">
       mcstasscript.helper.mcstas_objects
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-14" name="toctree-checkbox-14" type="checkbox"/>
      <label for="toctree-checkbox-14">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.helper.mcstas_objects.provide_parameter.html">
         mcstasscript.helper.mcstas_objects.provide_parameter
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.helper.mcstas_objects.write_parameter.html">
         mcstasscript.helper.mcstas_objects.write_parameter
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.helper.mcstas_objects.Component.html">
         mcstasscript.helper.mcstas_objects.Component
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.helper.mcstas_objects.DeclareVariable.html">
         mcstasscript.helper.mcstas_objects.DeclareVariable
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../_autosummary/mcstasscript.helper.plot_helper.html">
       mcstasscript.helper.plot_helper
      </a>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.helper.unpickler.html">
       mcstasscript.helper.unpickler
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-15" name="toctree-checkbox-15" type="checkbox"/>
      <label for="toctree-checkbox-15">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.helper.unpickler.CustomMcStasUnpickler.html">
         mcstasscript.helper.unpickler.CustomMcStasUnpickler
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.helper.unpickler.CustomMcXtraceUnpickler.html">
         mcstasscript.helper.unpickler.CustomMcXtraceUnpickler
        </a>
       </li>
      </ul>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../_autosummary/mcstasscript.instr_reader.html">
     mcstasscript.instr_reader
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-16" name="toctree-checkbox-16" type="checkbox"/>
    <label for="toctree-checkbox-16">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.instr_reader.control.html">
       mcstasscript.instr_reader.control
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-17" name="toctree-checkbox-17" type="checkbox"/>
      <label for="toctree-checkbox-17">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.instr_reader.control.InstrumentReader.html">
         mcstasscript.instr_reader.control.InstrumentReader
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.instr_reader.read_declare.html">
       mcstasscript.instr_reader.read_declare
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-18" name="toctree-checkbox-18" type="checkbox"/>
      <label for="toctree-checkbox-18">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.instr_reader.read_declare.DeclareReader.html">
         mcstasscript.instr_reader.read_declare.DeclareReader
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.instr_reader.read_definition.html">
       mcstasscript.instr_reader.read_definition
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-19" name="toctree-checkbox-19" type="checkbox"/>
      <label for="toctree-checkbox-19">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.instr_reader.read_definition.DefinitionReader.html">
         mcstasscript.instr_reader.read_definition.DefinitionReader
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.instr_reader.read_finally.html">
       mcstasscript.instr_reader.read_finally
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-20" name="toctree-checkbox-20" type="checkbox"/>
      <label for="toctree-checkbox-20">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.instr_reader.read_finally.FinallyReader.html">
         mcstasscript.instr_reader.read_finally.FinallyReader
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.instr_reader.read_initialize.html">
       mcstasscript.instr_reader.read_initialize
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-21" name="toctree-checkbox-21" type="checkbox"/>
      <label for="toctree-checkbox-21">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.instr_reader.read_initialize.InitializeReader.html">
         mcstasscript.instr_reader.read_initialize.InitializeReader
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.instr_reader.read_trace.html">
       mcstasscript.instr_reader.read_trace
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-22" name="toctree-checkbox-22" type="checkbox"/>
      <label for="toctree-checkbox-22">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.instr_reader.read_trace.TraceReader.html">
         mcstasscript.instr_reader.read_trace.TraceReader
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.instr_reader.read_uservars.html">
       mcstasscript.instr_reader.read_uservars
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-23" name="toctree-checkbox-23" type="checkbox"/>
      <label for="toctree-checkbox-23">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.instr_reader.read_uservars.UservarsReader.html">
         mcstasscript.instr_reader.read_uservars.UservarsReader
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.instr_reader.util.html">
       mcstasscript.instr_reader.util
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-24" name="toctree-checkbox-24" type="checkbox"/>
      <label for="toctree-checkbox-24">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.instr_reader.util.SectionReader.html">
         mcstasscript.instr_reader.util.SectionReader
        </a>
       </li>
      </ul>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../_autosummary/mcstasscript.instrument_diagnostics.html">
     mcstasscript.instrument_diagnostics
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-25" name="toctree-checkbox-25" type="checkbox"/>
    <label for="toctree-checkbox-25">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.instrument_diagnostics.beam_diagnostics.html">
       mcstasscript.instrument_diagnostics.beam_diagnostics
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-26" name="toctree-checkbox-26" type="checkbox"/>
      <label for="toctree-checkbox-26">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.instrument_diagnostics.beam_diagnostics.sanitise_comp_name.html">
         mcstasscript.instrument_diagnostics.beam_diagnostics.sanitise_comp_name
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.instrument_diagnostics.beam_diagnostics.BeamDiagnostics.html">
         mcstasscript.instrument_diagnostics.beam_diagnostics.BeamDiagnostics
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.instrument_diagnostics.beam_diagnostics.DiagnosticsPoint.html">
         mcstasscript.instrument_diagnostics.beam_diagnostics.DiagnosticsPoint
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.instrument_diagnostics.diagnostics_instrument.html">
       mcstasscript.instrument_diagnostics.diagnostics_instrument
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-27" name="toctree-checkbox-27" type="checkbox"/>
      <label for="toctree-checkbox-27">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.instrument_diagnostics.diagnostics_instrument.DiagnosticsInstrument.html">
         mcstasscript.instrument_diagnostics.diagnostics_instrument.DiagnosticsInstrument
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.instrument_diagnostics.event_plotter.html">
       mcstasscript.instrument_diagnostics.event_plotter
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-28" name="toctree-checkbox-28" type="checkbox"/>
      <label for="toctree-checkbox-28">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.instrument_diagnostics.event_plotter.EventPlotter.html">
         mcstasscript.instrument_diagnostics.event_plotter.EventPlotter
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.instrument_diagnostics.intensity_diagnostics.html">
       mcstasscript.instrument_diagnostics.intensity_diagnostics
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-29" name="toctree-checkbox-29" type="checkbox"/>
      <label for="toctree-checkbox-29">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.instrument_diagnostics.intensity_diagnostics.common_range_limits.html">
         mcstasscript.instrument_diagnostics.intensity_diagnostics.common_range_limits
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.instrument_diagnostics.intensity_diagnostics.IntensityDiagnostics.html">
         mcstasscript.instrument_diagnostics.intensity_diagnostics.IntensityDiagnostics
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.instrument_diagnostics.plot_overview.html">
       mcstasscript.instrument_diagnostics.plot_overview
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-30" name="toctree-checkbox-30" type="checkbox"/>
      <label for="toctree-checkbox-30">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.instrument_diagnostics.plot_overview.PlotOverview.html">
         mcstasscript.instrument_diagnostics.plot_overview.PlotOverview
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.instrument_diagnostics.view.html">
       mcstasscript.instrument_diagnostics.view
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-31" name="toctree-checkbox-31" type="checkbox"/>
      <label for="toctree-checkbox-31">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.instrument_diagnostics.view.View.html">
         mcstasscript.instrument_diagnostics.view.View
        </a>
       </li>
      </ul>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../_autosummary/mcstasscript.instrument_diagram.html">
     mcstasscript.instrument_diagram
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-32" name="toctree-checkbox-32" type="checkbox"/>
    <label for="toctree-checkbox-32">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.instrument_diagram.arrow.html">
       mcstasscript.instrument_diagram.arrow
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-33" name="toctree-checkbox-33" type="checkbox"/>
      <label for="toctree-checkbox-33">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.instrument_diagram.arrow.Arrow.html">
         mcstasscript.instrument_diagram.arrow.Arrow
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.instrument_diagram.box.html">
       mcstasscript.instrument_diagram.box
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-34" name="toctree-checkbox-34" type="checkbox"/>
      <label for="toctree-checkbox-34">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.instrument_diagram.box.ComponentBox.html">
         mcstasscript.instrument_diagram.box.ComponentBox
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.instrument_diagram.canvas.html">
       mcstasscript.instrument_diagram.canvas
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-35" name="toctree-checkbox-35" type="checkbox"/>
      <label for="toctree-checkbox-35">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.instrument_diagram.canvas.DiagramCanvas.html">
         mcstasscript.instrument_diagram.canvas.DiagramCanvas
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.instrument_diagram.component_description.html">
       mcstasscript.instrument_diagram.component_description
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-36" name="toctree-checkbox-36" type="checkbox"/>
      <label for="toctree-checkbox-36">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.instrument_diagram.component_description.component_description.html">
         mcstasscript.instrument_diagram.component_description.component_description
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.instrument_diagram.connections.html">
       mcstasscript.instrument_diagram.connections
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-37" name="toctree-checkbox-37" type="checkbox"/>
      <label for="toctree-checkbox-37">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.instrument_diagram.connections.Connection.html">
         mcstasscript.instrument_diagram.connections.Connection
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.instrument_diagram.connections.ConnectionList.html">
         mcstasscript.instrument_diagram.connections.ConnectionList
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.instrument_diagram.connections.IndexConnection.html">
         mcstasscript.instrument_diagram.connections.IndexConnection
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.instrument_diagram.connections.Lane.html">
         mcstasscript.instrument_diagram.connections.Lane
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.instrument_diagram.generate_AT.html">
       mcstasscript.instrument_diagram.generate_AT
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-38" name="toctree-checkbox-38" type="checkbox"/>
      <label for="toctree-checkbox-38">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.instrument_diagram.generate_AT.generate_AT_arrows.html">
         mcstasscript.instrument_diagram.generate_AT.generate_AT_arrows
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.instrument_diagram.generate_GROUP.html">
       mcstasscript.instrument_diagram.generate_GROUP
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-39" name="toctree-checkbox-39" type="checkbox"/>
      <label for="toctree-checkbox-39">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.instrument_diagram.generate_GROUP.generate_GROUP_arrows.html">
         mcstasscript.instrument_diagram.generate_GROUP.generate_GROUP_arrows
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.instrument_diagram.generate_JUMP.html">
       mcstasscript.instrument_diagram.generate_JUMP
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-40" name="toctree-checkbox-40" type="checkbox"/>
      <label for="toctree-checkbox-40">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.instrument_diagram.generate_JUMP.generate_JUMP_arrows.html">
         mcstasscript.instrument_diagram.generate_JUMP.generate_JUMP_arrows
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.instrument_diagram.generate_ROTATED.html">
       mcstasscript.instrument_diagram.generate_ROTATED
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-41" name="toctree-checkbox-41" type="checkbox"/>
      <label for="toctree-checkbox-41">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.instrument_diagram.generate_ROTATED.generate_ROTATED_arrows.html">
         mcstasscript.instrument_diagram.generate_ROTATED.generate_ROTATED_arrows
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.instrument_diagram.generate_Union.html">
       mcstasscript.instrument_diagram.generate_Union
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-42" name="toctree-checkbox-42" type="checkbox"/>
      <label for="toctree-checkbox-42">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.instrument_diagram.generate_Union.generate_Union_arrows.html">
         mcstasscript.instrument_diagram.generate_Union.generate_Union_arrows
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.instrument_diagram.generate_target_index.html">
       mcstasscript.instrument_diagram.generate_target_index
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-43" name="toctree-checkbox-43" type="checkbox"/>
      <label for="toctree-checkbox-43">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.instrument_diagram.generate_target_index.generate_target_index_arrows.html">
         mcstasscript.instrument_diagram.generate_target_index.generate_target_index_arrows
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.instrument_diagram.make_diagram.html">
       mcstasscript.instrument_diagram.make_diagram
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-44" name="toctree-checkbox-44" type="checkbox"/>
      <label for="toctree-checkbox-44">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.instrument_diagram.make_diagram.instrument_diagram.html">
         mcstasscript.instrument_diagram.make_diagram.instrument_diagram
        </a>
       </li>
      </ul>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../_autosummary/mcstasscript.integration_tests.html">
     mcstasscript.integration_tests
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-45" name="toctree-checkbox-45" type="checkbox"/>
    <label for="toctree-checkbox-45">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.integration_tests.test_complex_instrument.html">
       mcstasscript.integration_tests.test_complex_instrument
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-46" name="toctree-checkbox-46" type="checkbox"/>
      <label for="toctree-checkbox-46">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.integration_tests.test_complex_instrument.setup_complex_instrument.html">
         mcstasscript.integration_tests.test_complex_instrument.setup_complex_instrument
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.integration_tests.test_complex_instrument.FakeChange.html">
         mcstasscript.integration_tests.test_complex_instrument.FakeChange
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.integration_tests.test_complex_instrument.TestComplexInstrument.html">
         mcstasscript.integration_tests.test_complex_instrument.TestComplexInstrument
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.integration_tests.test_simple_instrument.html">
       mcstasscript.integration_tests.test_simple_instrument
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-47" name="toctree-checkbox-47" type="checkbox"/>
      <label for="toctree-checkbox-47">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.integration_tests.test_simple_instrument.setup_simple_instrument.html">
         mcstasscript.integration_tests.test_simple_instrument.setup_simple_instrument
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.integration_tests.test_simple_instrument.setup_simple_instrument_input_path.html">
         mcstasscript.integration_tests.test_simple_instrument.setup_simple_instrument_input_path
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.integration_tests.test_simple_instrument.setup_simple_slit_instrument.html">
         mcstasscript.integration_tests.test_simple_instrument.setup_simple_slit_instrument
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.integration_tests.test_simple_instrument.TestSimpleInstrument.html">
         mcstasscript.integration_tests.test_simple_instrument.TestSimpleInstrument
        </a>
       </li>
      </ul>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../_autosummary/mcstasscript.interface.html">
     mcstasscript.interface
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-48" name="toctree-checkbox-48" type="checkbox"/>
    <label for="toctree-checkbox-48">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.interface.functions.html">
       mcstasscript.interface.functions
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-49" name="toctree-checkbox-49" type="checkbox"/>
      <label for="toctree-checkbox-49">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.interface.functions.load_data.html">
         mcstasscript.interface.functions.load_data
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.interface.functions.load_metadata.html">
         mcstasscript.interface.functions.load_metadata
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.interface.functions.load_monitor.html">
         mcstasscript.interface.functions.load_monitor
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.interface.functions.name_plot_options.html">
         mcstasscript.interface.functions.name_plot_options
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.interface.functions.name_search.html">
         mcstasscript.interface.functions.name_search
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.interface.functions.Configurator.html">
         mcstasscript.interface.functions.Configurator
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.interface.instr.html">
       mcstasscript.interface.instr
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-50" name="toctree-checkbox-50" type="checkbox"/>
      <label for="toctree-checkbox-50">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.interface.instr.McCode_instr.html">
         mcstasscript.interface.instr.McCode_instr
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.interface.instr.McStas_instr.html">
         mcstasscript.interface.instr.McStas_instr
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.interface.instr.McXtrace_instr.html">
         mcstasscript.interface.instr.McXtrace_instr
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.interface.plotter.html">
       mcstasscript.interface.plotter
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-51" name="toctree-checkbox-51" type="checkbox"/>
      <label for="toctree-checkbox-51">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.interface.plotter.make_animation.html">
         mcstasscript.interface.plotter.make_animation
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.interface.plotter.make_plot.html">
         mcstasscript.interface.plotter.make_plot
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.interface.plotter.make_sub_plot.html">
         mcstasscript.interface.plotter.make_sub_plot
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.interface.reader.html">
       mcstasscript.interface.reader
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-52" name="toctree-checkbox-52" type="checkbox"/>
      <label for="toctree-checkbox-52">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.interface.reader.McStas_file.html">
         mcstasscript.interface.reader.McStas_file
        </a>
       </li>
      </ul>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../_autosummary/mcstasscript.jb_interface.html">
     mcstasscript.jb_interface
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-53" name="toctree-checkbox-53" type="checkbox"/>
    <label for="toctree-checkbox-53">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.jb_interface.plot_interface.html">
       mcstasscript.jb_interface.plot_interface
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-54" name="toctree-checkbox-54" type="checkbox"/>
      <label for="toctree-checkbox-54">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.jb_interface.plot_interface.ColormapDropdown.html">
         mcstasscript.jb_interface.plot_interface.ColormapDropdown
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.jb_interface.plot_interface.LogCheckbox.html">
         mcstasscript.jb_interface.plot_interface.LogCheckbox
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.jb_interface.plot_interface.MonitorDropdown.html">
         mcstasscript.jb_interface.plot_interface.MonitorDropdown
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.jb_interface.plot_interface.OrdersOfMagField.html">
         mcstasscript.jb_interface.plot_interface.OrdersOfMagField
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.jb_interface.plot_interface.PlotInterface.html">
         mcstasscript.jb_interface.plot_interface.PlotInterface
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.jb_interface.show_interface.html">
       mcstasscript.jb_interface.show_interface
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-55" name="toctree-checkbox-55" type="checkbox"/>
      <label for="toctree-checkbox-55">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.jb_interface.show_interface.show.html">
         mcstasscript.jb_interface.show_interface.show
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.jb_interface.show_interface.show_instrunent.html">
         mcstasscript.jb_interface.show_interface.show_instrunent
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.jb_interface.show_interface.show_plot.html">
         mcstasscript.jb_interface.show_interface.show_plot
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.jb_interface.simulation_interface.html">
       mcstasscript.jb_interface.simulation_interface
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-56" name="toctree-checkbox-56" type="checkbox"/>
      <label for="toctree-checkbox-56">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.jb_interface.simulation_interface.add_data.html">
         mcstasscript.jb_interface.simulation_interface.add_data
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.jb_interface.simulation_interface.ParameterWidget.html">
         mcstasscript.jb_interface.simulation_interface.ParameterWidget
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.jb_interface.simulation_interface.SimInterface.html">
         mcstasscript.jb_interface.simulation_interface.SimInterface
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.jb_interface.widget_helpers.html">
       mcstasscript.jb_interface.widget_helpers
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-57" name="toctree-checkbox-57" type="checkbox"/>
      <label for="toctree-checkbox-57">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.jb_interface.widget_helpers.get_parameter_default.html">
         mcstasscript.jb_interface.widget_helpers.get_parameter_default
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.jb_interface.widget_helpers.parameter_has_default.html">
         mcstasscript.jb_interface.widget_helpers.parameter_has_default
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.jb_interface.widget_helpers.HiddenPrints.html">
         mcstasscript.jb_interface.widget_helpers.HiddenPrints
        </a>
       </li>
      </ul>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../_autosummary/mcstasscript.tests.html">
     mcstasscript.tests
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-58" name="toctree-checkbox-58" type="checkbox"/>
    <label for="toctree-checkbox-58">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.tests.helpers_for_tests.html">
       mcstasscript.tests.helpers_for_tests
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-59" name="toctree-checkbox-59" type="checkbox"/>
      <label for="toctree-checkbox-59">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.helpers_for_tests.WorkInTestDir.html">
         mcstasscript.tests.helpers_for_tests.WorkInTestDir
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_ComponentReader.html">
       mcstasscript.tests.test_ComponentReader
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-60" name="toctree-checkbox-60" type="checkbox"/>
      <label for="toctree-checkbox-60">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_ComponentReader.setup_component_reader.html">
         mcstasscript.tests.test_ComponentReader.setup_component_reader
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_ComponentReader.setup_component_reader_input_path.html">
         mcstasscript.tests.test_ComponentReader.setup_component_reader_input_path
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_ComponentReader.TestComponentReader.html">
         mcstasscript.tests.test_ComponentReader.TestComponentReader
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_Configurator.html">
       mcstasscript.tests.test_Configurator
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-61" name="toctree-checkbox-61" type="checkbox"/>
      <label for="toctree-checkbox-61">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_Configurator.setup_configurator.html">
         mcstasscript.tests.test_Configurator.setup_configurator
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_Configurator.setup_expected_file.html">
         mcstasscript.tests.test_Configurator.setup_expected_file
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_Configurator.TestConfigurator.html">
         mcstasscript.tests.test_Configurator.TestConfigurator
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_Instr.html">
       mcstasscript.tests.test_Instr
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-62" name="toctree-checkbox-62" type="checkbox"/>
      <label for="toctree-checkbox-62">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_Instr.insert_mock_dump.html">
         mcstasscript.tests.test_Instr.insert_mock_dump
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_Instr.setup_instr_no_path.html">
         mcstasscript.tests.test_Instr.setup_instr_no_path
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_Instr.setup_instr_root_path.html">
         mcstasscript.tests.test_Instr.setup_instr_root_path
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_Instr.setup_instr_with_input_path.html">
         mcstasscript.tests.test_Instr.setup_instr_with_input_path
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_Instr.setup_instr_with_input_path_relative.html">
         mcstasscript.tests.test_Instr.setup_instr_with_input_path_relative
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_Instr.setup_instr_with_path.html">
         mcstasscript.tests.test_Instr.setup_instr_with_path
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_Instr.setup_populated_instr.html">
         mcstasscript.tests.test_Instr.setup_populated_instr
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_Instr.setup_populated_instr_with_dummy_MCPL_comps.html">
         mcstasscript.tests.test_Instr.setup_populated_instr_with_dummy_MCPL_comps
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_Instr.setup_populated_instr_with_dummy_path.html">
         mcstasscript.tests.test_Instr.setup_populated_instr_with_dummy_path
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_Instr.setup_populated_with_some_options_instr.html">
         mcstasscript.tests.test_Instr.setup_populated_with_some_options_instr
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_Instr.setup_populated_x_ray_instr.html">
         mcstasscript.tests.test_Instr.setup_populated_x_ray_instr
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_Instr.setup_populated_x_ray_instr_with_dummy_path.html">
         mcstasscript.tests.test_Instr.setup_populated_x_ray_instr_with_dummy_path
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_Instr.setup_x_ray_instr_no_path.html">
         mcstasscript.tests.test_Instr.setup_x_ray_instr_no_path
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_Instr.setup_x_ray_instr_root_path.html">
         mcstasscript.tests.test_Instr.setup_x_ray_instr_root_path
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_Instr.setup_x_ray_instr_with_path.html">
         mcstasscript.tests.test_Instr.setup_x_ray_instr_with_path
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_Instr.DummyComponent.html">
         mcstasscript.tests.test_Instr.DummyComponent
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_Instr.TestMcStas_instr.html">
         mcstasscript.tests.test_Instr.TestMcStas_instr
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_Instr_reader.html">
       mcstasscript.tests.test_Instr_reader
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-63" name="toctree-checkbox-63" type="checkbox"/>
      <label for="toctree-checkbox-63">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_Instr_reader.blockPrint.html">
         mcstasscript.tests.test_Instr_reader.blockPrint
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_Instr_reader.enablePrint.html">
         mcstasscript.tests.test_Instr_reader.enablePrint
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_Instr_reader.set_dummy_dir.html">
         mcstasscript.tests.test_Instr_reader.set_dummy_dir
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_Instr_reader.setup_standard.html">
         mcstasscript.tests.test_Instr_reader.setup_standard
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_Instr_reader.setup_standard_auto_instr.html">
         mcstasscript.tests.test_Instr_reader.setup_standard_auto_instr
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_Instr_reader.TestInstrReader.html">
         mcstasscript.tests.test_Instr_reader.TestInstrReader
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_ManagedMcrun.html">
       mcstasscript.tests.test_ManagedMcrun
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-64" name="toctree-checkbox-64" type="checkbox"/>
      <label for="toctree-checkbox-64">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_ManagedMcrun.TestManagedMcrun.html">
         mcstasscript.tests.test_ManagedMcrun.TestManagedMcrun
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_ManagedMcrun.Test_load_functions.html">
         mcstasscript.tests.test_ManagedMcrun.Test_load_functions
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_McStasData.html">
       mcstasscript.tests.test_McStasData
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-65" name="toctree-checkbox-65" type="checkbox"/>
      <label for="toctree-checkbox-65">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_McStasData.set_dummy_McStasDataBinned_1d.html">
         mcstasscript.tests.test_McStasData.set_dummy_McStasDataBinned_1d
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_McStasData.set_dummy_McStasDataBinned_2d.html">
         mcstasscript.tests.test_McStasData.set_dummy_McStasDataBinned_2d
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_McStasData.set_dummy_MetaDataBinned_1d.html">
         mcstasscript.tests.test_McStasData.set_dummy_MetaDataBinned_1d
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_McStasData.set_dummy_MetaDataBinned_2d.html">
         mcstasscript.tests.test_McStasData.set_dummy_MetaDataBinned_2d
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_McStasData.TestMcStasData.html">
         mcstasscript.tests.test_McStasData.TestMcStasData
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_McStasMetaData.html">
       mcstasscript.tests.test_McStasMetaData
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-66" name="toctree-checkbox-66" type="checkbox"/>
      <label for="toctree-checkbox-66">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_McStasMetaData.TestMcStasMetaData.html">
         mcstasscript.tests.test_McStasMetaData.TestMcStasMetaData
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_McStasPlotOptions.html">
       mcstasscript.tests.test_McStasPlotOptions
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-67" name="toctree-checkbox-67" type="checkbox"/>
      <label for="toctree-checkbox-67">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_McStasPlotOptions.TestMcStasPlotOptions.html">
         mcstasscript.tests.test_McStasPlotOptions.TestMcStasPlotOptions
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_Plotter.html">
       mcstasscript.tests.test_Plotter
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-68" name="toctree-checkbox-68" type="checkbox"/>
      <label for="toctree-checkbox-68">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_Plotter.get_dummy_McStasDataBinned_1d.html">
         mcstasscript.tests.test_Plotter.get_dummy_McStasDataBinned_1d
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_Plotter.get_dummy_McStasDataBinned_2d.html">
         mcstasscript.tests.test_Plotter.get_dummy_McStasDataBinned_2d
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_Plotter.get_dummy_MetaDataBinned_1d.html">
         mcstasscript.tests.test_Plotter.get_dummy_MetaDataBinned_1d
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_Plotter.get_dummy_MetaDataBinned_2d.html">
         mcstasscript.tests.test_Plotter.get_dummy_MetaDataBinned_2d
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_Plotter.TestPlotterHelpers.html">
         mcstasscript.tests.test_Plotter.TestPlotterHelpers
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_add_data.html">
       mcstasscript.tests.test_add_data
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-69" name="toctree-checkbox-69" type="checkbox"/>
      <label for="toctree-checkbox-69">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_add_data.set_dummy_McStasDataBinned_1d.html">
         mcstasscript.tests.test_add_data.set_dummy_McStasDataBinned_1d
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_add_data.set_dummy_McStasDataBinned_2d.html">
         mcstasscript.tests.test_add_data.set_dummy_McStasDataBinned_2d
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_add_data.set_dummy_MetaDataBinned_1d.html">
         mcstasscript.tests.test_add_data.set_dummy_MetaDataBinned_1d
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_add_data.set_dummy_MetaDataBinned_2d.html">
         mcstasscript.tests.test_add_data.set_dummy_MetaDataBinned_2d
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_add_data.Test_add_data.html">
         mcstasscript.tests.test_add_data.Test_add_data
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_component.html">
       mcstasscript.tests.test_component
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-70" name="toctree-checkbox-70" type="checkbox"/>
      <label for="toctree-checkbox-70">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_component.setup_Component_all_keywords.html">
         mcstasscript.tests.test_component.setup_Component_all_keywords
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_component.setup_Component_relative.html">
         mcstasscript.tests.test_component.setup_Component_relative
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_component.setup_Component_with_parameters.html">
         mcstasscript.tests.test_component.setup_Component_with_parameters
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_component.TestComponent.html">
         mcstasscript.tests.test_component.TestComponent
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_declare_variable.html">
       mcstasscript.tests.test_declare_variable
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-71" name="toctree-checkbox-71" type="checkbox"/>
      <label for="toctree-checkbox-71">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_declare_variable.Test_DeclareVariable.html">
         mcstasscript.tests.test_declare_variable.Test_DeclareVariable
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_dump_and_load.html">
       mcstasscript.tests.test_dump_and_load
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-72" name="toctree-checkbox-72" type="checkbox"/>
      <label for="toctree-checkbox-72">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_dump_and_load.setup_instr_no_path.html">
         mcstasscript.tests.test_dump_and_load.setup_instr_no_path
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_dump_and_load.setup_instr_root_path.html">
         mcstasscript.tests.test_dump_and_load.setup_instr_root_path
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_dump_and_load.setup_instr_with_input_path.html">
         mcstasscript.tests.test_dump_and_load.setup_instr_with_input_path
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_dump_and_load.setup_instr_with_input_path_relative.html">
         mcstasscript.tests.test_dump_and_load.setup_instr_with_input_path_relative
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_dump_and_load.setup_instr_with_path.html">
         mcstasscript.tests.test_dump_and_load.setup_instr_with_path
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_dump_and_load.setup_populated_instr.html">
         mcstasscript.tests.test_dump_and_load.setup_populated_instr
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_dump_and_load.setup_populated_instr_with_dummy_path.html">
         mcstasscript.tests.test_dump_and_load.setup_populated_instr_with_dummy_path
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_dump_and_load.setup_populated_with_some_options_instr.html">
         mcstasscript.tests.test_dump_and_load.setup_populated_with_some_options_instr
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_dump_and_load.setup_populated_x_ray_instr.html">
         mcstasscript.tests.test_dump_and_load.setup_populated_x_ray_instr
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_dump_and_load.setup_populated_x_ray_instr_with_dummy_path.html">
         mcstasscript.tests.test_dump_and_load.setup_populated_x_ray_instr_with_dummy_path
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_dump_and_load.setup_x_ray_instr_no_path.html">
         mcstasscript.tests.test_dump_and_load.setup_x_ray_instr_no_path
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_dump_and_load.setup_x_ray_instr_root_path.html">
         mcstasscript.tests.test_dump_and_load.setup_x_ray_instr_root_path
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_dump_and_load.setup_x_ray_instr_with_path.html">
         mcstasscript.tests.test_dump_and_load.setup_x_ray_instr_with_path
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_dump_and_load.TestDumpAndLoad.html">
         mcstasscript.tests.test_dump_and_load.TestDumpAndLoad
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_formatting.html">
       mcstasscript.tests.test_formatting
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-73" name="toctree-checkbox-73" type="checkbox"/>
      <label for="toctree-checkbox-73">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_formatting.TestFormatting.html">
         mcstasscript.tests.test_formatting.TestFormatting
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_functions.html">
       mcstasscript.tests.test_functions
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-74" name="toctree-checkbox-74" type="checkbox"/>
      <label for="toctree-checkbox-74">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_functions.set_dummy_McStasDataBinned_1d.html">
         mcstasscript.tests.test_functions.set_dummy_McStasDataBinned_1d
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_functions.set_dummy_McStasDataBinned_2d.html">
         mcstasscript.tests.test_functions.set_dummy_McStasDataBinned_2d
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_functions.set_dummy_MetaDataBinned_1d.html">
         mcstasscript.tests.test_functions.set_dummy_MetaDataBinned_1d
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_functions.set_dummy_MetaDataBinned_2d.html">
         mcstasscript.tests.test_functions.set_dummy_MetaDataBinned_2d
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_functions.setup_McStasData_array.html">
         mcstasscript.tests.test_functions.setup_McStasData_array
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_functions.setup_McStasData_array_repeat.html">
         mcstasscript.tests.test_functions.setup_McStasData_array_repeat
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_functions.Test_load_data.html">
         mcstasscript.tests.test_functions.Test_load_data
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_functions.Test_load_metadata.html">
         mcstasscript.tests.test_functions.Test_load_metadata
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_functions.Test_load_monitor.html">
         mcstasscript.tests.test_functions.Test_load_monitor
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_functions.Test_name_plot_options.html">
         mcstasscript.tests.test_functions.Test_name_plot_options
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_functions.Test_name_search.html">
         mcstasscript.tests.test_functions.Test_name_search
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_instrument_diagram.html">
       mcstasscript.tests.test_instrument_diagram
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-75" name="toctree-checkbox-75" type="checkbox"/>
      <label for="toctree-checkbox-75">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_instrument_diagram.setup_boxes.html">
         mcstasscript.tests.test_instrument_diagram.setup_boxes
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_instrument_diagram.setup_instr_no_path.html">
         mcstasscript.tests.test_instrument_diagram.setup_instr_no_path
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_instrument_diagram.setup_populated_instr.html">
         mcstasscript.tests.test_instrument_diagram.setup_populated_instr
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_instrument_diagram.TestInstrumentDiagram.html">
         mcstasscript.tests.test_instrument_diagram.TestInstrumentDiagram
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_parameter_variable.html">
       mcstasscript.tests.test_parameter_variable
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-76" name="toctree-checkbox-76" type="checkbox"/>
      <label for="toctree-checkbox-76">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_parameter_variable.Test_ParameterVariable.html">
         mcstasscript.tests.test_parameter_variable.Test_ParameterVariable
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_plot_interface.html">
       mcstasscript.tests.test_plot_interface
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-77" name="toctree-checkbox-77" type="checkbox"/>
      <label for="toctree-checkbox-77">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_plot_interface.fake_data.html">
         mcstasscript.tests.test_plot_interface.fake_data
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_plot_interface.set_dummy_McStasDataBinned_1d.html">
         mcstasscript.tests.test_plot_interface.set_dummy_McStasDataBinned_1d
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_plot_interface.set_dummy_McStasDataBinned_2d.html">
         mcstasscript.tests.test_plot_interface.set_dummy_McStasDataBinned_2d
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_plot_interface.set_dummy_MetaDataBinned_1d.html">
         mcstasscript.tests.test_plot_interface.set_dummy_MetaDataBinned_1d
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_plot_interface.set_dummy_MetaDataBinned_2d.html">
         mcstasscript.tests.test_plot_interface.set_dummy_MetaDataBinned_2d
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_plot_interface.FakeChange.html">
         mcstasscript.tests.test_plot_interface.FakeChange
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_plot_interface.TestPlotInterface.html">
         mcstasscript.tests.test_plot_interface.TestPlotInterface
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_simulation_interface.html">
       mcstasscript.tests.test_simulation_interface
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-78" name="toctree-checkbox-78" type="checkbox"/>
      <label for="toctree-checkbox-78">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_simulation_interface.setup_instr_root_path_McStas.html">
         mcstasscript.tests.test_simulation_interface.setup_instr_root_path_McStas
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_simulation_interface.setup_instr_root_path_McXtrace.html">
         mcstasscript.tests.test_simulation_interface.setup_instr_root_path_McXtrace
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_simulation_interface.setup_populated_instr_McStas.html">
         mcstasscript.tests.test_simulation_interface.setup_populated_instr_McStas
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_simulation_interface.setup_populated_instr_McXtrace.html">
         mcstasscript.tests.test_simulation_interface.setup_populated_instr_McXtrace
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_simulation_interface.FakeChange.html">
         mcstasscript.tests.test_simulation_interface.FakeChange
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_simulation_interface.TestSimulationInterface.html">
         mcstasscript.tests.test_simulation_interface.TestSimulationInterface
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_user_var.html">
       mcstasscript.tests.test_user_var
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-79" name="toctree-checkbox-79" type="checkbox"/>
      <label for="toctree-checkbox-79">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_user_var.setup_instr_no_path.html">
         mcstasscript.tests.test_user_var.setup_instr_no_path
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_user_var.Test_user_vars.html">
         mcstasscript.tests.test_user_var.Test_user_vars
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_widget_helpers.html">
       mcstasscript.tests.test_widget_helpers
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-80" name="toctree-checkbox-80" type="checkbox"/>
      <label for="toctree-checkbox-80">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.test_widget_helpers.TestWidgetHelpers.html">
         mcstasscript.tests.test_widget_helpers.TestWidgetHelpers
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.tests.utilities.html">
       mcstasscript.tests.utilities
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-81" name="toctree-checkbox-81" type="checkbox"/>
      <label for="toctree-checkbox-81">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tests.utilities.work_dir_test.html">
         mcstasscript.tests.utilities.work_dir_test
        </a>
       </li>
      </ul>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../_autosummary/mcstasscript.tools.html">
     mcstasscript.tools
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-82" name="toctree-checkbox-82" type="checkbox"/>
    <label for="toctree-checkbox-82">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.tools.cryostat_builder.html">
       mcstasscript.tools.cryostat_builder
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-83" name="toctree-checkbox-83" type="checkbox"/>
      <label for="toctree-checkbox-83">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tools.cryostat_builder.Cryostat.html">
         mcstasscript.tools.cryostat_builder.Cryostat
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tools.cryostat_builder.Layer.html">
         mcstasscript.tools.cryostat_builder.Layer
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/mcstasscript.tools.ncrystal_union.html">
       mcstasscript.tools.ncrystal_union
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-84" name="toctree-checkbox-84" type="checkbox"/>
      <label for="toctree-checkbox-84">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/mcstasscript.tools.ncrystal_union.add_ncrystal_union_material.html">
         mcstasscript.tools.ncrystal_union.add_ncrystal_union_material
        </a>
       </li>
      </ul>
     </li>
    </ul>
   </li>
  </ul>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Reference (libpyvinyl)
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../_autosummary/libpyvinyl.html">
   libpyvinyl
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-85" name="toctree-checkbox-85" type="checkbox"/>
  <label for="toctree-checkbox-85">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../_autosummary/libpyvinyl.AbstractBaseClass.html">
     libpyvinyl.AbstractBaseClass
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-86" name="toctree-checkbox-86" type="checkbox"/>
    <label for="toctree-checkbox-86">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../_autosummary/libpyvinyl.AbstractBaseClass.AbstractBaseClass.html">
       libpyvinyl.AbstractBaseClass.AbstractBaseClass
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../_autosummary/libpyvinyl.BaseCalculator.html">
     libpyvinyl.BaseCalculator
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../_autosummary/libpyvinyl.BaseData.html">
     libpyvinyl.BaseData
    </a>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../_autosummary/libpyvinyl.BaseFormat.html">
     libpyvinyl.BaseFormat
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-87" name="toctree-checkbox-87" type="checkbox"/>
    <label for="toctree-checkbox-87">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../_autosummary/libpyvinyl.BaseFormat.BaseFormat.html">
       libpyvinyl.BaseFormat.BaseFormat
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../_autosummary/libpyvinyl.Instrument.html">
     libpyvinyl.Instrument
    </a>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../_autosummary/libpyvinyl.Parameters.html">
     libpyvinyl.Parameters
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-88" name="toctree-checkbox-88" type="checkbox"/>
    <label for="toctree-checkbox-88">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../_autosummary/libpyvinyl.Parameters.Collections.html">
       libpyvinyl.Parameters.Collections
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-89" name="toctree-checkbox-89" type="checkbox"/>
      <label for="toctree-checkbox-89">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/libpyvinyl.Parameters.Collections.quantity_decode.html">
         libpyvinyl.Parameters.Collections.quantity_decode
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/libpyvinyl.Parameters.Collections.quantity_encode.html">
         libpyvinyl.Parameters.Collections.quantity_encode
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/libpyvinyl.Parameters.Collections.CalculatorParameters.html">
         libpyvinyl.Parameters.Collections.CalculatorParameters
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/libpyvinyl.Parameters.Collections.InstrumentParameters.html">
         libpyvinyl.Parameters.Collections.InstrumentParameters
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/libpyvinyl.Parameters.Collections.MasterParameter.html">
         libpyvinyl.Parameters.Collections.MasterParameter
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../_autosummary/libpyvinyl.Parameters.Collections.MasterParameters.html">
         libpyvinyl.Parameters.Collections.MasterParameters
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../_autosummary/libpyvinyl.Parameters.Parameter.html">
       libpyvinyl.Parameters.Parameter
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Theme by the <a href="https://ebp.jupyterbook.org">Executable Book Project</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../_sources/tutorial/Union_tutorial_4_conditionals.ipynb.txt"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
                onclick="printPdf(this)" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/PaNOSC-ViNYL/McStasScript"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        <a class="issues-button"
            href="https://github.com/PaNOSC-ViNYL/McStasScript/issues/new?title=Issue%20on%20page%20%2Ftutorial/Union_tutorial_4_conditionals.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        <a class="edit-button" href="https://github.com/PaNOSC-ViNYL/McStasScript/edit/master/docs/tutorial/Union_tutorial_4_conditionals.ipynb"><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Edit this page"><i class="fas fa-pencil-alt"></i>suggest edit</button></a>
    </div>
</div>

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show noprint">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav" aria-label="Page">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#set-up-an-example-instrument">
   Set up an example instrument
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#calculating-theta">
   Calculating theta
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#interpretation-of-the-data">
   Interpretation of the data
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#conditional-components">
   Conditional components
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#run-the-simulation">
     Run the simulation
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#confirm-our-conditional-is-on-the-desired-peak">
     Confirm our conditional is on the desired peak
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#plotting-the-loggers-now-limited-by-the-conditional">
   Plotting the loggers, now limited by the conditional
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#interpreting-the-data-from-loggers-with-conditional">
   Interpreting the data from loggers with conditional
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#using-the-final-weight-option">
   Using the final weight option
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#comparison-between-normal-and-overwrite-logger-weight">
     Comparison between normal and overwrite_logger_weight
    </a>
   </li>
  </ul>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Using conditional component to modify loggers</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#set-up-an-example-instrument">
   Set up an example instrument
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#calculating-theta">
   Calculating theta
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#interpretation-of-the-data">
   Interpretation of the data
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#conditional-components">
   Conditional components
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#run-the-simulation">
     Run the simulation
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#confirm-our-conditional-is-on-the-desired-peak">
     Confirm our conditional is on the desired peak
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#plotting-the-loggers-now-limited-by-the-conditional">
   Plotting the loggers, now limited by the conditional
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#interpreting-the-data-from-loggers-with-conditional">
   Interpreting the data from loggers with conditional
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#using-the-final-weight-option">
   Using the final weight option
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#comparison-between-normal-and-overwrite-logger-weight">
     Comparison between normal and overwrite_logger_weight
    </a>
   </li>
  </ul>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            
              <div>
                
  <div class="tex2jax_ignore mathjax_ignore section" id="using-conditional-component-to-modify-loggers">
<h1>Using conditional component to modify loggers<a class="headerlink" href="#using-conditional-component-to-modify-loggers" title="Permalink to this headline"></a></h1>
<p>Even with the results from the loggers, it can still be difficult to explain all the features in the resulting scattering pattern. The conditional components can modify a logger so that it only records events when the final state of the neutron satisfy some condition. The condition could be leaving with a certain energy or in a specified direction. Before demonstrating these conditional components, we will set up an interesting sample and sample environment, including a few loggers and a time of flight 2theta detector.</p>
<div class="section" id="set-up-an-example-instrument">
<h2>Set up an example instrument<a class="headerlink" href="#set-up-an-example-instrument" title="Permalink to this headline"></a></h2>
<p>First an example instrument is made, again with a cryostat but this time with a box shaped single crystal of YBaCuO. Since the <em>single_crystal_process</em> have quite a few parameters, we use the <em>set_parameters</em> method that allows setting parameters using a dictionary.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">mcstasscript</span> <span class="k">as</span> <span class="nn">ms</span>
<span class="n">instrument</span> <span class="o">=</span> <span class="n">ms</span><span class="o">.</span><span class="n">McStas_instr</span><span class="p">(</span><span class="s2">&quot;python_tutorial&quot;</span><span class="p">,</span> <span class="n">input_path</span><span class="o">=</span><span class="s2">&quot;run_folder&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Set up Al material with incoherent and powder</span>
<span class="n">Al_incoherent</span> <span class="o">=</span> <span class="n">instrument</span><span class="o">.</span><span class="n">add_component</span><span class="p">(</span><span class="s2">&quot;Al_incoherent&quot;</span><span class="p">,</span> <span class="s2">&quot;Incoherent_process&quot;</span><span class="p">)</span>
<span class="n">Al_incoherent</span><span class="o">.</span><span class="n">sigma</span> <span class="o">=</span> <span class="s2">&quot;4*0.0082&quot;</span>
<span class="n">Al_incoherent</span><span class="o">.</span><span class="n">packing_factor</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">Al_incoherent</span><span class="o">.</span><span class="n">unit_cell_volume</span> <span class="o">=</span> <span class="mf">66.4</span>

<span class="n">Al_powder</span> <span class="o">=</span> <span class="n">instrument</span><span class="o">.</span><span class="n">add_component</span><span class="p">(</span><span class="s2">&quot;Al_powder&quot;</span><span class="p">,</span> <span class="s2">&quot;Powder_process&quot;</span><span class="p">)</span>
<span class="n">Al_powder</span><span class="o">.</span><span class="n">reflections</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="se">\&quot;</span><span class="s2">Al.laz</span><span class="se">\&quot;</span><span class="s2">&quot;</span>

<span class="n">Al</span> <span class="o">=</span> <span class="n">instrument</span><span class="o">.</span><span class="n">add_component</span><span class="p">(</span><span class="s2">&quot;Al&quot;</span><span class="p">,</span> <span class="s2">&quot;Union_make_material&quot;</span><span class="p">)</span>
<span class="n">Al</span><span class="o">.</span><span class="n">process_string</span> <span class="o">=</span> <span class="s1">&#39;&quot;Al_incoherent,Al_powder&quot;&#39;</span>
<span class="n">Al</span><span class="o">.</span><span class="n">my_absorption</span> <span class="o">=</span> <span class="s2">&quot;100*4*0.231/66.4&quot;</span>

<span class="c1"># Set up YBaCuO with incoherent and single crystal</span>
<span class="n">YBaCuO_incoherent</span> <span class="o">=</span> <span class="n">instrument</span><span class="o">.</span><span class="n">add_component</span><span class="p">(</span><span class="s2">&quot;YBaCuO_incoherent&quot;</span><span class="p">,</span> <span class="s2">&quot;Incoherent_process&quot;</span><span class="p">)</span>
<span class="n">YBaCuO_incoherent</span><span class="o">.</span><span class="n">sigma</span> <span class="o">=</span> <span class="mf">2.105</span>
<span class="n">YBaCuO_incoherent</span><span class="o">.</span><span class="n">unit_cell_volume</span> <span class="o">=</span> <span class="mf">173.28</span>

<span class="n">YBaCuO_crystal</span> <span class="o">=</span> <span class="n">instrument</span><span class="o">.</span><span class="n">add_component</span><span class="p">(</span><span class="s2">&quot;YBaCuO_crystal&quot;</span><span class="p">,</span> <span class="s2">&quot;Single_crystal_process&quot;</span><span class="p">)</span>
<span class="n">YBaCuO_crystal</span><span class="o">.</span><span class="n">set_parameters</span><span class="p">(</span>
<span class="p">{</span><span class="s2">&quot;ax&quot;</span> <span class="p">:</span> <span class="mf">3.816</span><span class="p">,</span> <span class="s2">&quot;ay&quot;</span> <span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;az&quot;</span> <span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
 <span class="s2">&quot;bx&quot;</span> <span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;by&quot;</span> <span class="p">:</span> <span class="mf">3.886</span><span class="p">,</span> <span class="s2">&quot;bz&quot;</span> <span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
 <span class="s2">&quot;cx&quot;</span> <span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;cy&quot;</span> <span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;cz&quot;</span> <span class="p">:</span> <span class="mf">11.677</span><span class="p">,</span>
 <span class="s2">&quot;delta_d_d&quot;</span> <span class="p">:</span> <span class="mf">5E-4</span><span class="p">,</span> <span class="s2">&quot;mosaic&quot;</span> <span class="p">:</span> <span class="mi">30</span><span class="p">,</span> <span class="s2">&quot;barns&quot;</span> <span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
 <span class="s2">&quot;reflections&quot;</span> <span class="p">:</span> <span class="s1">&#39;&quot;YBaCuO.lau&quot;&#39;</span><span class="p">})</span>

<span class="n">YBaCuO</span> <span class="o">=</span> <span class="n">instrument</span><span class="o">.</span><span class="n">add_component</span><span class="p">(</span><span class="s2">&quot;YBaCuO&quot;</span><span class="p">,</span> <span class="s2">&quot;Union_make_material&quot;</span><span class="p">)</span>
<span class="n">YBaCuO</span><span class="o">.</span><span class="n">process_string</span> <span class="o">=</span> <span class="s1">&#39;&quot;YBaCuO_incoherent,YBaCuO_crystal&quot;&#39;</span>
<span class="n">YBaCuO</span><span class="o">.</span><span class="n">my_absorption</span> <span class="o">=</span> <span class="mi">100</span><span class="o">*</span><span class="mf">14.82</span><span class="o">/</span><span class="mf">173.28</span>

<span class="n">src</span> <span class="o">=</span> <span class="n">instrument</span><span class="o">.</span><span class="n">add_component</span><span class="p">(</span><span class="s2">&quot;source&quot;</span><span class="p">,</span> <span class="s2">&quot;Source_div&quot;</span><span class="p">)</span>
<span class="n">src</span><span class="o">.</span><span class="n">xwidth</span> <span class="o">=</span> <span class="mf">0.01</span>
<span class="n">src</span><span class="o">.</span><span class="n">yheight</span> <span class="o">=</span> <span class="mf">0.035</span>
<span class="n">src</span><span class="o">.</span><span class="n">focus_aw</span> <span class="o">=</span> <span class="mf">0.01</span>
<span class="n">src</span><span class="o">.</span><span class="n">focus_ah</span> <span class="o">=</span> <span class="mf">0.01</span>
<span class="n">src</span><span class="o">.</span><span class="n">lambda0</span> <span class="o">=</span> <span class="n">instrument</span><span class="o">.</span><span class="n">add_parameter</span><span class="p">(</span><span class="s2">&quot;wavelength&quot;</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="mf">5.0</span><span class="p">,</span>
                                       <span class="n">comment</span><span class="o">=</span><span class="s2">&quot;Wavelength in [Ang]&quot;</span><span class="p">)</span>
<span class="n">src</span><span class="o">.</span><span class="n">dlambda</span> <span class="o">=</span> <span class="s2">&quot;0.01*wavelength&quot;</span>
<span class="n">src</span><span class="o">.</span><span class="n">flux</span> <span class="o">=</span> <span class="mf">1E13</span>

<span class="c1"># At a reference point to build the cryostat around</span>
<span class="n">cryostat_center</span> <span class="o">=</span> <span class="n">instrument</span><span class="o">.</span><span class="n">add_component</span><span class="p">(</span><span class="s2">&quot;cryostat_center&quot;</span><span class="p">,</span> <span class="s2">&quot;Arm&quot;</span><span class="p">)</span>
<span class="n">cryostat_center</span><span class="o">.</span><span class="n">set_AT</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">RELATIVE</span><span class="o">=</span><span class="n">src</span><span class="p">)</span>

<span class="c1"># Parameter for controlling sample rotation</span>
<span class="n">A3_angle</span> <span class="o">=</span> <span class="n">instrument</span><span class="o">.</span><span class="n">add_parameter</span><span class="p">(</span><span class="s2">&quot;A3_angle&quot;</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

<span class="n">sample</span> <span class="o">=</span> <span class="n">instrument</span><span class="o">.</span><span class="n">add_component</span><span class="p">(</span><span class="s2">&quot;sample&quot;</span><span class="p">,</span> <span class="s2">&quot;Union_box&quot;</span><span class="p">)</span>
<span class="n">sample</span><span class="o">.</span><span class="n">set_AT</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">RELATIVE</span><span class="o">=</span><span class="n">cryostat_center</span><span class="p">)</span>
<span class="n">sample</span><span class="o">.</span><span class="n">set_ROTATED</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="n">A3_angle</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">RELATIVE</span><span class="o">=</span><span class="n">cryostat_center</span><span class="p">)</span>
<span class="n">sample</span><span class="o">.</span><span class="n">xwidth</span> <span class="o">=</span> <span class="mf">0.015</span>
<span class="n">sample</span><span class="o">.</span><span class="n">yheight</span> <span class="o">=</span> <span class="mf">0.032</span>
<span class="n">sample</span><span class="o">.</span><span class="n">zdepth</span> <span class="o">=</span> <span class="mf">0.012</span>
<span class="n">sample</span><span class="o">.</span><span class="n">material_string</span> <span class="o">=</span> <span class="s1">&#39;&quot;YBaCuO&quot;&#39;</span>
<span class="n">sample</span><span class="o">.</span><span class="n">priority</span> <span class="o">=</span> <span class="mi">200</span>

<span class="c1"># Setting up two layers of cryostat</span>
<span class="n">inner_cryostat_wall</span> <span class="o">=</span> <span class="n">instrument</span><span class="o">.</span><span class="n">add_component</span><span class="p">(</span><span class="s2">&quot;inner_cryostat_wall&quot;</span><span class="p">,</span> <span class="s2">&quot;Union_cylinder&quot;</span><span class="p">)</span>
<span class="n">inner_cryostat_wall</span><span class="o">.</span><span class="n">material_string</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="se">\&quot;</span><span class="s2">Al</span><span class="se">\&quot;</span><span class="s2">&quot;</span>
<span class="n">inner_cryostat_wall</span><span class="o">.</span><span class="n">priority</span> <span class="o">=</span> <span class="mi">12</span>
<span class="n">inner_cryostat_wall</span><span class="o">.</span><span class="n">radius</span> <span class="o">=</span> <span class="mf">0.0621</span>
<span class="n">inner_cryostat_wall</span><span class="o">.</span><span class="n">yheight</span> <span class="o">=</span> <span class="mf">0.16</span>
<span class="n">inner_cryostat_wall</span><span class="o">.</span><span class="n">p_interact</span> <span class="o">=</span> <span class="mf">0.20</span>
<span class="n">inner_cryostat_wall</span><span class="o">.</span><span class="n">set_AT</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mf">0.01</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">RELATIVE</span><span class="o">=</span><span class="n">cryostat_center</span><span class="p">)</span>

<span class="n">inner_cryostat_vacuum</span> <span class="o">=</span> <span class="n">instrument</span><span class="o">.</span><span class="n">add_component</span><span class="p">(</span><span class="s2">&quot;inner_cryostat_vacuum&quot;</span><span class="p">,</span> <span class="s2">&quot;Union_cylinder&quot;</span><span class="p">)</span>
<span class="n">inner_cryostat_vacuum</span><span class="o">.</span><span class="n">material_string</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="se">\&quot;</span><span class="s2">Vacuum</span><span class="se">\&quot;</span><span class="s2">&quot;</span>
<span class="n">inner_cryostat_vacuum</span><span class="o">.</span><span class="n">priority</span> <span class="o">=</span> <span class="mi">13</span>
<span class="n">inner_cryostat_vacuum</span><span class="o">.</span><span class="n">radius</span> <span class="o">=</span> <span class="mf">0.06</span>
<span class="n">inner_cryostat_vacuum</span><span class="o">.</span><span class="n">yheight</span> <span class="o">=</span> <span class="mf">0.15</span>
<span class="n">inner_cryostat_vacuum</span><span class="o">.</span><span class="n">set_AT</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mf">0.01</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">RELATIVE</span><span class="o">=</span><span class="n">cryostat_center</span><span class="p">)</span>

<span class="n">outer_cryostat_wall</span> <span class="o">=</span> <span class="n">instrument</span><span class="o">.</span><span class="n">add_component</span><span class="p">(</span><span class="s2">&quot;outer_cryostat_wall&quot;</span><span class="p">,</span> <span class="s2">&quot;Union_cylinder&quot;</span><span class="p">)</span>
<span class="n">outer_cryostat_wall</span><span class="o">.</span><span class="n">material_string</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="se">\&quot;</span><span class="s2">Al</span><span class="se">\&quot;</span><span class="s2">&quot;</span>
<span class="n">outer_cryostat_wall</span><span class="o">.</span><span class="n">priority</span> <span class="o">=</span> <span class="mi">10</span>
<span class="n">outer_cryostat_wall</span><span class="o">.</span><span class="n">radius</span> <span class="o">=</span> <span class="mf">0.180</span>
<span class="n">outer_cryostat_wall</span><span class="o">.</span><span class="n">yheight</span> <span class="o">=</span> <span class="mf">0.355</span>
<span class="n">outer_cryostat_wall</span><span class="o">.</span><span class="n">p_interact</span> <span class="o">=</span> <span class="mf">0.20</span>
<span class="n">outer_cryostat_wall</span><span class="o">.</span><span class="n">set_AT</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mf">0.032</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">RELATIVE</span><span class="o">=</span><span class="n">cryostat_center</span><span class="p">)</span>

<span class="n">outer_cryostat_vacuum</span> <span class="o">=</span> <span class="n">instrument</span><span class="o">.</span><span class="n">add_component</span><span class="p">(</span><span class="s2">&quot;outer_cryostat_vacuum&quot;</span><span class="p">,</span> <span class="s2">&quot;Union_cylinder&quot;</span><span class="p">)</span>
<span class="n">outer_cryostat_vacuum</span><span class="o">.</span><span class="n">material_string</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="se">\&quot;</span><span class="s2">Vacuum</span><span class="se">\&quot;</span><span class="s2">&quot;</span>
<span class="n">outer_cryostat_vacuum</span><span class="o">.</span><span class="n">priority</span> <span class="o">=</span> <span class="mi">11</span>
<span class="n">outer_cryostat_vacuum</span><span class="o">.</span><span class="n">radius</span> <span class="o">=</span> <span class="mf">0.178</span>
<span class="n">outer_cryostat_vacuum</span><span class="o">.</span><span class="n">yheight</span> <span class="o">=</span> <span class="mf">0.355</span>
<span class="n">outer_cryostat_vacuum</span><span class="o">.</span><span class="n">set_AT</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mf">0.037</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">RELATIVE</span><span class="o">=</span><span class="n">cryostat_center</span><span class="p">)</span>

<span class="c1"># Set up loggers</span>
<span class="n">logger_space_zx</span> <span class="o">=</span> <span class="n">instrument</span><span class="o">.</span><span class="n">add_component</span><span class="p">(</span><span class="s2">&quot;logger_space_zx&quot;</span><span class="p">,</span> <span class="s2">&quot;Union_logger_2D_space&quot;</span><span class="p">)</span>
<span class="n">logger_space_zx</span><span class="o">.</span><span class="n">n1</span> <span class="o">=</span> <span class="mi">150</span>
<span class="n">logger_space_zx</span><span class="o">.</span><span class="n">n2</span> <span class="o">=</span> <span class="mi">150</span>
<span class="n">logger_space_zx</span><span class="o">.</span><span class="n">D1_min</span> <span class="o">=</span> <span class="o">-</span><span class="mf">0.2</span>
<span class="n">logger_space_zx</span><span class="o">.</span><span class="n">D1_max</span> <span class="o">=</span> <span class="mf">0.2</span>
<span class="n">logger_space_zx</span><span class="o">.</span><span class="n">D2_min</span> <span class="o">=</span> <span class="o">-</span><span class="mf">0.2</span>
<span class="n">logger_space_zx</span><span class="o">.</span><span class="n">D2_max</span> <span class="o">=</span> <span class="mf">0.2</span>
<span class="n">logger_space_zx</span><span class="o">.</span><span class="n">D_direction_1</span> <span class="o">=</span> <span class="s1">&#39;&quot;z&quot;&#39;</span>
<span class="n">logger_space_zx</span><span class="o">.</span><span class="n">D_direction_2</span> <span class="o">=</span> <span class="s1">&#39;&quot;x&quot;&#39;</span>
<span class="n">logger_space_zx</span><span class="o">.</span><span class="n">filename</span> <span class="o">=</span> <span class="s1">&#39;&quot;logger_zx.dat&quot;&#39;</span>
<span class="n">logger_space_zx</span><span class="o">.</span><span class="n">logger_conditional_extend_index</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">logger_space_zx</span><span class="o">.</span><span class="n">set_AT</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">RELATIVE</span><span class="o">=</span><span class="n">cryostat_center</span><span class="p">)</span>

<span class="n">logger_space_zy</span> <span class="o">=</span> <span class="n">instrument</span><span class="o">.</span><span class="n">add_component</span><span class="p">(</span><span class="s2">&quot;logger_space_zy&quot;</span><span class="p">,</span> <span class="s2">&quot;Union_logger_2D_space&quot;</span><span class="p">)</span>
<span class="n">logger_space_zy</span><span class="o">.</span><span class="n">n1</span> <span class="o">=</span> <span class="mi">150</span>
<span class="n">logger_space_zy</span><span class="o">.</span><span class="n">n2</span> <span class="o">=</span> <span class="mi">150</span>
<span class="n">logger_space_zy</span><span class="o">.</span><span class="n">D1_min</span> <span class="o">=</span> <span class="o">-</span><span class="mf">0.2</span>
<span class="n">logger_space_zy</span><span class="o">.</span><span class="n">D1_max</span> <span class="o">=</span> <span class="mf">0.2</span>
<span class="n">logger_space_zy</span><span class="o">.</span><span class="n">D2_min</span> <span class="o">=</span> <span class="o">-</span><span class="mf">0.15</span>
<span class="n">logger_space_zy</span><span class="o">.</span><span class="n">D2_max</span> <span class="o">=</span> <span class="mf">0.2</span>
<span class="n">logger_space_zy</span><span class="o">.</span><span class="n">D_direction_1</span> <span class="o">=</span> <span class="s1">&#39;&quot;z&quot;&#39;</span>
<span class="n">logger_space_zy</span><span class="o">.</span><span class="n">D_direction_2</span> <span class="o">=</span> <span class="s1">&#39;&quot;y&quot;&#39;</span>
<span class="n">logger_space_zy</span><span class="o">.</span><span class="n">filename</span> <span class="o">=</span> <span class="s1">&#39;&quot;logger_zy.dat&quot;&#39;</span>
<span class="n">logger_space_zy</span><span class="o">.</span><span class="n">logger_conditional_extend_index</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">logger_space_zy</span><span class="o">.</span><span class="n">set_AT</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">RELATIVE</span><span class="o">=</span><span class="n">cryostat_center</span><span class="p">)</span>

<span class="n">logger_2DQ</span> <span class="o">=</span> <span class="n">instrument</span><span class="o">.</span><span class="n">add_component</span><span class="p">(</span><span class="s2">&quot;logger_2DQ_sample&quot;</span><span class="p">,</span> <span class="s2">&quot;Union_logger_2DQ&quot;</span><span class="p">)</span>
<span class="n">logger_2DQ</span><span class="o">.</span><span class="n">Q_direction_1</span> <span class="o">=</span> <span class="s1">&#39;&quot;z&quot;&#39;</span>
<span class="n">logger_2DQ</span><span class="o">.</span><span class="n">Q1_min</span> <span class="o">=</span> <span class="o">-</span><span class="mf">4.0</span>
<span class="n">logger_2DQ</span><span class="o">.</span><span class="n">Q1_max</span> <span class="o">=</span> <span class="mf">4.0</span>
<span class="n">logger_2DQ</span><span class="o">.</span><span class="n">n1</span> <span class="o">=</span> <span class="mi">100</span>
<span class="n">logger_2DQ</span><span class="o">.</span><span class="n">Q_direction_2</span> <span class="o">=</span> <span class="s1">&#39;&quot;x&quot;&#39;</span>
<span class="n">logger_2DQ</span><span class="o">.</span><span class="n">Q2_min</span> <span class="o">=</span> <span class="o">-</span><span class="mf">4.0</span>
<span class="n">logger_2DQ</span><span class="o">.</span><span class="n">Q2_max</span> <span class="o">=</span> <span class="mf">4.0</span>
<span class="n">logger_2DQ</span><span class="o">.</span><span class="n">n2</span> <span class="o">=</span> <span class="mi">100</span>
<span class="n">logger_2DQ</span><span class="o">.</span><span class="n">target_geometry</span> <span class="o">=</span> <span class="s1">&#39;&quot;sample&quot;&#39;</span>
<span class="n">logger_2DQ</span><span class="o">.</span><span class="n">filename</span> <span class="o">=</span> <span class="s1">&#39;&quot;logger_2DQ_sample.dat&quot;&#39;</span>

<span class="n">logger_2DQ</span> <span class="o">=</span> <span class="n">instrument</span><span class="o">.</span><span class="n">add_component</span><span class="p">(</span><span class="s2">&quot;logger_2DQ_environment&quot;</span><span class="p">,</span> <span class="s2">&quot;Union_logger_2DQ&quot;</span><span class="p">)</span>
<span class="n">logger_2DQ</span><span class="o">.</span><span class="n">Q_direction_1</span> <span class="o">=</span> <span class="s1">&#39;&quot;z&quot;&#39;</span>
<span class="n">logger_2DQ</span><span class="o">.</span><span class="n">Q1_min</span> <span class="o">=</span> <span class="o">-</span><span class="mf">4.0</span>
<span class="n">logger_2DQ</span><span class="o">.</span><span class="n">Q1_max</span> <span class="o">=</span> <span class="mf">4.0</span>
<span class="n">logger_2DQ</span><span class="o">.</span><span class="n">n1</span> <span class="o">=</span> <span class="mi">100</span>
<span class="n">logger_2DQ</span><span class="o">.</span><span class="n">Q_direction_2</span> <span class="o">=</span> <span class="s1">&#39;&quot;x&quot;&#39;</span>
<span class="n">logger_2DQ</span><span class="o">.</span><span class="n">Q2_min</span> <span class="o">=</span> <span class="o">-</span><span class="mf">4.0</span>
<span class="n">logger_2DQ</span><span class="o">.</span><span class="n">Q2_max</span> <span class="o">=</span> <span class="mf">4.0</span>
<span class="n">logger_2DQ</span><span class="o">.</span><span class="n">n2</span> <span class="o">=</span> <span class="mi">100</span>
<span class="n">logger_2DQ</span><span class="o">.</span><span class="n">target_geometry</span> <span class="o">=</span> <span class="s1">&#39;&quot;inner_cryostat_wall,outer_cryostat_wall&quot;&#39;</span>
<span class="n">logger_2DQ</span><span class="o">.</span><span class="n">filename</span> <span class="o">=</span> <span class="s1">&#39;&quot;logger_2DQ_all.dat&quot;&#39;</span>

<span class="n">logger_time_all</span> <span class="o">=</span> <span class="n">instrument</span><span class="o">.</span><span class="n">add_component</span><span class="p">(</span><span class="s2">&quot;logger_time_all&quot;</span><span class="p">,</span> <span class="s2">&quot;Union_logger_1D&quot;</span><span class="p">)</span>
<span class="n">logger_time_all</span><span class="o">.</span><span class="n">n1</span> <span class="o">=</span> <span class="mi">600</span>
<span class="n">logger_time_all</span><span class="o">.</span><span class="n">min_value</span> <span class="o">=</span> <span class="mf">0.0008</span>
<span class="n">logger_time_all</span><span class="o">.</span><span class="n">max_value</span> <span class="o">=</span> <span class="mf">0.0015</span>
<span class="n">logger_time_all</span><span class="o">.</span><span class="n">filename</span> <span class="o">=</span> <span class="s1">&#39;&quot;scattering_time.dat&quot;&#39;</span>

<span class="n">master</span> <span class="o">=</span> <span class="n">instrument</span><span class="o">.</span><span class="n">add_component</span><span class="p">(</span><span class="s2">&quot;master&quot;</span><span class="p">,</span> <span class="s2">&quot;Union_master&quot;</span><span class="p">)</span>

<span class="c1"># Adding a banana - tof detector</span>
<span class="n">banana_detector</span> <span class="o">=</span> <span class="n">instrument</span><span class="o">.</span><span class="n">add_component</span><span class="p">(</span><span class="s2">&quot;banana_detector&quot;</span><span class="p">,</span> <span class="s2">&quot;Monitor_nD&quot;</span><span class="p">)</span>
<span class="n">banana_detector</span><span class="o">.</span><span class="n">set_RELATIVE</span><span class="p">(</span><span class="n">cryostat_center</span><span class="p">)</span>
<span class="n">banana_detector</span><span class="o">.</span><span class="n">xwidth</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">banana_detector</span><span class="o">.</span><span class="n">yheight</span> <span class="o">=</span> <span class="mf">0.2</span>
<span class="n">banana_detector</span><span class="o">.</span><span class="n">restore_neutron</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">options</span> <span class="o">=</span> <span class="s1">&#39;&quot;banana, theta limits=[-180,180] bins=361, t limits=[0.0011 0.0025] bins=500&quot;&#39;</span>
<span class="n">banana_detector</span><span class="o">.</span><span class="n">options</span> <span class="o">=</span> <span class="n">options</span>
<span class="n">banana_detector</span><span class="o">.</span><span class="n">filename</span> <span class="o">=</span> <span class="s1">&#39;&quot;tof_b.dat&quot;&#39;</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="calculating-theta">
<h2>Calculating theta<a class="headerlink" href="#calculating-theta" title="Permalink to this headline"></a></h2>
<p>Our YBaCuO sample has the 010 axis along the z axis and have 010 allowed with d = 3.8843. Here we calculate the necessary rotation of the crystal for satisfying the Bragg condition. This could also be done within the initialize section of the McStas instrument, but here we wish to preserve control over the A3_angle.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">math</span>
<span class="n">wavelength</span> <span class="o">=</span> <span class="mf">4.0</span>
<span class="n">theta</span> <span class="o">=</span> <span class="mi">180</span><span class="o">/</span><span class="mf">3.14159</span><span class="o">*</span><span class="n">math</span><span class="o">.</span><span class="n">asin</span><span class="p">(</span><span class="n">wavelength</span><span class="o">/</span><span class="mf">2.0</span><span class="o">/</span><span class="mf">3.8843</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">theta</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>30.99034867589204
</pre></div>
</div>
</div>
</div>
<div class="cell tag_scroll-output docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">instrument</span><span class="o">.</span><span class="n">set_parameters</span><span class="p">(</span><span class="n">wavelength</span><span class="o">=</span><span class="n">wavelength</span><span class="p">,</span> <span class="n">A3_angle</span><span class="o">=</span><span class="n">theta</span><span class="p">)</span>
<span class="n">instrument</span><span class="o">.</span><span class="n">settings</span><span class="p">(</span><span class="n">ncount</span><span class="o">=</span><span class="mf">3E6</span><span class="p">,</span> <span class="n">output_path</span><span class="o">=</span><span class="s2">&quot;data_folder/union_conditionals&quot;</span><span class="p">)</span>

<span class="n">data</span> <span class="o">=</span> <span class="n">instrument</span><span class="o">.</span><span class="n">backengine</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>INFO: Using directory: &quot;/Users/madsbertelsen/PaNOSC/McStasScript/github/McStasScript/docs/source/tutorial/data_folder/union_conditionals&quot;
INFO: Regenerating c-file: python_tutorial.c
CFLAGS= -I@MCCODE_LIB@/share/ -I@MCCODE_LIB@/share/
          INFO: Recompiling: ./python_tutorial.out
mccode-r.c:2837:3: warning: expression result unused [-Wunused-value]
  *t0;
  ^~~
In file included from /Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//contrib/union/Incoherent_process.comp:66:
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//share/Union_functions.c:1604:105: warning: incompatible function pointer types passing &#39;int (const struct saved_history_struct *, const struct saved_history_struct *)&#39; to parameter of type &#39;int (* _Nonnull)(const void *, const void *)&#39; [-Wincompatible-function-pointer-types]
  qsort(total_history.saved_histories,total_history.used_elements,sizeof (struct saved_history_struct), Sample_compare_history_intensities);
                                                                                                        ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include/stdlib.h:161:22: note: passing argument to parameter &#39;__compar&#39; here
            int (* _Nonnull __compar)(const void *, const void *));
                            ^
In file included from /Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//contrib/union/Incoherent_process.comp:66:
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//share/Union_functions.c:1613:20: warning: incompatible pointer types passing &#39;struct saved_history_struct *&#39; to parameter of type &#39;struct dynamic_history_list *&#39; [-Wincompatible-pointer-types]
    printf_history(&amp;total_history.saved_histories[history_iterate]);
                   ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
mccode-r.h:219:27: note: expanded from macro &#39;MPI_MASTER&#39;
#define MPI_MASTER(instr) instr
                          ^~~~~
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//share/Union_functions.c:1434:50: note: passing argument to parameter &#39;history&#39; here
void printf_history(struct dynamic_history_list *history) {
                                                 ^
In file included from /Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//contrib/union/Incoherent_process.comp:66:
In file included from /Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//share/Union_functions.c:2030:
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//share/Geometry_functions.c:839:1: warning: non-void function does not return a value in all control paths [-Wreturn-type]
};
^
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//share/Geometry_functions.c:883:1: warning: non-void function does not return a value [-Wreturn-type]
};
^
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//share/Geometry_functions.c:3274:42: warning: if statement has empty body [-Wempty-body]
    if (dist_to_corner &gt; sphere_2_radius); { sphere_2_radius = dist_to_corner ; }
                                         ^
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//share/Geometry_functions.c:3274:42: note: put the semicolon on a separate line to silence this warning
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//share/Geometry_functions.c:3276:42: warning: if statement has empty body [-Wempty-body]
    if (dist_to_corner &gt; sphere_2_radius); { sphere_2_radius = dist_to_corner ; }
                                         ^
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//share/Geometry_functions.c:3276:42: note: put the semicolon on a separate line to silence this warning
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//share/Geometry_functions.c:3278:42: warning: if statement has empty body [-Wempty-body]
    if (dist_to_corner &gt; sphere_2_radius); { sphere_2_radius = dist_to_corner ; }
                                         ^
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//share/Geometry_functions.c:3278:42: note: put the semicolon on a separate line to silence this warning
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//share/Geometry_functions.c:3280:42: warning: if statement has empty body [-Wempty-body]
    if (dist_to_corner &gt; sphere_2_radius); { sphere_2_radius = dist_to_corner ; }
                                         ^
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//share/Geometry_functions.c:3280:42: note: put the semicolon on a separate line to silence this warning
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//contrib/union/Single_crystal_process.comp:858:1: warning: non-void function does not return a value in all control paths [-Wreturn-type]
};
^
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//contrib/union/Union_logger_2D_space.comp:574:45: warning: format string is not a string literal (potentially insecure) [-Wformat-security]
  sprintf(this_storage.Detector_2D.Filename,filename);
                                            ^~~~~~~~
./python_tutorial.c:17772:18: note: expanded from macro &#39;filename&#39;
#define filename mcclogger_space_zx_filename
                 ^~~~~~~~~~~~~~~~~~~~~~~~~~~
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include/secure/_stdio.h:47:56: note: expanded from macro &#39;sprintf&#39;
  __builtin___sprintf_chk (str, 0, __darwin_obsz(str), __VA_ARGS__)
                                                       ^~~~~~~~~~~
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//contrib/union/Union_logger_2D_space.comp:574:45: note: treat the string as an argument to avoid this
  sprintf(this_storage.Detector_2D.Filename,filename);
                                            ^
                                            &quot;%s&quot;, 
./python_tutorial.c:17772:18: note: expanded from macro &#39;filename&#39;
#define filename mcclogger_space_zx_filename
                 ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include/secure/_stdio.h:47:56: note: expanded from macro &#39;sprintf&#39;
  __builtin___sprintf_chk (str, 0, __darwin_obsz(str), __VA_ARGS__)
                                                       ^
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//contrib/union/Union_logger_2D_space.comp:574:45: warning: format string is not a string literal (potentially insecure) [-Wformat-security]
  sprintf(this_storage.Detector_2D.Filename,filename);
                                            ^~~~~~~~
./python_tutorial.c:18015:18: note: expanded from macro &#39;filename&#39;
#define filename mcclogger_space_zy_filename
                 ^~~~~~~~~~~~~~~~~~~~~~~~~~~
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include/secure/_stdio.h:47:56: note: expanded from macro &#39;sprintf&#39;
  __builtin___sprintf_chk (str, 0, __darwin_obsz(str), __VA_ARGS__)
                                                       ^~~~~~~~~~~
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//contrib/union/Union_logger_2D_space.comp:574:45: note: treat the string as an argument to avoid this
  sprintf(this_storage.Detector_2D.Filename,filename);
                                            ^
                                            &quot;%s&quot;, 
./python_tutorial.c:18015:18: note: expanded from macro &#39;filename&#39;
#define filename mcclogger_space_zy_filename
                 ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include/secure/_stdio.h:47:56: note: expanded from macro &#39;sprintf&#39;
  __builtin___sprintf_chk (str, 0, __darwin_obsz(str), __VA_ARGS__)
                                                       ^
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//contrib/union/Union_logger_2DQ.comp:535:45: warning: format string is not a string literal (potentially insecure) [-Wformat-security]
  sprintf(this_storage.Detector_2D.Filename,filename);
                                            ^~~~~~~~
./python_tutorial.c:18258:18: note: expanded from macro &#39;filename&#39;
#define filename mcclogger_2DQ_sample_filename
                 ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include/secure/_stdio.h:47:56: note: expanded from macro &#39;sprintf&#39;
  __builtin___sprintf_chk (str, 0, __darwin_obsz(str), __VA_ARGS__)
                                                       ^~~~~~~~~~~
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//contrib/union/Union_logger_2DQ.comp:535:45: note: treat the string as an argument to avoid this
  sprintf(this_storage.Detector_2D.Filename,filename);
                                            ^
                                            &quot;%s&quot;, 
./python_tutorial.c:18258:18: note: expanded from macro &#39;filename&#39;
#define filename mcclogger_2DQ_sample_filename
                 ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include/secure/_stdio.h:47:56: note: expanded from macro &#39;sprintf&#39;
  __builtin___sprintf_chk (str, 0, __darwin_obsz(str), __VA_ARGS__)
                                                       ^
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//contrib/union/Union_logger_2DQ.comp:535:45: warning: format string is not a string literal (potentially insecure) [-Wformat-security]
  sprintf(this_storage.Detector_2D.Filename,filename);
                                            ^~~~~~~~
./python_tutorial.c:18488:18: note: expanded from macro &#39;filename&#39;
#define filename mcclogger_2DQ_environment_filename
                 ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include/secure/_stdio.h:47:56: note: expanded from macro &#39;sprintf&#39;
  __builtin___sprintf_chk (str, 0, __darwin_obsz(str), __VA_ARGS__)
                                                       ^~~~~~~~~~~
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//contrib/union/Union_logger_2DQ.comp:535:45: note: treat the string as an argument to avoid this
  sprintf(this_storage.Detector_2D.Filename,filename);
                                            ^
                                            &quot;%s&quot;, 
./python_tutorial.c:18488:18: note: expanded from macro &#39;filename&#39;
#define filename mcclogger_2DQ_environment_filename
                 ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include/secure/_stdio.h:47:56: note: expanded from macro &#39;sprintf&#39;
  __builtin___sprintf_chk (str, 0, __darwin_obsz(str), __VA_ARGS__)
                                                       ^
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//contrib/union/Union_logger_1D.comp:479:45: warning: format string is not a string literal (potentially insecure) [-Wformat-security]
  sprintf(this_storage.Detector_1D.Filename,filename);
                                            ^~~~~~~~
./python_tutorial.c:18714:18: note: expanded from macro &#39;filename&#39;
#define filename mcclogger_time_all_filename
                 ^~~~~~~~~~~~~~~~~~~~~~~~~~~
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include/secure/_stdio.h:47:56: note: expanded from macro &#39;sprintf&#39;
  __builtin___sprintf_chk (str, 0, __darwin_obsz(str), __VA_ARGS__)
                                                       ^~~~~~~~~~~
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//contrib/union/Union_logger_1D.comp:479:45: note: treat the string as an argument to avoid this
  sprintf(this_storage.Detector_1D.Filename,filename);
                                            ^
                                            &quot;%s&quot;, 
./python_tutorial.c:18714:18: note: expanded from macro &#39;filename&#39;
#define filename mcclogger_time_all_filename
                 ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include/secure/_stdio.h:47:56: note: expanded from macro &#39;sprintf&#39;
  __builtin___sprintf_chk (str, 0, __darwin_obsz(str), __VA_ARGS__)
                                                       ^
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//contrib/union/Union_master.comp:788:15: warning: left operand of comma operator has no effect [-Wunused-value]
          if (volume_index_main,Volumes[volume_index_main]-&gt;geometry.is_mask_volume == 0 ||
              ^~~~~~~~~~~~~~~~~
mccode-r.h:219:27: note: expanded from macro &#39;MPI_MASTER&#39;
#define MPI_MASTER(instr) instr
                          ^~~~~
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//contrib/union/Union_master.comp:788:90: warning: left operand of comma operator has no effect [-Wunused-value]
          if (volume_index_main,Volumes[volume_index_main]-&gt;geometry.is_mask_volume == 0 ||
          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~
mccode-r.h:219:27: note: expanded from macro &#39;MPI_MASTER&#39;
#define MPI_MASTER(instr) instr
                          ^~~~~
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//contrib/union/Union_master.comp:789:92: warning: left operand of comma operator has no effect [-Wunused-value]
              volume_index_main,Volumes[volume_index_main]-&gt;geometry.is_masked_volume == 0 ||
              ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~
mccode-r.h:219:27: note: expanded from macro &#39;MPI_MASTER&#39;
#define MPI_MASTER(instr) instr
                          ^~~~~
18 warnings generated.
INFO: ===
Opening input file &#39;/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//data/Al.laz&#39; (Table_Read_Offset)
Table from file &#39;Al.laz&#39; (block 1) is 26 x 18 (x=1:8), constant step. interpolation: linear
  &#39;# TITLE *Aluminum-Al-[FM3-M] Miller, H.P.jr.;DuMond, J.W.M.[1942] at 298 K; ...&#39;
PowderN: Al_powder: Reading 26 rows from Al.laz
PowderN: Al_powder: Read 26 reflections from file &#39;Al.laz&#39;
PowderN: Al_powder: Vc=66.4 [Angs] sigma_abs=0.924 [barn] sigma_inc=0.0328 [barn] reflections=Al.laz
Opening input file &#39;/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//data/YBaCuO.lau&#39; (Table_Read_Offset)
Single_crystal: YBaCuO.lau structure a=[3.816,0,0] b=[0,3.886,0] c=[0,0,11.677] V0=173.158
Single_crystal_process: YBaCuO_crystal: Read 62 reflections from file &#39;YBaCuO.lau&#39;
Single_crystal: YBaCuO_crystal: Vc=173.158 [Angs] sigma_abs=14.82 [barn] sigma_inc=2.105 [barn] reflections=YBaCuO.lau
---------------------------------------------------------------------
global_process_list.num_elements: 4
name of process [0]: Al_incoherent 
component index [0]: 1 
name of process [1]: Al_powder 
component index [1]: 2 
name of process [2]: YBaCuO_incoherent 
component index [2]: 4 
name of process [3]: YBaCuO_crystal 
component index [3]: 5 
---------------------------------------------------------------------
global_material_list.num_elements: 2
name of material    [0]: Al 
component index     [0]: 3 
my_absoprtion       [0]: 1.391566 
number of processes [0]: 2 
name of material    [1]: YBaCuO 
component index     [1]: 6 
my_absoprtion       [1]: 8.552630 
number of processes [1]: 2 
---------------------------------------------------------------------
global_geometry_list.num_elements: 2

name of geometry    [0]: sample 
component index     [0]: 9 
Volume.name         [0]: sample 
Volume.p_physics.is_vacuum           [0]: 0 
Volume.p_physics.my_absorption       [0]: 8.552630 
Volume.p_physics.number of processes [0]: 2 
Volume.geometry.shape                [0]: box 
Volume.geometry.center.x             [0]: 0.000000 
Volume.geometry.center.y             [0]: 0.000000 
Volume.geometry.center.z             [0]: 1.000000 
Volume.geometry.rotation_matrix[0]           [0]: [0.857254 0.000000 -0.514894] 
Volume.geometry.rotation_matrix[1]           [0]: [-0.000000 1.000000 0.000000] 
Volume.geometry.rotation_matrix[2]           [0]: [0.514894 -0.000000 0.857254] 
Volume.geometry.focus_data_array.elements[0].Aim             [0]: [0.000000 0.000000 1.000000] 

name of geometry    [1]: inner_cryostat_wall 
component index     [1]: 10 
Volume.name         [1]: inner_cryostat_wall 
Volume.p_physics.is_vacuum           [1]: 0 
Volume.p_physics.my_absorption       [1]: 1.391566 
Volume.p_physics.number of processes [1]: 2 
Volume.geometry.shape                [1]: cylinder 
Volume.geometry.center.x             [1]: 0.000000 
Volume.geometry.center.y             [1]: 0.010000 
Volume.geometry.center.z             [1]: 1.000000 
Volume.geometry.rotation_matrix[0]           [1]: [1.000000 0.000000 0.000000] 
Volume.geometry.rotation_matrix[1]           [1]: [0.000000 1.000000 0.000000] 
Volume.geometry.rotation_matrix[2]           [1]: [0.000000 0.000000 1.000000] 
Volume.geometry.geometry_parameters.cyl_radius [1]: 0.062100 
Volume.geometry.geometry_parameters.height [1]: 0.160000 
Volume.geometry.focus_data_array.elements[0].Aim             [1]: [0.000000 0.000000 1.000000] 

name of geometry    [2]: inner_cryostat_vacuum 
component index     [2]: 11 
Volume.name         [2]: inner_cryostat_vacuum 
Volume.p_physics.is_vacuum           [2]: 1 
Volume.p_physics.my_absorption       [2]: 0.000000 
Volume.p_physics.number of processes [2]: 0 
Volume.geometry.shape                [2]: cylinder 
Volume.geometry.center.x             [2]: 0.000000 
Volume.geometry.center.y             [2]: 0.010000 
Volume.geometry.center.z             [2]: 1.000000 
Volume.geometry.rotation_matrix[0]           [2]: [1.000000 0.000000 0.000000] 
Volume.geometry.rotation_matrix[1]           [2]: [0.000000 1.000000 0.000000] 
Volume.geometry.rotation_matrix[2]           [2]: [0.000000 0.000000 1.000000] 
Volume.geometry.geometry_parameters.cyl_radius [2]: 0.060000 
Volume.geometry.geometry_parameters.height [2]: 0.150000 
Volume.geometry.focus_data_array.elements[0].Aim             [2]: [0.000000 0.000000 1.000000] 

name of geometry    [3]: outer_cryostat_wall 
component index     [3]: 12 
Volume.name         [3]: outer_cryostat_wall 
Volume.p_physics.is_vacuum           [3]: 0 
Volume.p_physics.my_absorption       [3]: 1.391566 
Volume.p_physics.number of processes [3]: 2 
Volume.geometry.shape                [3]: cylinder 
Volume.geometry.center.x             [3]: 0.000000 
Volume.geometry.center.y             [3]: 0.032000 
Volume.geometry.center.z             [3]: 1.000000 
Volume.geometry.rotation_matrix[0]           [3]: [1.000000 0.000000 0.000000] 
Volume.geometry.rotation_matrix[1]           [3]: [0.000000 1.000000 0.000000] 
Volume.geometry.rotation_matrix[2]           [3]: [0.000000 0.000000 1.000000] 
Volume.geometry.geometry_parameters.cyl_radius [3]: 0.180000 
Volume.geometry.geometry_parameters.height [3]: 0.355000 
Volume.geometry.focus_data_array.elements[0].Aim             [3]: [0.000000 0.000000 1.000000] 

name of geometry    [4]: outer_cryostat_vacuum 
component index     [4]: 13 
Volume.name         [4]: outer_cryostat_vacuum 
Volume.p_physics.is_vacuum           [4]: 1 
Volume.p_physics.my_absorption       [4]: 0.000000 
Volume.p_physics.number of processes [4]: 0 
Volume.geometry.shape                [4]: cylinder 
Volume.geometry.center.x             [4]: 0.000000 
Volume.geometry.center.y             [4]: 0.037000 
Volume.geometry.center.z             [4]: 1.000000 
Volume.geometry.rotation_matrix[0]           [4]: [1.000000 0.000000 0.000000] 
Volume.geometry.rotation_matrix[1]           [4]: [0.000000 1.000000 0.000000] 
Volume.geometry.rotation_matrix[2]           [4]: [0.000000 0.000000 1.000000] 
Volume.geometry.geometry_parameters.cyl_radius [4]: 0.178000 
Volume.geometry.geometry_parameters.height [4]: 0.355000 
Volume.geometry.focus_data_array.elements[0].Aim             [4]: [0.000000 0.000000 1.000000] 
---------------------------------------------------------------------
number_of_volumes = 6
number_of_masks = 0
number_of_masked_volumes = 0

 ---- Overview of the lists generated for each volume ---- 
List overview for surrounding vacuum
LIST: Children for Volume                  0 = [1,2,3,4,5]
LIST: Direct_children for Volume           0 = [4,5]
LIST: Intersect_check_list for Volume      0 = [4,5]
LIST: Mask_intersect_list for Volume       0 = []
LIST: Destinations_list for Volume         0 = []
LIST: Reduced_destinations_list for Volume 0 = []
LIST: Next_volume_list for Volume          0 = [4,5]
LIST: mask_list for Volume                 0 = []
LIST: masked_by_list for Volume            0 = []
LIST: masked_by_mask_index_list for Volume 0 = []
      mask_mode for Volume                 0 = 0

List overview for sample with box shape made of YBaCuO
LIST: Children for Volume                  1 = []
LIST: Direct_children for Volume           1 = []
LIST: Intersect_check_list for Volume      1 = []
LIST: Mask_intersect_list for Volume       1 = []
LIST: Destinations_list for Volume         1 = [3]
LIST: Reduced_destinations_list for Volume 1 = [3]
LIST: Next_volume_list for Volume          1 = [3]
      Is_vacuum for Volume                 1 = 0
      is_mask_volume for Volume            1 = 0
      is_masked_volume for Volume          1 = 0
      is_exit_volume for Volume            1 = 0
LIST: mask_list for Volume                 1 = []
LIST: masked_by_list for Volume            1 = []
LIST: masked_by_mask_index_list for Volume 1 = []
      mask_mode for Volume                 1 = 0

List overview for inner_cryostat_wall with cylinder shape made of Al
LIST: Children for Volume                  2 = [1,3]
LIST: Direct_children for Volume           2 = [3]
LIST: Intersect_check_list for Volume      2 = [3]
LIST: Mask_intersect_list for Volume       2 = []
LIST: Destinations_list for Volume         2 = [5]
LIST: Reduced_destinations_list for Volume 2 = [5]
LIST: Next_volume_list for Volume          2 = [5,3]
      Is_vacuum for Volume                 2 = 0
      is_mask_volume for Volume            2 = 0
      is_masked_volume for Volume          2 = 0
      is_exit_volume for Volume            2 = 0
LIST: mask_list for Volume                 2 = []
LIST: masked_by_list for Volume            2 = []
LIST: masked_by_mask_index_list for Volume 2 = []
      mask_mode for Volume                 2 = 0

List overview for inner_cryostat_vacuum with cylinder shape made of Vacuum
LIST: Children for Volume                  3 = [1]
LIST: Direct_children for Volume           3 = [1]
LIST: Intersect_check_list for Volume      3 = [1]
LIST: Mask_intersect_list for Volume       3 = []
LIST: Destinations_list for Volume         3 = [2]
LIST: Reduced_destinations_list for Volume 3 = [2]
LIST: Next_volume_list for Volume          3 = [2,1]
      Is_vacuum for Volume                 3 = 1
      is_mask_volume for Volume            3 = 0
      is_masked_volume for Volume          3 = 0
      is_exit_volume for Volume            3 = 0
LIST: mask_list for Volume                 3 = []
LIST: masked_by_list for Volume            3 = []
LIST: masked_by_mask_index_list for Volume 3 = []
      mask_mode for Volume                 3 = 0

List overview for outer_cryostat_wall with cylinder shape made of Al
LIST: Children for Volume                  4 = [1,2,3]
LIST: Direct_children for Volume           4 = [2]
LIST: Intersect_check_list for Volume      4 = [5]
LIST: Mask_intersect_list for Volume       4 = []
LIST: Destinations_list for Volume         4 = [0]
LIST: Reduced_destinations_list for Volume 4 = []
LIST: Next_volume_list for Volume          4 = [0,5]
      Is_vacuum for Volume                 4 = 0
      is_mask_volume for Volume            4 = 0
      is_masked_volume for Volume          4 = 0
      is_exit_volume for Volume            4 = 0
LIST: mask_list for Volume                 4 = []
LIST: masked_by_list for Volume            4 = []
LIST: masked_by_mask_index_list for Volume 4 = []
      mask_mode for Volume                 4 = 0

List overview for outer_cryostat_vacuum with cylinder shape made of Vacuum
LIST: Children for Volume                  5 = [1,2,3]
LIST: Direct_children for Volume           5 = [2]
LIST: Intersect_check_list for Volume      5 = [2]
LIST: Mask_intersect_list for Volume       5 = []
LIST: Destinations_list for Volume         5 = [0,4]
LIST: Reduced_destinations_list for Volume 5 = [4]
LIST: Next_volume_list for Volume          5 = [0,4,2]
      Is_vacuum for Volume                 5 = 1
      is_mask_volume for Volume            5 = 0
      is_masked_volume for Volume          5 = 0
      is_exit_volume for Volume            5 = 0
LIST: mask_list for Volume                 5 = []
LIST: masked_by_list for Volume            5 = []
LIST: masked_by_mask_index_list for Volume 5 = []
      mask_mode for Volume                 5 = 0

Union_master component master initialized sucessfully
Detector: logger_space_zx_I=3.59196e+06 logger_space_zx_ERR=3615.37 logger_space_zx_N=1.07448e+08 &quot;logger_zx.dat&quot;
Detector: logger_space_zy_I=3.59196e+06 logger_space_zy_ERR=3615.37 logger_space_zy_N=1.07445e+08 &quot;logger_zy.dat&quot;
Detector: logger_2DQ_sample_I=3.58591e+06 logger_2DQ_sample_ERR=3615.37 logger_2DQ_sample_N=1.04708e+08 &quot;logger_2DQ_sample.dat&quot;
Detector: logger_2DQ_environment_I=6057 logger_2DQ_environment_ERR=4.64249 logger_2DQ_environment_N=2.74008e+06 &quot;logger_2DQ_all.dat&quot;
Detector: logger_time_all_I=3.59193e+06 logger_time_all_ERR=3615.37 logger_time_all_N=1.07313e+08 &quot;scattering_time.dat&quot;
Detector: banana_detector_I=63452 banana_detector_ERR=57.7403 banana_detector_N=1.80269e+06 &quot;tof_b.dat&quot;
INFO: Placing instr file copy python_tutorial.instr in dataset /Users/madsbertelsen/PaNOSC/McStasScript/github/McStasScript/docs/source/tutorial/data_folder/union_conditionals
loading system configuration
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">logger_zx</span> <span class="o">=</span> <span class="n">ms</span><span class="o">.</span><span class="n">name_search</span><span class="p">(</span><span class="s2">&quot;logger_space_zx&quot;</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span>
<span class="n">logger_zx</span><span class="o">.</span><span class="n">set_plot_options</span><span class="p">(</span><span class="n">log</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">orders_of_mag</span><span class="o">=</span><span class="mi">9</span><span class="p">,</span> <span class="n">colormap</span><span class="o">=</span><span class="s2">&quot;jet&quot;</span><span class="p">)</span>

<span class="n">logger_zy</span> <span class="o">=</span> <span class="n">ms</span><span class="o">.</span><span class="n">name_search</span><span class="p">(</span><span class="s2">&quot;logger_space_zy&quot;</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span>
<span class="n">logger_zy</span><span class="o">.</span><span class="n">set_plot_options</span><span class="p">(</span><span class="n">log</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">orders_of_mag</span><span class="o">=</span><span class="mi">9</span><span class="p">,</span> <span class="n">colormap</span><span class="o">=</span><span class="s2">&quot;jet&quot;</span><span class="p">)</span>

<span class="n">logger_2DQ_sample</span> <span class="o">=</span> <span class="n">ms</span><span class="o">.</span><span class="n">name_search</span><span class="p">(</span><span class="s2">&quot;logger_2DQ_sample&quot;</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span>
<span class="n">logger_2DQ_sample</span><span class="o">.</span><span class="n">set_plot_options</span><span class="p">(</span><span class="n">log</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">orders_of_mag</span><span class="o">=</span><span class="mi">9</span><span class="p">,</span> <span class="n">colormap</span><span class="o">=</span><span class="s2">&quot;YlOrRd&quot;</span><span class="p">)</span>

<span class="n">logger_2DQ_env</span> <span class="o">=</span> <span class="n">ms</span><span class="o">.</span><span class="n">name_search</span><span class="p">(</span><span class="s2">&quot;logger_2DQ_environment&quot;</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span>
<span class="n">logger_2DQ_env</span><span class="o">.</span><span class="n">set_plot_options</span><span class="p">(</span><span class="n">log</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">orders_of_mag</span><span class="o">=</span><span class="mi">9</span><span class="p">,</span> <span class="n">colormap</span><span class="o">=</span><span class="s2">&quot;YlOrRd&quot;</span><span class="p">)</span>

<span class="n">ms</span><span class="o">.</span><span class="n">make_sub_plot</span><span class="p">([</span><span class="n">logger_zx</span><span class="p">,</span> <span class="n">logger_zy</span><span class="p">,</span> <span class="n">logger_2DQ_sample</span><span class="p">,</span> <span class="n">logger_2DQ_env</span><span class="p">],</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>

<span class="n">time</span> <span class="o">=</span> <span class="n">ms</span><span class="o">.</span><span class="n">name_search</span><span class="p">(</span><span class="s2">&quot;logger_time_all&quot;</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span>
<span class="n">time</span><span class="o">.</span><span class="n">set_plot_options</span><span class="p">(</span><span class="n">log</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">ms</span><span class="o">.</span><span class="n">make_sub_plot</span><span class="p">([</span><span class="n">time</span><span class="p">],</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">18</span><span class="p">)</span>

<span class="n">banana</span> <span class="o">=</span> <span class="n">ms</span><span class="o">.</span><span class="n">name_search</span><span class="p">(</span><span class="s2">&quot;banana_detector&quot;</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span>
<span class="n">banana</span><span class="o">.</span><span class="n">set_plot_options</span><span class="p">(</span><span class="n">log</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">orders_of_mag</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span> <span class="n">cut_max</span><span class="o">=</span><span class="mf">0.001</span><span class="p">)</span>
<span class="n">ms</span><span class="o">.</span><span class="n">make_sub_plot</span><span class="p">([</span><span class="n">banana</span><span class="p">],</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">18</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/Union_tutorial_4_conditionals_7_0.png" src="../_images/Union_tutorial_4_conditionals_7_0.png" />
<img alt="../_images/Union_tutorial_4_conditionals_7_1.png" src="../_images/Union_tutorial_4_conditionals_7_1.png" />
<img alt="../_images/Union_tutorial_4_conditionals_7_2.png" src="../_images/Union_tutorial_4_conditionals_7_2.png" />
</div>
</div>
</div>
<div class="section" id="interpretation-of-the-data">
<h2>Interpretation of the data<a class="headerlink" href="#interpretation-of-the-data" title="Permalink to this headline"></a></h2>
<p>The data from the two spatial loggers show scattering location within the cryostat, and we see one beam entering the cryostat, yet two beams leaving as we satisfy the Bragg condition for the sample. This also result in scattering from when the scattered beam intersect the sample environment.</p>
<p>We have two 2DQ loggers recording the scattering vector, one just for the sample and one for the sample environment. On the sample monitor we see that many Bragg peaks scatter some intensity, but 010 and 0-10 have the most intensity, they are at [0.9, -1.5] and [1.5, -0.9]. The two circles are incoherent scattering from the two most common wavevectors, the initial beam and the beam scattered from 010. On the 2DQ logger for the sample environment, we mainly see the Debye-Scherrer cones as lines within the circles defined by the two predominant wavevectors. It seems the used wavelength allows two different Bragg conditions to be met in the aluminium.</p>
<p>The time logger show a surprising amount of complexity. The 5 peaks from entering and exiting two layers and intersecting the sample are clear, but all structure after 0.0012 is a surprise. There is also an unexpected peak at 0.00115, this may be the scattered beam intersecting the outer layer of the cryostat, this happens a bit sooner than the direct beam because the path is shorter when scattered from the front of the sample.</p>
<p>The time of flight vs 2theta monitor also has a large amount of complexity that is not simple to explain. The bright spot at [0, 0.00155] is the direct beam, while the spot at [60, 0.00155]is the scattered beam. The horizontal line at t=0.00155 must be incoherent scattering from the sample, as it must have had the same distance to all points on the detector. The curved lower branch could be incoherent scattering from where the beam enters the cryostat, as that is closest to the 180 deg point on the detector. The remaining hot spots are all some Debye Scherrer cones from a beam entering or exiting the sample environment, and the more blurry spots may be of even higher order.</p>
</div>
<div class="section" id="conditional-components">
<h2>Conditional components<a class="headerlink" href="#conditional-components" title="Permalink to this headline"></a></h2>
<p>We can use conditional components to investigate peaks in the final scattering pattern, by limiting the loggers to only recording events that for example end in a certain spot. Currently there are two available</p>
<ul class="simple">
<li><p>Union_conditional_standard</p></li>
<li><p>Union_conditional_PSD</p></li>
</ul>
<p>The standard version allows limits for energy, time and number of scattering events for the neutron when it exits the <em>Union_master</em> simulation, in this case when it leaves the sample environment.</p>
<p>The PSD version propagates the final neutron states to a given rectangular surface and it is possible to filter the logger events on the neutron state when it reaches this surface, and ignores all events that misses. This is what we will use here to investigate a peak in the scattering pattern. We also set a time limit as our detector is time of flight sensitive.</p>
<p>Here are the important parameters for the Union_conditional_PSD component</p>
<ul class="simple">
<li><p>target_loggers : comma separated string of logger names this conditional should affect</p></li>
<li><p>xwidth : width of rectangle</p></li>
<li><p>yheight : height of rectangle</p></li>
<li><p>time_min : lower time limit for condition</p></li>
<li><p>time_max : upper time limit for condition</p></li>
<li><p>overwrite_logger_weight : If set to 1, will weight logger results with the final ray weight</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Set up instrument parameters describing what spot to investigate</span>
<span class="n">instrument</span><span class="o">.</span><span class="n">add_parameter</span><span class="p">(</span><span class="s2">&quot;tag_angle&quot;</span><span class="p">,</span> <span class="n">value</span><span class="o">=-</span><span class="mi">95</span><span class="p">)</span>
<span class="n">instrument</span><span class="o">.</span><span class="n">add_parameter</span><span class="p">(</span><span class="s2">&quot;tag_time&quot;</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="mf">0.00188</span><span class="p">)</span>
<span class="n">instrument</span><span class="o">.</span><span class="n">add_parameter</span><span class="p">(</span><span class="s2">&quot;tag_interval&quot;</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="mf">9E-5</span><span class="p">)</span>

<span class="c1"># Set up an arm pointing to the relevant spot</span>
<span class="n">spot_dir</span> <span class="o">=</span> <span class="n">instrument</span><span class="o">.</span><span class="n">add_component</span><span class="p">(</span><span class="s2">&quot;spot_dir&quot;</span><span class="p">,</span> <span class="s2">&quot;Arm&quot;</span><span class="p">,</span>
                                    <span class="n">RELATIVE</span><span class="o">=</span><span class="n">cryostat_center</span><span class="p">,</span> <span class="n">before</span><span class="o">=</span><span class="s2">&quot;master&quot;</span><span class="p">)</span>
<span class="n">spot_dir</span><span class="o">.</span><span class="n">set_ROTATED</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;tag_angle&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">RELATIVE</span><span class="o">=</span><span class="n">cryostat_center</span><span class="p">)</span>

<span class="c1"># Set up a conditional component targeting all our loggers</span>
<span class="n">PSD_conditional</span> <span class="o">=</span> <span class="n">instrument</span><span class="o">.</span><span class="n">add_component</span><span class="p">(</span><span class="s2">&quot;space_all_PSD_conditional&quot;</span><span class="p">,</span> <span class="s2">&quot;Union_conditional_PSD&quot;</span><span class="p">,</span>
                                           <span class="n">before</span><span class="o">=</span><span class="s2">&quot;master&quot;</span><span class="p">)</span>

<span class="n">loggers</span> <span class="o">=</span> <span class="s1">&#39;&quot;logger_space_zx,logger_space_zy,logger_time_all,logger_2DQ_sample,logger_2DQ_environment&quot;&#39;</span>
<span class="n">PSD_conditional</span><span class="o">.</span><span class="n">target_loggers</span> <span class="o">=</span> <span class="n">loggers</span>
<span class="n">PSD_conditional</span><span class="o">.</span><span class="n">xwidth</span> <span class="o">=</span> <span class="mf">0.2</span>
<span class="n">PSD_conditional</span><span class="o">.</span><span class="n">yheight</span> <span class="o">=</span> <span class="mf">0.2</span>
<span class="n">PSD_conditional</span><span class="o">.</span><span class="n">time_min</span> <span class="o">=</span> <span class="s2">&quot;tag_time-0.5*tag_interval&quot;</span>
<span class="n">PSD_conditional</span><span class="o">.</span><span class="n">time_max</span> <span class="o">=</span> <span class="s2">&quot;tag_time+0.5*tag_interval&quot;</span>
<span class="c1"># Ensure the position of the conditional rectangle is on the detector surface</span>
<span class="n">PSD_conditional</span><span class="o">.</span><span class="n">set_AT</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">],</span> <span class="n">RELATIVE</span><span class="o">=</span><span class="n">spot_dir</span><span class="p">)</span> 

<span class="c1"># Add a monitor with flag that is only active when the condition in the conditional is true</span>
<span class="n">instrument</span><span class="o">.</span><span class="n">add_declare_var</span><span class="p">(</span><span class="s2">&quot;int&quot;</span><span class="p">,</span> <span class="s2">&quot;flag1&quot;</span><span class="p">)</span>
<span class="n">logger_space_zx</span><span class="o">.</span><span class="n">logger_conditional_extend_index</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">master</span><span class="o">.</span><span class="n">append_EXTEND</span><span class="p">(</span><span class="s2">&quot;flag1 = logger_conditional_extend_array[1];&quot;</span><span class="p">)</span>

<span class="c1"># Copy of our banana detector, but with WHEN condition to verify we are investigating the right peak</span>
<span class="n">banana_detector</span> <span class="o">=</span> <span class="n">instrument</span><span class="o">.</span><span class="n">add_component</span><span class="p">(</span><span class="s2">&quot;banana_detector_limited&quot;</span><span class="p">,</span> <span class="s2">&quot;Monitor_nD&quot;</span><span class="p">)</span>
<span class="n">banana_detector</span><span class="o">.</span><span class="n">set_RELATIVE</span><span class="p">(</span><span class="n">cryostat_center</span><span class="p">)</span>
<span class="n">banana_detector</span><span class="o">.</span><span class="n">xwidth</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">banana_detector</span><span class="o">.</span><span class="n">yheight</span> <span class="o">=</span> <span class="mf">0.2</span>
<span class="n">banana_detector</span><span class="o">.</span><span class="n">restore_neutron</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">options</span> <span class="o">=</span> <span class="s1">&#39;&quot;banana, theta limits=[-180,180] bins=361, t limits=[0.0011 0.0025] bins=500&quot;&#39;</span>
<span class="n">banana_detector</span><span class="o">.</span><span class="n">options</span> <span class="o">=</span> <span class="n">options</span>
<span class="n">banana_detector</span><span class="o">.</span><span class="n">filename</span> <span class="o">=</span> <span class="s1">&#39;&quot;tof_b_limited.dat&quot;&#39;</span>
<span class="n">banana_detector</span><span class="o">.</span><span class="n">set_WHEN</span><span class="p">(</span><span class="s2">&quot;flag1 &gt; 0&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="run-the-simulation">
<h3>Run the simulation<a class="headerlink" href="#run-the-simulation" title="Permalink to this headline"></a></h3>
<p>We run the simulation again with a larger ncount, as the loggers now only record a small fraction of the scattered neutrons. You can investigate other areas of interest by changing <em>tag_angle</em>, <em>tag_time</em> and <em>tag_interval</em> to another interesting location on the time of flight detector.</p>
<p>If MPI is installed add mpi=N where N is the number of CPU cores available in your computer to speed up the simulation.</p>
<div class="cell tag_scroll-output docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">instrument</span><span class="o">.</span><span class="n">set_parameters</span><span class="p">(</span><span class="n">wavelength</span><span class="o">=</span><span class="n">wavelength</span><span class="p">,</span> <span class="n">A3_angle</span><span class="o">=</span><span class="n">theta</span><span class="p">,</span> 
                          <span class="n">tag_angle</span><span class="o">=-</span><span class="mi">95</span><span class="p">,</span> <span class="n">tag_time</span><span class="o">=</span><span class="mf">0.00188</span><span class="p">,</span> <span class="n">tag_interval</span><span class="o">=</span><span class="mf">9E-5</span><span class="p">)</span>
<span class="n">instrument</span><span class="o">.</span><span class="n">settings</span><span class="p">(</span><span class="n">ncount</span><span class="o">=</span><span class="mf">3E6</span><span class="p">)</span> <span class="c1"># Can add mpi to improve speed for this longer simulation</span>

<span class="n">data_con</span> <span class="o">=</span> <span class="n">instrument</span><span class="o">.</span><span class="n">backengine</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>INFO: Using directory: &quot;/Users/madsbertelsen/PaNOSC/McStasScript/github/McStasScript/docs/source/tutorial/data_folder/union_conditionals_0&quot;
INFO: Regenerating c-file: python_tutorial.c
CFLAGS= -I@MCCODE_LIB@/share/ -I@MCCODE_LIB@/share/
          INFO: Recompiling: ./python_tutorial.out
mccode-r.c:2837:3: warning: expression result unused [-Wunused-value]
  *t0;
  ^~~
In file included from /Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//contrib/union/Incoherent_process.comp:66:
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//share/Union_functions.c:1604:105: warning: incompatible function pointer types passing &#39;int (const struct saved_history_struct *, const struct saved_history_struct *)&#39; to parameter of type &#39;int (* _Nonnull)(const void *, const void *)&#39; [-Wincompatible-function-pointer-types]
  qsort(total_history.saved_histories,total_history.used_elements,sizeof (struct saved_history_struct), Sample_compare_history_intensities);
                                                                                                        ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include/stdlib.h:161:22: note: passing argument to parameter &#39;__compar&#39; here
            int (* _Nonnull __compar)(const void *, const void *));
                            ^
In file included from /Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//contrib/union/Incoherent_process.comp:66:
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//share/Union_functions.c:1613:20: warning: incompatible pointer types passing &#39;struct saved_history_struct *&#39; to parameter of type &#39;struct dynamic_history_list *&#39; [-Wincompatible-pointer-types]
    printf_history(&amp;total_history.saved_histories[history_iterate]);
                   ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
mccode-r.h:219:27: note: expanded from macro &#39;MPI_MASTER&#39;
#define MPI_MASTER(instr) instr
                          ^~~~~
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//share/Union_functions.c:1434:50: note: passing argument to parameter &#39;history&#39; here
void printf_history(struct dynamic_history_list *history) {
                                                 ^
In file included from /Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//contrib/union/Incoherent_process.comp:66:
In file included from /Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//share/Union_functions.c:2030:
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//share/Geometry_functions.c:839:1: warning: non-void function does not return a value in all control paths [-Wreturn-type]
};
^
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//share/Geometry_functions.c:883:1: warning: non-void function does not return a value [-Wreturn-type]
};
^
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//share/Geometry_functions.c:3274:42: warning: if statement has empty body [-Wempty-body]
    if (dist_to_corner &gt; sphere_2_radius); { sphere_2_radius = dist_to_corner ; }
                                         ^
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//share/Geometry_functions.c:3274:42: note: put the semicolon on a separate line to silence this warning
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//share/Geometry_functions.c:3276:42: warning: if statement has empty body [-Wempty-body]
    if (dist_to_corner &gt; sphere_2_radius); { sphere_2_radius = dist_to_corner ; }
                                         ^
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//share/Geometry_functions.c:3276:42: note: put the semicolon on a separate line to silence this warning
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//share/Geometry_functions.c:3278:42: warning: if statement has empty body [-Wempty-body]
    if (dist_to_corner &gt; sphere_2_radius); { sphere_2_radius = dist_to_corner ; }
                                         ^
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//share/Geometry_functions.c:3278:42: note: put the semicolon on a separate line to silence this warning
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//share/Geometry_functions.c:3280:42: warning: if statement has empty body [-Wempty-body]
    if (dist_to_corner &gt; sphere_2_radius); { sphere_2_radius = dist_to_corner ; }
                                         ^
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//share/Geometry_functions.c:3280:42: note: put the semicolon on a separate line to silence this warning
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//contrib/union/Single_crystal_process.comp:858:1: warning: non-void function does not return a value in all control paths [-Wreturn-type]
};
^
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//contrib/union/Union_logger_2D_space.comp:574:45: warning: format string is not a string literal (potentially insecure) [-Wformat-security]
  sprintf(this_storage.Detector_2D.Filename,filename);
                                            ^~~~~~~~
./python_tutorial.c:18255:18: note: expanded from macro &#39;filename&#39;
#define filename mcclogger_space_zx_filename
                 ^~~~~~~~~~~~~~~~~~~~~~~~~~~
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include/secure/_stdio.h:47:56: note: expanded from macro &#39;sprintf&#39;
  __builtin___sprintf_chk (str, 0, __darwin_obsz(str), __VA_ARGS__)
                                                       ^~~~~~~~~~~
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//contrib/union/Union_logger_2D_space.comp:574:45: note: treat the string as an argument to avoid this
  sprintf(this_storage.Detector_2D.Filename,filename);
                                            ^
                                            &quot;%s&quot;, 
./python_tutorial.c:18255:18: note: expanded from macro &#39;filename&#39;
#define filename mcclogger_space_zx_filename
                 ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include/secure/_stdio.h:47:56: note: expanded from macro &#39;sprintf&#39;
  __builtin___sprintf_chk (str, 0, __darwin_obsz(str), __VA_ARGS__)
                                                       ^
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//contrib/union/Union_logger_2D_space.comp:574:45: warning: format string is not a string literal (potentially insecure) [-Wformat-security]
  sprintf(this_storage.Detector_2D.Filename,filename);
                                            ^~~~~~~~
./python_tutorial.c:18498:18: note: expanded from macro &#39;filename&#39;
#define filename mcclogger_space_zy_filename
                 ^~~~~~~~~~~~~~~~~~~~~~~~~~~
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include/secure/_stdio.h:47:56: note: expanded from macro &#39;sprintf&#39;
  __builtin___sprintf_chk (str, 0, __darwin_obsz(str), __VA_ARGS__)
                                                       ^~~~~~~~~~~
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//contrib/union/Union_logger_2D_space.comp:574:45: note: treat the string as an argument to avoid this
  sprintf(this_storage.Detector_2D.Filename,filename);
                                            ^
                                            &quot;%s&quot;, 
./python_tutorial.c:18498:18: note: expanded from macro &#39;filename&#39;
#define filename mcclogger_space_zy_filename
                 ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include/secure/_stdio.h:47:56: note: expanded from macro &#39;sprintf&#39;
  __builtin___sprintf_chk (str, 0, __darwin_obsz(str), __VA_ARGS__)
                                                       ^
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//contrib/union/Union_logger_2DQ.comp:535:45: warning: format string is not a string literal (potentially insecure) [-Wformat-security]
  sprintf(this_storage.Detector_2D.Filename,filename);
                                            ^~~~~~~~
./python_tutorial.c:18741:18: note: expanded from macro &#39;filename&#39;
#define filename mcclogger_2DQ_sample_filename
                 ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include/secure/_stdio.h:47:56: note: expanded from macro &#39;sprintf&#39;
  __builtin___sprintf_chk (str, 0, __darwin_obsz(str), __VA_ARGS__)
                                                       ^~~~~~~~~~~
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//contrib/union/Union_logger_2DQ.comp:535:45: note: treat the string as an argument to avoid this
  sprintf(this_storage.Detector_2D.Filename,filename);
                                            ^
                                            &quot;%s&quot;, 
./python_tutorial.c:18741:18: note: expanded from macro &#39;filename&#39;
#define filename mcclogger_2DQ_sample_filename
                 ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include/secure/_stdio.h:47:56: note: expanded from macro &#39;sprintf&#39;
  __builtin___sprintf_chk (str, 0, __darwin_obsz(str), __VA_ARGS__)
                                                       ^
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//contrib/union/Union_logger_2DQ.comp:535:45: warning: format string is not a string literal (potentially insecure) [-Wformat-security]
  sprintf(this_storage.Detector_2D.Filename,filename);
                                            ^~~~~~~~
./python_tutorial.c:18971:18: note: expanded from macro &#39;filename&#39;
#define filename mcclogger_2DQ_environment_filename
                 ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include/secure/_stdio.h:47:56: note: expanded from macro &#39;sprintf&#39;
  __builtin___sprintf_chk (str, 0, __darwin_obsz(str), __VA_ARGS__)
                                                       ^~~~~~~~~~~
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//contrib/union/Union_logger_2DQ.comp:535:45: note: treat the string as an argument to avoid this
  sprintf(this_storage.Detector_2D.Filename,filename);
                                            ^
                                            &quot;%s&quot;, 
./python_tutorial.c:18971:18: note: expanded from macro &#39;filename&#39;
#define filename mcclogger_2DQ_environment_filename
                 ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include/secure/_stdio.h:47:56: note: expanded from macro &#39;sprintf&#39;
  __builtin___sprintf_chk (str, 0, __darwin_obsz(str), __VA_ARGS__)
                                                       ^
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//contrib/union/Union_logger_1D.comp:479:45: warning: format string is not a string literal (potentially insecure) [-Wformat-security]
  sprintf(this_storage.Detector_1D.Filename,filename);
                                            ^~~~~~~~
./python_tutorial.c:19197:18: note: expanded from macro &#39;filename&#39;
#define filename mcclogger_time_all_filename
                 ^~~~~~~~~~~~~~~~~~~~~~~~~~~
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include/secure/_stdio.h:47:56: note: expanded from macro &#39;sprintf&#39;
  __builtin___sprintf_chk (str, 0, __darwin_obsz(str), __VA_ARGS__)
                                                       ^~~~~~~~~~~
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//contrib/union/Union_logger_1D.comp:479:45: note: treat the string as an argument to avoid this
  sprintf(this_storage.Detector_1D.Filename,filename);
                                            ^
                                            &quot;%s&quot;, 
./python_tutorial.c:19197:18: note: expanded from macro &#39;filename&#39;
#define filename mcclogger_time_all_filename
                 ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include/secure/_stdio.h:47:56: note: expanded from macro &#39;sprintf&#39;
  __builtin___sprintf_chk (str, 0, __darwin_obsz(str), __VA_ARGS__)
                                                       ^
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//contrib/union/Union_master.comp:788:15: warning: left operand of comma operator has no effect [-Wunused-value]
          if (volume_index_main,Volumes[volume_index_main]-&gt;geometry.is_mask_volume == 0 ||
              ^~~~~~~~~~~~~~~~~
mccode-r.h:219:27: note: expanded from macro &#39;MPI_MASTER&#39;
#define MPI_MASTER(instr) instr
                          ^~~~~
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//contrib/union/Union_master.comp:788:90: warning: left operand of comma operator has no effect [-Wunused-value]
          if (volume_index_main,Volumes[volume_index_main]-&gt;geometry.is_mask_volume == 0 ||
          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~
mccode-r.h:219:27: note: expanded from macro &#39;MPI_MASTER&#39;
#define MPI_MASTER(instr) instr
                          ^~~~~
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//contrib/union/Union_master.comp:789:92: warning: left operand of comma operator has no effect [-Wunused-value]
              volume_index_main,Volumes[volume_index_main]-&gt;geometry.is_masked_volume == 0 ||
              ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~
mccode-r.h:219:27: note: expanded from macro &#39;MPI_MASTER&#39;
#define MPI_MASTER(instr) instr
                          ^~~~~
18 warnings generated.
INFO: ===
Opening input file &#39;/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//data/Al.laz&#39; (Table_Read_Offset)
Table from file &#39;Al.laz&#39; (block 1) is 26 x 18 (x=1:8), constant step. interpolation: linear
  &#39;# TITLE *Aluminum-Al-[FM3-M] Miller, H.P.jr.;DuMond, J.W.M.[1942] at 298 K; ...&#39;
PowderN: Al_powder: Reading 26 rows from Al.laz
PowderN: Al_powder: Read 26 reflections from file &#39;Al.laz&#39;
PowderN: Al_powder: Vc=66.4 [Angs] sigma_abs=0.924 [barn] sigma_inc=0.0328 [barn] reflections=Al.laz
Opening input file &#39;/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//data/YBaCuO.lau&#39; (Table_Read_Offset)
Single_crystal: YBaCuO.lau structure a=[3.816,0,0] b=[0,3.886,0] c=[0,0,11.677] V0=173.158
Single_crystal_process: YBaCuO_crystal: Read 62 reflections from file &#39;YBaCuO.lau&#39;
Single_crystal: YBaCuO_crystal: Vc=173.158 [Angs] sigma_abs=14.82 [barn] sigma_inc=2.105 [barn] reflections=YBaCuO.lau
starded conditional initialize 
---------------------------------------------------------------------
global_process_list.num_elements: 4
name of process [0]: Al_incoherent 
component index [0]: 1 
name of process [1]: Al_powder 
component index [1]: 2 
name of process [2]: YBaCuO_incoherent 
component index [2]: 4 
name of process [3]: YBaCuO_crystal 
component index [3]: 5 
---------------------------------------------------------------------
global_material_list.num_elements: 2
name of material    [0]: Al 
component index     [0]: 3 
my_absoprtion       [0]: 1.391566 
number of processes [0]: 2 
name of material    [1]: YBaCuO 
component index     [1]: 6 
my_absoprtion       [1]: 8.552630 
number of processes [1]: 2 
---------------------------------------------------------------------
global_geometry_list.num_elements: 2

name of geometry    [0]: sample 
component index     [0]: 9 
Volume.name         [0]: sample 
Volume.p_physics.is_vacuum           [0]: 0 
Volume.p_physics.my_absorption       [0]: 8.552630 
Volume.p_physics.number of processes [0]: 2 
Volume.geometry.shape                [0]: box 
Volume.geometry.center.x             [0]: 0.000000 
Volume.geometry.center.y             [0]: 0.000000 
Volume.geometry.center.z             [0]: 1.000000 
Volume.geometry.rotation_matrix[0]           [0]: [0.857254 0.000000 -0.514894] 
Volume.geometry.rotation_matrix[1]           [0]: [-0.000000 1.000000 0.000000] 
Volume.geometry.rotation_matrix[2]           [0]: [0.514894 -0.000000 0.857254] 
Volume.geometry.focus_data_array.elements[0].Aim             [0]: [0.000000 0.000000 1.000000] 

name of geometry    [1]: inner_cryostat_wall 
component index     [1]: 10 
Volume.name         [1]: inner_cryostat_wall 
Volume.p_physics.is_vacuum           [1]: 0 
Volume.p_physics.my_absorption       [1]: 1.391566 
Volume.p_physics.number of processes [1]: 2 
Volume.geometry.shape                [1]: cylinder 
Volume.geometry.center.x             [1]: 0.000000 
Volume.geometry.center.y             [1]: 0.010000 
Volume.geometry.center.z             [1]: 1.000000 
Volume.geometry.rotation_matrix[0]           [1]: [1.000000 0.000000 0.000000] 
Volume.geometry.rotation_matrix[1]           [1]: [0.000000 1.000000 0.000000] 
Volume.geometry.rotation_matrix[2]           [1]: [0.000000 0.000000 1.000000] 
Volume.geometry.geometry_parameters.cyl_radius [1]: 0.062100 
Volume.geometry.geometry_parameters.height [1]: 0.160000 
Volume.geometry.focus_data_array.elements[0].Aim             [1]: [0.000000 0.000000 1.000000] 

name of geometry    [2]: inner_cryostat_vacuum 
component index     [2]: 11 
Volume.name         [2]: inner_cryostat_vacuum 
Volume.p_physics.is_vacuum           [2]: 1 
Volume.p_physics.my_absorption       [2]: 0.000000 
Volume.p_physics.number of processes [2]: 0 
Volume.geometry.shape                [2]: cylinder 
Volume.geometry.center.x             [2]: 0.000000 
Volume.geometry.center.y             [2]: 0.010000 
Volume.geometry.center.z             [2]: 1.000000 
Volume.geometry.rotation_matrix[0]           [2]: [1.000000 0.000000 0.000000] 
Volume.geometry.rotation_matrix[1]           [2]: [0.000000 1.000000 0.000000] 
Volume.geometry.rotation_matrix[2]           [2]: [0.000000 0.000000 1.000000] 
Volume.geometry.geometry_parameters.cyl_radius [2]: 0.060000 
Volume.geometry.geometry_parameters.height [2]: 0.150000 
Volume.geometry.focus_data_array.elements[0].Aim             [2]: [0.000000 0.000000 1.000000] 

name of geometry    [3]: outer_cryostat_wall 
component index     [3]: 12 
Volume.name         [3]: outer_cryostat_wall 
Volume.p_physics.is_vacuum           [3]: 0 
Volume.p_physics.my_absorption       [3]: 1.391566 
Volume.p_physics.number of processes [3]: 2 
Volume.geometry.shape                [3]: cylinder 
Volume.geometry.center.x             [3]: 0.000000 
Volume.geometry.center.y             [3]: 0.032000 
Volume.geometry.center.z             [3]: 1.000000 
Volume.geometry.rotation_matrix[0]           [3]: [1.000000 0.000000 0.000000] 
Volume.geometry.rotation_matrix[1]           [3]: [0.000000 1.000000 0.000000] 
Volume.geometry.rotation_matrix[2]           [3]: [0.000000 0.000000 1.000000] 
Volume.geometry.geometry_parameters.cyl_radius [3]: 0.180000 
Volume.geometry.geometry_parameters.height [3]: 0.355000 
Volume.geometry.focus_data_array.elements[0].Aim             [3]: [0.000000 0.000000 1.000000] 

name of geometry    [4]: outer_cryostat_vacuum 
component index     [4]: 13 
Volume.name         [4]: outer_cryostat_vacuum 
Volume.p_physics.is_vacuum           [4]: 1 
Volume.p_physics.my_absorption       [4]: 0.000000 
Volume.p_physics.number of processes [4]: 0 
Volume.geometry.shape                [4]: cylinder 
Volume.geometry.center.x             [4]: 0.000000 
Volume.geometry.center.y             [4]: 0.037000 
Volume.geometry.center.z             [4]: 1.000000 
Volume.geometry.rotation_matrix[0]           [4]: [1.000000 0.000000 0.000000] 
Volume.geometry.rotation_matrix[1]           [4]: [0.000000 1.000000 0.000000] 
Volume.geometry.rotation_matrix[2]           [4]: [0.000000 0.000000 1.000000] 
Volume.geometry.geometry_parameters.cyl_radius [4]: 0.178000 
Volume.geometry.geometry_parameters.height [4]: 0.355000 
Volume.geometry.focus_data_array.elements[0].Aim             [4]: [0.000000 0.000000 1.000000] 
---------------------------------------------------------------------
number_of_volumes = 6
number_of_masks = 0
number_of_masked_volumes = 0

 ---- Overview of the lists generated for each volume ---- 
List overview for surrounding vacuum
LIST: Children for Volume                  0 = [1,2,3,4,5]
LIST: Direct_children for Volume           0 = [4,5]
LIST: Intersect_check_list for Volume      0 = [4,5]
LIST: Mask_intersect_list for Volume       0 = []
LIST: Destinations_list for Volume         0 = []
LIST: Reduced_destinations_list for Volume 0 = []
LIST: Next_volume_list for Volume          0 = [4,5]
LIST: mask_list for Volume                 0 = []
LIST: masked_by_list for Volume            0 = []
LIST: masked_by_mask_index_list for Volume 0 = []
      mask_mode for Volume                 0 = 0

List overview for sample with box shape made of YBaCuO
LIST: Children for Volume                  1 = []
LIST: Direct_children for Volume           1 = []
LIST: Intersect_check_list for Volume      1 = []
LIST: Mask_intersect_list for Volume       1 = []
LIST: Destinations_list for Volume         1 = [3]
LIST: Reduced_destinations_list for Volume 1 = [3]
LIST: Next_volume_list for Volume          1 = [3]
      Is_vacuum for Volume                 1 = 0
      is_mask_volume for Volume            1 = 0
      is_masked_volume for Volume          1 = 0
      is_exit_volume for Volume            1 = 0
LIST: mask_list for Volume                 1 = []
LIST: masked_by_list for Volume            1 = []
LIST: masked_by_mask_index_list for Volume 1 = []
      mask_mode for Volume                 1 = 0

List overview for inner_cryostat_wall with cylinder shape made of Al
LIST: Children for Volume                  2 = [1,3]
LIST: Direct_children for Volume           2 = [3]
LIST: Intersect_check_list for Volume      2 = [3]
LIST: Mask_intersect_list for Volume       2 = []
LIST: Destinations_list for Volume         2 = [5]
LIST: Reduced_destinations_list for Volume 2 = [5]
LIST: Next_volume_list for Volume          2 = [5,3]
      Is_vacuum for Volume                 2 = 0
      is_mask_volume for Volume            2 = 0
      is_masked_volume for Volume          2 = 0
      is_exit_volume for Volume            2 = 0
LIST: mask_list for Volume                 2 = []
LIST: masked_by_list for Volume            2 = []
LIST: masked_by_mask_index_list for Volume 2 = []
      mask_mode for Volume                 2 = 0

List overview for inner_cryostat_vacuum with cylinder shape made of Vacuum
LIST: Children for Volume                  3 = [1]
LIST: Direct_children for Volume           3 = [1]
LIST: Intersect_check_list for Volume      3 = [1]
LIST: Mask_intersect_list for Volume       3 = []
LIST: Destinations_list for Volume         3 = [2]
LIST: Reduced_destinations_list for Volume 3 = [2]
LIST: Next_volume_list for Volume          3 = [2,1]
      Is_vacuum for Volume                 3 = 1
      is_mask_volume for Volume            3 = 0
      is_masked_volume for Volume          3 = 0
      is_exit_volume for Volume            3 = 0
LIST: mask_list for Volume                 3 = []
LIST: masked_by_list for Volume            3 = []
LIST: masked_by_mask_index_list for Volume 3 = []
      mask_mode for Volume                 3 = 0

List overview for outer_cryostat_wall with cylinder shape made of Al
LIST: Children for Volume                  4 = [1,2,3]
LIST: Direct_children for Volume           4 = [2]
LIST: Intersect_check_list for Volume      4 = [5]
LIST: Mask_intersect_list for Volume       4 = []
LIST: Destinations_list for Volume         4 = [0]
LIST: Reduced_destinations_list for Volume 4 = []
LIST: Next_volume_list for Volume          4 = [0,5]
      Is_vacuum for Volume                 4 = 0
      is_mask_volume for Volume            4 = 0
      is_masked_volume for Volume          4 = 0
      is_exit_volume for Volume            4 = 0
LIST: mask_list for Volume                 4 = []
LIST: masked_by_list for Volume            4 = []
LIST: masked_by_mask_index_list for Volume 4 = []
      mask_mode for Volume                 4 = 0

List overview for outer_cryostat_vacuum with cylinder shape made of Vacuum
LIST: Children for Volume                  5 = [1,2,3]
LIST: Direct_children for Volume           5 = [2]
LIST: Intersect_check_list for Volume      5 = [2]
LIST: Mask_intersect_list for Volume       5 = []
LIST: Destinations_list for Volume         5 = [0,4]
LIST: Reduced_destinations_list for Volume 5 = [4]
LIST: Next_volume_list for Volume          5 = [0,4,2]
      Is_vacuum for Volume                 5 = 1
      is_mask_volume for Volume            5 = 0
      is_masked_volume for Volume          5 = 0
      is_exit_volume for Volume            5 = 0
LIST: mask_list for Volume                 5 = []
LIST: masked_by_list for Volume            5 = []
LIST: masked_by_mask_index_list for Volume 5 = []
      mask_mode for Volume                 5 = 0

Union_master component master initialized sucessfully
Detector: logger_space_zx_I=11749.2 logger_space_zx_ERR=20.7787 logger_space_zx_N=333615 &quot;logger_zx.dat&quot;
Detector: logger_space_zy_I=11749.2 logger_space_zy_ERR=20.7787 logger_space_zy_N=333611 &quot;logger_zy.dat&quot;
Detector: logger_2DQ_sample_I=11732.7 logger_2DQ_sample_ERR=20.7775 logger_2DQ_sample_N=326734 &quot;logger_2DQ_sample.dat&quot;
Detector: logger_2DQ_environment_I=16.5276 logger_2DQ_environment_ERR=0.223097 logger_2DQ_environment_N=6881 &quot;logger_2DQ_all.dat&quot;
Detector: logger_time_all_I=11749.2 logger_time_all_ERR=20.7787 logger_time_all_N=333509 &quot;scattering_time.dat&quot;
Detector: banana_detector_I=63498.1 banana_detector_ERR=57.759 banana_detector_N=1.80256e+06 &quot;tof_b.dat&quot;
Detector: banana_detector_limited_I=27.4384 banana_detector_limited_ERR=0.398979 banana_detector_limited_N=5688 &quot;tof_b_limited.dat&quot;
INFO: Placing instr file copy python_tutorial.instr in dataset /Users/madsbertelsen/PaNOSC/McStasScript/github/McStasScript/docs/source/tutorial/data_folder/union_conditionals_0
loading system configuration
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="confirm-our-conditional-is-on-the-desired-peak">
<h3>Confirm our conditional is on the desired peak<a class="headerlink" href="#confirm-our-conditional-is-on-the-desired-peak" title="Permalink to this headline"></a></h3>
<p>First we plot our 2theta / time of flight detector and the version limited to what the conditional records to confirm that we selected an appropriate region to investigate.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">banana</span> <span class="o">=</span> <span class="n">ms</span><span class="o">.</span><span class="n">name_search</span><span class="p">(</span><span class="s2">&quot;banana_detector&quot;</span><span class="p">,</span> <span class="n">data_con</span><span class="p">)</span>
<span class="n">banana</span><span class="o">.</span><span class="n">set_plot_options</span><span class="p">(</span><span class="n">log</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">orders_of_mag</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span> <span class="n">cut_max</span><span class="o">=</span><span class="mf">0.001</span><span class="p">)</span>

<span class="n">banana_limited</span> <span class="o">=</span> <span class="n">ms</span><span class="o">.</span><span class="n">name_search</span><span class="p">(</span><span class="s2">&quot;banana_detector_limited&quot;</span><span class="p">,</span> <span class="n">data_con</span><span class="p">)</span>
<span class="n">banana_limited</span><span class="o">.</span><span class="n">set_plot_options</span><span class="p">(</span><span class="n">log</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="n">ms</span><span class="o">.</span><span class="n">make_sub_plot</span><span class="p">([</span><span class="n">banana</span><span class="p">,</span> <span class="n">banana_limited</span><span class="p">],</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/Union_tutorial_4_conditionals_14_0.png" src="../_images/Union_tutorial_4_conditionals_14_0.png" />
</div>
</div>
</div>
</div>
<div class="section" id="plotting-the-loggers-now-limited-by-the-conditional">
<h2>Plotting the loggers, now limited by the conditional<a class="headerlink" href="#plotting-the-loggers-now-limited-by-the-conditional" title="Permalink to this headline"></a></h2>
<p>We use a different colormap here instead of the standard jet, because in jet the lowest and highest intensity are both dark colors. By choosing a colormap where zero intensity is white, it blends in with white from lack of data which is beneficial in this situation for clearly seeing the hotspots.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">logger_zx</span> <span class="o">=</span> <span class="n">ms</span><span class="o">.</span><span class="n">name_search</span><span class="p">(</span><span class="s2">&quot;logger_space_zx&quot;</span><span class="p">,</span> <span class="n">data_con</span><span class="p">)</span>
<span class="n">logger_zx</span><span class="o">.</span><span class="n">set_plot_options</span><span class="p">(</span><span class="n">log</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">orders_of_mag</span><span class="o">=</span><span class="mi">9</span><span class="p">,</span> <span class="n">colormap</span><span class="o">=</span><span class="s2">&quot;YlOrRd&quot;</span><span class="p">)</span>

<span class="n">logger_zy</span> <span class="o">=</span> <span class="n">ms</span><span class="o">.</span><span class="n">name_search</span><span class="p">(</span><span class="s2">&quot;logger_space_zy&quot;</span><span class="p">,</span> <span class="n">data_con</span><span class="p">)</span>
<span class="n">logger_zy</span><span class="o">.</span><span class="n">set_plot_options</span><span class="p">(</span><span class="n">log</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">orders_of_mag</span><span class="o">=</span><span class="mi">9</span><span class="p">,</span> <span class="n">colormap</span><span class="o">=</span><span class="s2">&quot;YlOrRd&quot;</span><span class="p">)</span>

<span class="n">logger_2DQ_sample</span> <span class="o">=</span> <span class="n">ms</span><span class="o">.</span><span class="n">name_search</span><span class="p">(</span><span class="s2">&quot;logger_2DQ_sample&quot;</span><span class="p">,</span> <span class="n">data_con</span><span class="p">)</span>
<span class="n">logger_2DQ_sample</span><span class="o">.</span><span class="n">set_plot_options</span><span class="p">(</span><span class="n">log</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">orders_of_mag</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span> <span class="n">colormap</span><span class="o">=</span><span class="s2">&quot;YlOrRd&quot;</span><span class="p">)</span>

<span class="n">logger_2DQ_env</span> <span class="o">=</span> <span class="n">ms</span><span class="o">.</span><span class="n">name_search</span><span class="p">(</span><span class="s2">&quot;logger_2DQ_environment&quot;</span><span class="p">,</span> <span class="n">data_con</span><span class="p">)</span>
<span class="n">logger_2DQ_env</span><span class="o">.</span><span class="n">set_plot_options</span><span class="p">(</span><span class="n">log</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">orders_of_mag</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span> <span class="n">colormap</span><span class="o">=</span><span class="s2">&quot;YlOrRd&quot;</span><span class="p">)</span>

<span class="n">ms</span><span class="o">.</span><span class="n">make_sub_plot</span><span class="p">([</span><span class="n">logger_zx</span><span class="p">,</span> <span class="n">logger_zy</span><span class="p">,</span> <span class="n">logger_2DQ_sample</span><span class="p">,</span> <span class="n">logger_2DQ_env</span><span class="p">],</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>

<span class="n">time</span> <span class="o">=</span> <span class="n">ms</span><span class="o">.</span><span class="n">name_search</span><span class="p">(</span><span class="s2">&quot;logger_time_all&quot;</span><span class="p">,</span> <span class="n">data_con</span><span class="p">)</span>
<span class="n">time</span><span class="o">.</span><span class="n">set_plot_options</span><span class="p">(</span><span class="n">log</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">orders_of_mag</span><span class="o">=</span><span class="mi">6</span><span class="p">)</span>

<span class="n">ms</span><span class="o">.</span><span class="n">make_sub_plot</span><span class="p">([</span><span class="n">time</span><span class="p">],</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">18</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/Union_tutorial_4_conditionals_16_0.png" src="../_images/Union_tutorial_4_conditionals_16_0.png" />
<img alt="../_images/Union_tutorial_4_conditionals_16_1.png" src="../_images/Union_tutorial_4_conditionals_16_1.png" />
</div>
</div>
</div>
<div class="section" id="interpreting-the-data-from-loggers-with-conditional">
<h2>Interpreting the data from loggers with conditional<a class="headerlink" href="#interpreting-the-data-from-loggers-with-conditional" title="Permalink to this headline"></a></h2>
<p>Now that the loggers only show scattering from neutrons that end in our specific peak of interest, we can explain the origin of this peak. The spatial loggers show that scattering primarily happens in the sample, and in the outer part of the cryostat where the scattered beam leaves the sample environment. It is in this case obvious the first scattering is in the sample, as the exit area is not within the direct beam, but one can create individual loggers for each scattering order in order to confirm this.</p>
<p>On the 2DQ logger for the sample it is clear the scattering is from the main Bragg peak (010 and 0-10). We see two peaks as a ray scattered from a Bragg peak will fulfil the Bragg condition of the opposite reciprocal indices. On the 2DQ logger for the sample environment, we see the brightest spot is a small part of a Debye-Scherrer cone. Scattered neutrons from other parts of this cone will not hit our conditional PSD, some may not even hit the detector at all.</p>
<p>That means this specific peak was an uneven number of single crystal scattering events in 010/0-10 in the sample followed by a powder scattering in the outer wall of the sample environment.</p>
</div>
<div class="section" id="using-the-final-weight-option">
<h2>Using the final weight option<a class="headerlink" href="#using-the-final-weight-option" title="Permalink to this headline"></a></h2>
<p>Here we rerun the simulation with the overwrite_logger_weight option in the conditional turned on to see the effect. Without it a ray is recorded in the loggers if it satisfy the conditional, but it does not matter how large the final weight is. For this reason, some rays with high sampling probability to reach the condition but low weight are represented more than is appropriate. This is mainly important when shielding is simulated, as ray that pass through the shielding needs can be heavily overrepresented.</p>
<div class="cell tag_scroll-output docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">PSD_conditional</span><span class="o">.</span><span class="n">overwrite_logger_weight</span> <span class="o">=</span> <span class="mi">1</span>

<span class="n">data_con_f</span> <span class="o">=</span> <span class="n">instrument</span><span class="o">.</span><span class="n">backengine</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>INFO: Using directory: &quot;/Users/madsbertelsen/PaNOSC/McStasScript/github/McStasScript/docs/source/tutorial/data_folder/union_conditionals_1&quot;
INFO: Regenerating c-file: python_tutorial.c
CFLAGS= -I@MCCODE_LIB@/share/ -I@MCCODE_LIB@/share/
          INFO: Recompiling: ./python_tutorial.out
mccode-r.c:2837:3: warning: expression result unused [-Wunused-value]
  *t0;
  ^~~
In file included from /Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//contrib/union/Incoherent_process.comp:66:
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//share/Union_functions.c:1604:105: warning: incompatible function pointer types passing &#39;int (const struct saved_history_struct *, const struct saved_history_struct *)&#39; to parameter of type &#39;int (* _Nonnull)(const void *, const void *)&#39; [-Wincompatible-function-pointer-types]
  qsort(total_history.saved_histories,total_history.used_elements,sizeof (struct saved_history_struct), Sample_compare_history_intensities);
                                                                                                        ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include/stdlib.h:161:22: note: passing argument to parameter &#39;__compar&#39; here
            int (* _Nonnull __compar)(const void *, const void *));
                            ^
In file included from /Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//contrib/union/Incoherent_process.comp:66:
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//share/Union_functions.c:1613:20: warning: incompatible pointer types passing &#39;struct saved_history_struct *&#39; to parameter of type &#39;struct dynamic_history_list *&#39; [-Wincompatible-pointer-types]
    printf_history(&amp;total_history.saved_histories[history_iterate]);
                   ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
mccode-r.h:219:27: note: expanded from macro &#39;MPI_MASTER&#39;
#define MPI_MASTER(instr) instr
                          ^~~~~
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//share/Union_functions.c:1434:50: note: passing argument to parameter &#39;history&#39; here
void printf_history(struct dynamic_history_list *history) {
                                                 ^
In file included from /Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//contrib/union/Incoherent_process.comp:66:
In file included from /Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//share/Union_functions.c:2030:
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//share/Geometry_functions.c:839:1: warning: non-void function does not return a value in all control paths [-Wreturn-type]
};
^
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//share/Geometry_functions.c:883:1: warning: non-void function does not return a value [-Wreturn-type]
};
^
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//share/Geometry_functions.c:3274:42: warning: if statement has empty body [-Wempty-body]
    if (dist_to_corner &gt; sphere_2_radius); { sphere_2_radius = dist_to_corner ; }
                                         ^
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//share/Geometry_functions.c:3274:42: note: put the semicolon on a separate line to silence this warning
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//share/Geometry_functions.c:3276:42: warning: if statement has empty body [-Wempty-body]
    if (dist_to_corner &gt; sphere_2_radius); { sphere_2_radius = dist_to_corner ; }
                                         ^
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//share/Geometry_functions.c:3276:42: note: put the semicolon on a separate line to silence this warning
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//share/Geometry_functions.c:3278:42: warning: if statement has empty body [-Wempty-body]
    if (dist_to_corner &gt; sphere_2_radius); { sphere_2_radius = dist_to_corner ; }
                                         ^
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//share/Geometry_functions.c:3278:42: note: put the semicolon on a separate line to silence this warning
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//share/Geometry_functions.c:3280:42: warning: if statement has empty body [-Wempty-body]
    if (dist_to_corner &gt; sphere_2_radius); { sphere_2_radius = dist_to_corner ; }
                                         ^
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//share/Geometry_functions.c:3280:42: note: put the semicolon on a separate line to silence this warning
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//contrib/union/Single_crystal_process.comp:858:1: warning: non-void function does not return a value in all control paths [-Wreturn-type]
};
^
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//contrib/union/Union_logger_2D_space.comp:574:45: warning: format string is not a string literal (potentially insecure) [-Wformat-security]
  sprintf(this_storage.Detector_2D.Filename,filename);
                                            ^~~~~~~~
./python_tutorial.c:18255:18: note: expanded from macro &#39;filename&#39;
#define filename mcclogger_space_zx_filename
                 ^~~~~~~~~~~~~~~~~~~~~~~~~~~
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include/secure/_stdio.h:47:56: note: expanded from macro &#39;sprintf&#39;
  __builtin___sprintf_chk (str, 0, __darwin_obsz(str), __VA_ARGS__)
                                                       ^~~~~~~~~~~
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//contrib/union/Union_logger_2D_space.comp:574:45: note: treat the string as an argument to avoid this
  sprintf(this_storage.Detector_2D.Filename,filename);
                                            ^
                                            &quot;%s&quot;, 
./python_tutorial.c:18255:18: note: expanded from macro &#39;filename&#39;
#define filename mcclogger_space_zx_filename
                 ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include/secure/_stdio.h:47:56: note: expanded from macro &#39;sprintf&#39;
  __builtin___sprintf_chk (str, 0, __darwin_obsz(str), __VA_ARGS__)
                                                       ^
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//contrib/union/Union_logger_2D_space.comp:574:45: warning: format string is not a string literal (potentially insecure) [-Wformat-security]
  sprintf(this_storage.Detector_2D.Filename,filename);
                                            ^~~~~~~~
./python_tutorial.c:18498:18: note: expanded from macro &#39;filename&#39;
#define filename mcclogger_space_zy_filename
                 ^~~~~~~~~~~~~~~~~~~~~~~~~~~
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include/secure/_stdio.h:47:56: note: expanded from macro &#39;sprintf&#39;
  __builtin___sprintf_chk (str, 0, __darwin_obsz(str), __VA_ARGS__)
                                                       ^~~~~~~~~~~
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//contrib/union/Union_logger_2D_space.comp:574:45: note: treat the string as an argument to avoid this
  sprintf(this_storage.Detector_2D.Filename,filename);
                                            ^
                                            &quot;%s&quot;, 
./python_tutorial.c:18498:18: note: expanded from macro &#39;filename&#39;
#define filename mcclogger_space_zy_filename
                 ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include/secure/_stdio.h:47:56: note: expanded from macro &#39;sprintf&#39;
  __builtin___sprintf_chk (str, 0, __darwin_obsz(str), __VA_ARGS__)
                                                       ^
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//contrib/union/Union_logger_2DQ.comp:535:45: warning: format string is not a string literal (potentially insecure) [-Wformat-security]
  sprintf(this_storage.Detector_2D.Filename,filename);
                                            ^~~~~~~~
./python_tutorial.c:18741:18: note: expanded from macro &#39;filename&#39;
#define filename mcclogger_2DQ_sample_filename
                 ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include/secure/_stdio.h:47:56: note: expanded from macro &#39;sprintf&#39;
  __builtin___sprintf_chk (str, 0, __darwin_obsz(str), __VA_ARGS__)
                                                       ^~~~~~~~~~~
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//contrib/union/Union_logger_2DQ.comp:535:45: note: treat the string as an argument to avoid this
  sprintf(this_storage.Detector_2D.Filename,filename);
                                            ^
                                            &quot;%s&quot;, 
./python_tutorial.c:18741:18: note: expanded from macro &#39;filename&#39;
#define filename mcclogger_2DQ_sample_filename
                 ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include/secure/_stdio.h:47:56: note: expanded from macro &#39;sprintf&#39;
  __builtin___sprintf_chk (str, 0, __darwin_obsz(str), __VA_ARGS__)
                                                       ^
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//contrib/union/Union_logger_2DQ.comp:535:45: warning: format string is not a string literal (potentially insecure) [-Wformat-security]
  sprintf(this_storage.Detector_2D.Filename,filename);
                                            ^~~~~~~~
./python_tutorial.c:18971:18: note: expanded from macro &#39;filename&#39;
#define filename mcclogger_2DQ_environment_filename
                 ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include/secure/_stdio.h:47:56: note: expanded from macro &#39;sprintf&#39;
  __builtin___sprintf_chk (str, 0, __darwin_obsz(str), __VA_ARGS__)
                                                       ^~~~~~~~~~~
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//contrib/union/Union_logger_2DQ.comp:535:45: note: treat the string as an argument to avoid this
  sprintf(this_storage.Detector_2D.Filename,filename);
                                            ^
                                            &quot;%s&quot;, 
./python_tutorial.c:18971:18: note: expanded from macro &#39;filename&#39;
#define filename mcclogger_2DQ_environment_filename
                 ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include/secure/_stdio.h:47:56: note: expanded from macro &#39;sprintf&#39;
  __builtin___sprintf_chk (str, 0, __darwin_obsz(str), __VA_ARGS__)
                                                       ^
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//contrib/union/Union_logger_1D.comp:479:45: warning: format string is not a string literal (potentially insecure) [-Wformat-security]
  sprintf(this_storage.Detector_1D.Filename,filename);
                                            ^~~~~~~~
./python_tutorial.c:19197:18: note: expanded from macro &#39;filename&#39;
#define filename mcclogger_time_all_filename
                 ^~~~~~~~~~~~~~~~~~~~~~~~~~~
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include/secure/_stdio.h:47:56: note: expanded from macro &#39;sprintf&#39;
  __builtin___sprintf_chk (str, 0, __darwin_obsz(str), __VA_ARGS__)
                                                       ^~~~~~~~~~~
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//contrib/union/Union_logger_1D.comp:479:45: note: treat the string as an argument to avoid this
  sprintf(this_storage.Detector_1D.Filename,filename);
                                            ^
                                            &quot;%s&quot;, 
./python_tutorial.c:19197:18: note: expanded from macro &#39;filename&#39;
#define filename mcclogger_time_all_filename
                 ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include/secure/_stdio.h:47:56: note: expanded from macro &#39;sprintf&#39;
  __builtin___sprintf_chk (str, 0, __darwin_obsz(str), __VA_ARGS__)
                                                       ^
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//contrib/union/Union_master.comp:788:15: warning: left operand of comma operator has no effect [-Wunused-value]
          if (volume_index_main,Volumes[volume_index_main]-&gt;geometry.is_mask_volume == 0 ||
              ^~~~~~~~~~~~~~~~~
mccode-r.h:219:27: note: expanded from macro &#39;MPI_MASTER&#39;
#define MPI_MASTER(instr) instr
                          ^~~~~
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//contrib/union/Union_master.comp:788:90: warning: left operand of comma operator has no effect [-Wunused-value]
          if (volume_index_main,Volumes[volume_index_main]-&gt;geometry.is_mask_volume == 0 ||
          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~
mccode-r.h:219:27: note: expanded from macro &#39;MPI_MASTER&#39;
#define MPI_MASTER(instr) instr
                          ^~~~~
/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//contrib/union/Union_master.comp:789:92: warning: left operand of comma operator has no effect [-Wunused-value]
              volume_index_main,Volumes[volume_index_main]-&gt;geometry.is_masked_volume == 0 ||
              ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~
mccode-r.h:219:27: note: expanded from macro &#39;MPI_MASTER&#39;
#define MPI_MASTER(instr) instr
                          ^~~~~
18 warnings generated.
INFO: ===
Opening input file &#39;/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//data/Al.laz&#39; (Table_Read_Offset)
Table from file &#39;Al.laz&#39; (block 1) is 26 x 18 (x=1:8), constant step. interpolation: linear
  &#39;# TITLE *Aluminum-Al-[FM3-M] Miller, H.P.jr.;DuMond, J.W.M.[1942] at 298 K; ...&#39;
PowderN: Al_powder: Reading 26 rows from Al.laz
PowderN: Al_powder: Read 26 reflections from file &#39;Al.laz&#39;
PowderN: Al_powder: Vc=66.4 [Angs] sigma_abs=0.924 [barn] sigma_inc=0.0328 [barn] reflections=Al.laz
Opening input file &#39;/Applications/McStas-2.7.1.app/Contents/Resources/mcstas/2.7.1//data/YBaCuO.lau&#39; (Table_Read_Offset)
Single_crystal: YBaCuO.lau structure a=[3.816,0,0] b=[0,3.886,0] c=[0,0,11.677] V0=173.158
Single_crystal_process: YBaCuO_crystal: Read 62 reflections from file &#39;YBaCuO.lau&#39;
Single_crystal: YBaCuO_crystal: Vc=173.158 [Angs] sigma_abs=14.82 [barn] sigma_inc=2.105 [barn] reflections=YBaCuO.lau
starded conditional initialize 
---------------------------------------------------------------------
global_process_list.num_elements: 4
name of process [0]: Al_incoherent 
component index [0]: 1 
name of process [1]: Al_powder 
component index [1]: 2 
name of process [2]: YBaCuO_incoherent 
component index [2]: 4 
name of process [3]: YBaCuO_crystal 
component index [3]: 5 
---------------------------------------------------------------------
global_material_list.num_elements: 2
name of material    [0]: Al 
component index     [0]: 3 
my_absoprtion       [0]: 1.391566 
number of processes [0]: 2 
name of material    [1]: YBaCuO 
component index     [1]: 6 
my_absoprtion       [1]: 8.552630 
number of processes [1]: 2 
---------------------------------------------------------------------
global_geometry_list.num_elements: 2

name of geometry    [0]: sample 
component index     [0]: 9 
Volume.name         [0]: sample 
Volume.p_physics.is_vacuum           [0]: 0 
Volume.p_physics.my_absorption       [0]: 8.552630 
Volume.p_physics.number of processes [0]: 2 
Volume.geometry.shape                [0]: box 
Volume.geometry.center.x             [0]: 0.000000 
Volume.geometry.center.y             [0]: 0.000000 
Volume.geometry.center.z             [0]: 1.000000 
Volume.geometry.rotation_matrix[0]           [0]: [0.857254 0.000000 -0.514894] 
Volume.geometry.rotation_matrix[1]           [0]: [-0.000000 1.000000 0.000000] 
Volume.geometry.rotation_matrix[2]           [0]: [0.514894 -0.000000 0.857254] 
Volume.geometry.focus_data_array.elements[0].Aim             [0]: [0.000000 0.000000 1.000000] 

name of geometry    [1]: inner_cryostat_wall 
component index     [1]: 10 
Volume.name         [1]: inner_cryostat_wall 
Volume.p_physics.is_vacuum           [1]: 0 
Volume.p_physics.my_absorption       [1]: 1.391566 
Volume.p_physics.number of processes [1]: 2 
Volume.geometry.shape                [1]: cylinder 
Volume.geometry.center.x             [1]: 0.000000 
Volume.geometry.center.y             [1]: 0.010000 
Volume.geometry.center.z             [1]: 1.000000 
Volume.geometry.rotation_matrix[0]           [1]: [1.000000 0.000000 0.000000] 
Volume.geometry.rotation_matrix[1]           [1]: [0.000000 1.000000 0.000000] 
Volume.geometry.rotation_matrix[2]           [1]: [0.000000 0.000000 1.000000] 
Volume.geometry.geometry_parameters.cyl_radius [1]: 0.062100 
Volume.geometry.geometry_parameters.height [1]: 0.160000 
Volume.geometry.focus_data_array.elements[0].Aim             [1]: [0.000000 0.000000 1.000000] 

name of geometry    [2]: inner_cryostat_vacuum 
component index     [2]: 11 
Volume.name         [2]: inner_cryostat_vacuum 
Volume.p_physics.is_vacuum           [2]: 1 
Volume.p_physics.my_absorption       [2]: 0.000000 
Volume.p_physics.number of processes [2]: 0 
Volume.geometry.shape                [2]: cylinder 
Volume.geometry.center.x             [2]: 0.000000 
Volume.geometry.center.y             [2]: 0.010000 
Volume.geometry.center.z             [2]: 1.000000 
Volume.geometry.rotation_matrix[0]           [2]: [1.000000 0.000000 0.000000] 
Volume.geometry.rotation_matrix[1]           [2]: [0.000000 1.000000 0.000000] 
Volume.geometry.rotation_matrix[2]           [2]: [0.000000 0.000000 1.000000] 
Volume.geometry.geometry_parameters.cyl_radius [2]: 0.060000 
Volume.geometry.geometry_parameters.height [2]: 0.150000 
Volume.geometry.focus_data_array.elements[0].Aim             [2]: [0.000000 0.000000 1.000000] 

name of geometry    [3]: outer_cryostat_wall 
component index     [3]: 12 
Volume.name         [3]: outer_cryostat_wall 
Volume.p_physics.is_vacuum           [3]: 0 
Volume.p_physics.my_absorption       [3]: 1.391566 
Volume.p_physics.number of processes [3]: 2 
Volume.geometry.shape                [3]: cylinder 
Volume.geometry.center.x             [3]: 0.000000 
Volume.geometry.center.y             [3]: 0.032000 
Volume.geometry.center.z             [3]: 1.000000 
Volume.geometry.rotation_matrix[0]           [3]: [1.000000 0.000000 0.000000] 
Volume.geometry.rotation_matrix[1]           [3]: [0.000000 1.000000 0.000000] 
Volume.geometry.rotation_matrix[2]           [3]: [0.000000 0.000000 1.000000] 
Volume.geometry.geometry_parameters.cyl_radius [3]: 0.180000 
Volume.geometry.geometry_parameters.height [3]: 0.355000 
Volume.geometry.focus_data_array.elements[0].Aim             [3]: [0.000000 0.000000 1.000000] 

name of geometry    [4]: outer_cryostat_vacuum 
component index     [4]: 13 
Volume.name         [4]: outer_cryostat_vacuum 
Volume.p_physics.is_vacuum           [4]: 1 
Volume.p_physics.my_absorption       [4]: 0.000000 
Volume.p_physics.number of processes [4]: 0 
Volume.geometry.shape                [4]: cylinder 
Volume.geometry.center.x             [4]: 0.000000 
Volume.geometry.center.y             [4]: 0.037000 
Volume.geometry.center.z             [4]: 1.000000 
Volume.geometry.rotation_matrix[0]           [4]: [1.000000 0.000000 0.000000] 
Volume.geometry.rotation_matrix[1]           [4]: [0.000000 1.000000 0.000000] 
Volume.geometry.rotation_matrix[2]           [4]: [0.000000 0.000000 1.000000] 
Volume.geometry.geometry_parameters.cyl_radius [4]: 0.178000 
Volume.geometry.geometry_parameters.height [4]: 0.355000 
Volume.geometry.focus_data_array.elements[0].Aim             [4]: [0.000000 0.000000 1.000000] 
---------------------------------------------------------------------
number_of_volumes = 6
number_of_masks = 0
number_of_masked_volumes = 0

 ---- Overview of the lists generated for each volume ---- 
List overview for surrounding vacuum
LIST: Children for Volume                  0 = [1,2,3,4,5]
LIST: Direct_children for Volume           0 = [4,5]
LIST: Intersect_check_list for Volume      0 = [4,5]
LIST: Mask_intersect_list for Volume       0 = []
LIST: Destinations_list for Volume         0 = []
LIST: Reduced_destinations_list for Volume 0 = []
LIST: Next_volume_list for Volume          0 = [4,5]
LIST: mask_list for Volume                 0 = []
LIST: masked_by_list for Volume            0 = []
LIST: masked_by_mask_index_list for Volume 0 = []
      mask_mode for Volume                 0 = 0

List overview for sample with box shape made of YBaCuO
LIST: Children for Volume                  1 = []
LIST: Direct_children for Volume           1 = []
LIST: Intersect_check_list for Volume      1 = []
LIST: Mask_intersect_list for Volume       1 = []
LIST: Destinations_list for Volume         1 = [3]
LIST: Reduced_destinations_list for Volume 1 = [3]
LIST: Next_volume_list for Volume          1 = [3]
      Is_vacuum for Volume                 1 = 0
      is_mask_volume for Volume            1 = 0
      is_masked_volume for Volume          1 = 0
      is_exit_volume for Volume            1 = 0
LIST: mask_list for Volume                 1 = []
LIST: masked_by_list for Volume            1 = []
LIST: masked_by_mask_index_list for Volume 1 = []
      mask_mode for Volume                 1 = 0

List overview for inner_cryostat_wall with cylinder shape made of Al
LIST: Children for Volume                  2 = [1,3]
LIST: Direct_children for Volume           2 = [3]
LIST: Intersect_check_list for Volume      2 = [3]
LIST: Mask_intersect_list for Volume       2 = []
LIST: Destinations_list for Volume         2 = [5]
LIST: Reduced_destinations_list for Volume 2 = [5]
LIST: Next_volume_list for Volume          2 = [5,3]
      Is_vacuum for Volume                 2 = 0
      is_mask_volume for Volume            2 = 0
      is_masked_volume for Volume          2 = 0
      is_exit_volume for Volume            2 = 0
LIST: mask_list for Volume                 2 = []
LIST: masked_by_list for Volume            2 = []
LIST: masked_by_mask_index_list for Volume 2 = []
      mask_mode for Volume                 2 = 0

List overview for inner_cryostat_vacuum with cylinder shape made of Vacuum
LIST: Children for Volume                  3 = [1]
LIST: Direct_children for Volume           3 = [1]
LIST: Intersect_check_list for Volume      3 = [1]
LIST: Mask_intersect_list for Volume       3 = []
LIST: Destinations_list for Volume         3 = [2]
LIST: Reduced_destinations_list for Volume 3 = [2]
LIST: Next_volume_list for Volume          3 = [2,1]
      Is_vacuum for Volume                 3 = 1
      is_mask_volume for Volume            3 = 0
      is_masked_volume for Volume          3 = 0
      is_exit_volume for Volume            3 = 0
LIST: mask_list for Volume                 3 = []
LIST: masked_by_list for Volume            3 = []
LIST: masked_by_mask_index_list for Volume 3 = []
      mask_mode for Volume                 3 = 0

List overview for outer_cryostat_wall with cylinder shape made of Al
LIST: Children for Volume                  4 = [1,2,3]
LIST: Direct_children for Volume           4 = [2]
LIST: Intersect_check_list for Volume      4 = [5]
LIST: Mask_intersect_list for Volume       4 = []
LIST: Destinations_list for Volume         4 = [0]
LIST: Reduced_destinations_list for Volume 4 = []
LIST: Next_volume_list for Volume          4 = [0,5]
      Is_vacuum for Volume                 4 = 0
      is_mask_volume for Volume            4 = 0
      is_masked_volume for Volume          4 = 0
      is_exit_volume for Volume            4 = 0
LIST: mask_list for Volume                 4 = []
LIST: masked_by_list for Volume            4 = []
LIST: masked_by_mask_index_list for Volume 4 = []
      mask_mode for Volume                 4 = 0

List overview for outer_cryostat_vacuum with cylinder shape made of Vacuum
LIST: Children for Volume                  5 = [1,2,3]
LIST: Direct_children for Volume           5 = [2]
LIST: Intersect_check_list for Volume      5 = [2]
LIST: Mask_intersect_list for Volume       5 = []
LIST: Destinations_list for Volume         5 = [0,4]
LIST: Reduced_destinations_list for Volume 5 = [4]
LIST: Next_volume_list for Volume          5 = [0,4,2]
      Is_vacuum for Volume                 5 = 1
      is_mask_volume for Volume            5 = 0
      is_masked_volume for Volume          5 = 0
      is_exit_volume for Volume            5 = 0
LIST: mask_list for Volume                 5 = []
LIST: masked_by_list for Volume            5 = []
LIST: masked_by_mask_index_list for Volume 5 = []
      mask_mode for Volume                 5 = 0

Union_master component master initialized sucessfully
Detector: logger_space_zx_I=1376.76 logger_space_zx_ERR=2.50408 logger_space_zx_N=338033 &quot;logger_zx.dat&quot;
Detector: logger_space_zy_I=1376.76 logger_space_zy_ERR=2.50408 logger_space_zy_N=338031 &quot;logger_zy.dat&quot;
Detector: logger_2DQ_sample_I=1349.53 logger_2DQ_sample_ERR=2.47296 logger_2DQ_sample_N=331124 &quot;logger_2DQ_sample.dat&quot;
Detector: logger_2DQ_environment_I=27.2295 logger_2DQ_environment_ERR=0.393521 logger_2DQ_environment_N=6909 &quot;logger_2DQ_all.dat&quot;
Detector: logger_time_all_I=1376.75 logger_time_all_ERR=2.50408 logger_time_all_N=337904 &quot;scattering_time.dat&quot;
Detector: banana_detector_I=63478.8 banana_detector_ERR=57.7747 banana_detector_N=1.8026e+06 &quot;tof_b.dat&quot;
Detector: banana_detector_limited_I=27.0036 banana_detector_limited_ERR=0.393126 banana_detector_limited_N=5722 &quot;tof_b_limited.dat&quot;
INFO: Placing instr file copy python_tutorial.instr in dataset /Users/madsbertelsen/PaNOSC/McStasScript/github/McStasScript/docs/source/tutorial/data_folder/union_conditionals_1
loading system configuration
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">logger_zx</span> <span class="o">=</span> <span class="n">ms</span><span class="o">.</span><span class="n">name_search</span><span class="p">(</span><span class="s2">&quot;logger_space_zx&quot;</span><span class="p">,</span> <span class="n">data_con_f</span><span class="p">)</span>
<span class="n">logger_zx</span><span class="o">.</span><span class="n">set_plot_options</span><span class="p">(</span><span class="n">log</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">orders_of_mag</span><span class="o">=</span><span class="mi">9</span><span class="p">,</span> <span class="n">colormap</span><span class="o">=</span><span class="s2">&quot;YlOrRd&quot;</span><span class="p">)</span>

<span class="n">logger_zy</span> <span class="o">=</span> <span class="n">ms</span><span class="o">.</span><span class="n">name_search</span><span class="p">(</span><span class="s2">&quot;logger_space_zy&quot;</span><span class="p">,</span> <span class="n">data_con_f</span><span class="p">)</span>
<span class="n">logger_zy</span><span class="o">.</span><span class="n">set_plot_options</span><span class="p">(</span><span class="n">log</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">orders_of_mag</span><span class="o">=</span><span class="mi">9</span><span class="p">,</span> <span class="n">colormap</span><span class="o">=</span><span class="s2">&quot;YlOrRd&quot;</span><span class="p">)</span>

<span class="n">logger_2DQ_sample</span> <span class="o">=</span> <span class="n">ms</span><span class="o">.</span><span class="n">name_search</span><span class="p">(</span><span class="s2">&quot;logger_2DQ_sample&quot;</span><span class="p">,</span> <span class="n">data_con_f</span><span class="p">)</span>
<span class="n">logger_2DQ_sample</span><span class="o">.</span><span class="n">set_plot_options</span><span class="p">(</span><span class="n">log</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">orders_of_mag</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span> <span class="n">colormap</span><span class="o">=</span><span class="s2">&quot;YlOrRd&quot;</span><span class="p">)</span>

<span class="n">logger_2DQ_env</span> <span class="o">=</span> <span class="n">ms</span><span class="o">.</span><span class="n">name_search</span><span class="p">(</span><span class="s2">&quot;logger_2DQ_environment&quot;</span><span class="p">,</span> <span class="n">data_con_f</span><span class="p">)</span>
<span class="n">logger_2DQ_env</span><span class="o">.</span><span class="n">set_plot_options</span><span class="p">(</span><span class="n">log</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">orders_of_mag</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span> <span class="n">colormap</span><span class="o">=</span><span class="s2">&quot;YlOrRd&quot;</span><span class="p">)</span>

<span class="n">ms</span><span class="o">.</span><span class="n">make_sub_plot</span><span class="p">([</span><span class="n">logger_zx</span><span class="p">,</span> <span class="n">logger_zy</span><span class="p">,</span> <span class="n">logger_2DQ_sample</span><span class="p">,</span> <span class="n">logger_2DQ_env</span><span class="p">],</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>

<span class="n">time</span> <span class="o">=</span> <span class="n">ms</span><span class="o">.</span><span class="n">name_search</span><span class="p">(</span><span class="s2">&quot;logger_time_all&quot;</span><span class="p">,</span> <span class="n">data_con_f</span><span class="p">)</span>
<span class="n">time</span><span class="o">.</span><span class="n">set_plot_options</span><span class="p">(</span><span class="n">log</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">orders_of_mag</span><span class="o">=</span><span class="mi">6</span><span class="p">)</span>

<span class="n">ms</span><span class="o">.</span><span class="n">make_sub_plot</span><span class="p">([</span><span class="n">time</span><span class="p">],</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">18</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/Union_tutorial_4_conditionals_20_0.png" src="../_images/Union_tutorial_4_conditionals_20_0.png" />
<img alt="../_images/Union_tutorial_4_conditionals_20_1.png" src="../_images/Union_tutorial_4_conditionals_20_1.png" />
</div>
</div>
<div class="section" id="comparison-between-normal-and-overwrite-logger-weight">
<h3>Comparison between normal and overwrite_logger_weight<a class="headerlink" href="#comparison-between-normal-and-overwrite-logger-weight" title="Permalink to this headline"></a></h3>
<p>Here we make a direct comparison, and see only a slight difference in this case. No shielding is simulated here which would cause a much more clear difference.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">logger_zx</span> <span class="o">=</span> <span class="n">ms</span><span class="o">.</span><span class="n">name_search</span><span class="p">(</span><span class="s2">&quot;logger_space_zx&quot;</span><span class="p">,</span> <span class="n">data_con</span><span class="p">)</span>
<span class="n">logger_zx</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s2">&quot;Conditional&quot;</span><span class="p">)</span>
<span class="n">logger_zx</span><span class="o">.</span><span class="n">set_plot_options</span><span class="p">(</span><span class="n">log</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">orders_of_mag</span><span class="o">=</span><span class="mi">9</span><span class="p">,</span> <span class="n">colormap</span><span class="o">=</span><span class="s2">&quot;YlOrRd&quot;</span><span class="p">)</span>

<span class="n">logger_zy</span> <span class="o">=</span> <span class="n">ms</span><span class="o">.</span><span class="n">name_search</span><span class="p">(</span><span class="s2">&quot;logger_space_zy&quot;</span><span class="p">,</span> <span class="n">data_con</span><span class="p">)</span>
<span class="n">logger_zy</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s2">&quot;Conditional&quot;</span><span class="p">)</span>
<span class="n">logger_zy</span><span class="o">.</span><span class="n">set_plot_options</span><span class="p">(</span><span class="n">log</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">orders_of_mag</span><span class="o">=</span><span class="mi">9</span><span class="p">,</span> <span class="n">colormap</span><span class="o">=</span><span class="s2">&quot;YlOrRd&quot;</span><span class="p">)</span>

<span class="n">logger_zx_f</span> <span class="o">=</span> <span class="n">ms</span><span class="o">.</span><span class="n">name_search</span><span class="p">(</span><span class="s2">&quot;logger_space_zx&quot;</span><span class="p">,</span> <span class="n">data_con_f</span><span class="p">)</span>
<span class="n">logger_zx_f</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s2">&quot;Conditional final weight&quot;</span><span class="p">)</span>
<span class="n">logger_zx_f</span><span class="o">.</span><span class="n">set_plot_options</span><span class="p">(</span><span class="n">log</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">orders_of_mag</span><span class="o">=</span><span class="mi">9</span><span class="p">,</span> <span class="n">colormap</span><span class="o">=</span><span class="s2">&quot;YlOrRd&quot;</span><span class="p">)</span>

<span class="n">logger_zy_f</span> <span class="o">=</span> <span class="n">ms</span><span class="o">.</span><span class="n">name_search</span><span class="p">(</span><span class="s2">&quot;logger_space_zy&quot;</span><span class="p">,</span> <span class="n">data_con_f</span><span class="p">)</span>
<span class="n">logger_zy_f</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s2">&quot;Conditional final weight&quot;</span><span class="p">)</span>
<span class="n">logger_zy_f</span><span class="o">.</span><span class="n">set_plot_options</span><span class="p">(</span><span class="n">log</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">orders_of_mag</span><span class="o">=</span><span class="mi">9</span><span class="p">,</span> <span class="n">colormap</span><span class="o">=</span><span class="s2">&quot;YlOrRd&quot;</span><span class="p">)</span>

<span class="n">ms</span><span class="o">.</span><span class="n">make_sub_plot</span><span class="p">([</span><span class="n">logger_zx</span><span class="p">,</span> <span class="n">logger_zy</span><span class="p">,</span> <span class="n">logger_zx_f</span><span class="p">,</span> <span class="n">logger_zy_f</span><span class="p">],</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/Union_tutorial_4_conditionals_22_0.png" src="../_images/Union_tutorial_4_conditionals_22_0.png" />
</div>
</div>
</div>
</div>
</div>


              </div>
              
            
                <!-- Previous / next buttons -->
<div class='prev-next-area'> 
    <a class='left-prev' id="prev-link" href="Union_tutorial_3_loggers.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Visualizing what happens in Union master</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="Union_tutorial_5_masks.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Union tutorial on masks</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            
        </div>
    </div>
    <footer class="footer">
  <p>
    
      By Mads Bertelsen<br/>
    
        &copy; Copyright 2022, Mads Bertelsen.<br/>
  </p>
</footer>
</main>


      </div>
    </div>
  
  <script src="../_static/js/index.be7d3bbb2ef33a8344ce.js"></script>

  </body>
</html>